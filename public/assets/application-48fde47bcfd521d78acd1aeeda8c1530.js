/*!
 * jQuery JavaScript Library v1.10.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:48Z
 */
function slideup(){$("#search_form").slideUp(),$("#up").show(),$("#down").hide()}function slidedown(){$("#search_form").slideDown(),$("#up").hide(),$("#down").show()}!function(t,e){function n(t){var e=t.length,n=de.type(t);return de.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||"function"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t){var e=Te[t]={};return de.each(t.match(he)||[],function(t,n){e[n]=!0}),e}function r(t,n,i,r){if(de.acceptData(t)){var o,a,s=de.expando,l=t.nodeType,c=l?de.cache:t,d=l?t[s]:t[s]&&s;if(d&&c[d]&&(r||c[d].data)||i!==e||"string"!=typeof n)return d||(d=l?t[s]=ee.pop()||de.guid++:s),c[d]||(c[d]=l?{}:{toJSON:de.noop}),("object"==typeof n||"function"==typeof n)&&(r?c[d]=de.extend(c[d],n):c[d].data=de.extend(c[d].data,n)),a=c[d],r||(a.data||(a.data={}),a=a.data),i!==e&&(a[de.camelCase(n)]=i),"string"==typeof n?(o=a[n],null==o&&(o=a[de.camelCase(n)])):o=a,o}}function o(t,e,n){if(de.acceptData(t)){var i,r,o=t.nodeType,a=o?de.cache:t,l=o?t[de.expando]:de.expando;if(a[l]){if(e&&(i=n?a[l]:a[l].data)){de.isArray(e)?e=e.concat(de.map(e,de.camelCase)):e in i?e=[e]:(e=de.camelCase(e),e=e in i?[e]:e.split(" ")),r=e.length;for(;r--;)delete i[e[r]];if(n?!s(i):!de.isEmptyObject(i))return}(n||(delete a[l].data,s(a[l])))&&(o?de.cleanData([t],!0):de.support.deleteExpando||a!=a.window?delete a[l]:a[l]=null)}}}function a(t,n,i){if(i===e&&1===t.nodeType){var r="data-"+n.replace(Ae,"-$1").toLowerCase();if(i=t.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Se.test(i)?de.parseJSON(i):i}catch(o){}de.data(t,n,i)}else i=e}return i}function s(t){var e;for(e in t)if(("data"!==e||!de.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function l(){return!0}function c(){return!1}function d(){try{return q.activeElement}catch(t){}}function u(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function h(t,e,n){if(de.isFunction(e))return de.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return de.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(We.test(e))return de.filter(e,t,n);e=de.filter(e,t)}return de.grep(t,function(t){return de.inArray(t,e)>=0!==n})}function p(t){var e=Ge.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function f(t,e){return de.nodeName(t,"table")&&de.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function g(t){return t.type=(null!==de.find.attr(t,"type"))+"/"+t.type,t}function m(t){var e=on.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function v(t,e){for(var n,i=0;null!=(n=t[i]);i++)de._data(n,"globalEval",!e||de._data(e[i],"globalEval"))}function y(t,e){if(1===e.nodeType&&de.hasData(t)){var n,i,r,o=de._data(t),a=de._data(e,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)de.event.add(e,n,s[n][i])}a.data&&(a.data=de.extend({},a.data))}}function b(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!de.support.noCloneEvent&&e[de.expando]){r=de._data(e);for(i in r.events)de.removeEvent(e,i,r.handle);e.removeAttribute(de.expando)}"script"===n&&e.text!==t.text?(g(e).text=t.text,m(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),de.support.html5Clone&&t.innerHTML&&!de.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&en.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function x(t,n){var i,r,o=0,a=typeof t.getElementsByTagName!==V?t.getElementsByTagName(n||"*"):typeof t.querySelectorAll!==V?t.querySelectorAll(n||"*"):e;if(!a)for(a=[],i=t.childNodes||t;null!=(r=i[o]);o++)!n||de.nodeName(r,n)?a.push(r):de.merge(a,x(r,n));return n===e||n&&de.nodeName(t,n)?de.merge([t],a):a}function _(t){en.test(t.type)&&(t.defaultChecked=t.checked)}function k(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=Tn.length;r--;)if(e=Tn[r]+n,e in t)return e;return i}function w(t,e){return t=e||t,"none"===de.css(t,"display")||!de.contains(t.ownerDocument,t)}function C(t,e){for(var n,i,r,o=[],a=0,s=t.length;s>a;a++)i=t[a],i.style&&(o[a]=de._data(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&w(i)&&(o[a]=de._data(i,"olddisplay",D(i.nodeName)))):o[a]||(r=w(i),(n&&"none"!==n||!r)&&de._data(i,"olddisplay",r?n:de.css(i,"display"))));for(a=0;s>a;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function T(t,e,n){var i=yn.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function S(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=de.css(t,n+Cn[o],!0,r)),i?("content"===n&&(a-=de.css(t,"padding"+Cn[o],!0,r)),"margin"!==n&&(a-=de.css(t,"border"+Cn[o]+"Width",!0,r))):(a+=de.css(t,"padding"+Cn[o],!0,r),"padding"!==n&&(a+=de.css(t,"border"+Cn[o]+"Width",!0,r)));return a}function A(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=un(t),a=de.support.boxSizing&&"border-box"===de.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=hn(t,e,o),(0>r||null==r)&&(r=t.style[e]),bn.test(r))return r;i=a&&(de.support.boxSizingReliable||r===t.style[e]),r=parseFloat(r)||0}return r+S(t,e,n||(a?"border":"content"),i,o)+"px"}function D(t){var e=q,n=_n[t];return n||(n=M(t,e),"none"!==n&&n||(dn=(dn||de("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(dn[0].contentWindow||dn[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),n=M(t,e),dn.detach()),_n[t]=n),n}function M(t,e){var n=de(e.createElement(t)).appendTo(e.body),i=de.css(n[0],"display");return n.remove(),i}function E(t,e,n,i){var r;if(de.isArray(e))de.each(e,function(e,r){n||An.test(t)?i(t,r):E(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==de.type(e))i(t,e);else for(r in e)E(t+"["+r+"]",e[r],n,i)}function N(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(he)||[];if(de.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function L(t,e,n,i){function r(s){var l;return o[s]=!0,de.each(t[s]||[],function(t,s){var c=s(e,n,i);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),l}var o={},a=t===Yn;return r(e.dataTypes[0])||!o["*"]&&r("*")}function P(t,n){var i,r,o=de.ajaxSettings.flatOptions||{};for(r in n)n[r]!==e&&((o[r]?t:i||(i={}))[r]=n[r]);return i&&de.extend(!0,t,i),t}function I(t,n,i){for(var r,o,a,s,l=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),o===e&&(o=t.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){c.unshift(s);break}if(c[0]in i)a=c[0];else{for(s in i){if(!c[0]||t.converters[s+" "+c[0]]){a=s;break}r||(r=s)}a=a||r}return a?(a!==c[0]&&c.unshift(a),i[a]):void 0}function O(t,e,n,i){var r,o,a,s,l,c={},d=t.dataTypes.slice();if(d[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=d.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=c[l+" "+o]||c["* "+o],!a)for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[r]:c[r]!==!0&&(o=s[0],d.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(u){return{state:"parsererror",error:a?u:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function K(){try{return new t.XMLHttpRequest}catch(e){}}function R(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function B(){return setTimeout(function(){Jn=e}),Jn=de.now()}function H(t,e,n){for(var i,r=(oi[e]||[]).concat(oi["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,e,t))return i}function F(t,e,n){var i,r,o=0,a=ri.length,s=de.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Jn||B(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,o=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(o);return s.notifyWith(t,[c,o,n]),1>o&&l?n:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:de.extend({},e),opts:de.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Jn||B(),duration:n.duration,tweens:[],createTween:function(e,n){var i=de.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return e?s.resolveWith(t,[c,e]):s.rejectWith(t,[c,e]),this}}),d=c.props;for(z(d,c.opts.specialEasing);a>o;o++)if(i=ri[o].call(c,t,d,c.opts))return i;return de.map(d,H,c),de.isFunction(c.opts.start)&&c.opts.start.call(t,c),de.fx.timer(de.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function z(t,e){var n,i,r,o,a;for(n in t)if(i=de.camelCase(n),r=e[i],o=t[n],de.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),a=de.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function W(t,e,n){var i,r,o,a,s,l,c=this,d={},u=t.style,h=t.nodeType&&w(t),p=de._data(t,"fxshow");n.queue||(s=de._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,de.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===de.css(t,"display")&&"none"===de.css(t,"float")&&(de.support.inlineBlockNeedsLayout&&"inline"!==D(t.nodeName)?u.zoom=1:u.display="inline-block")),n.overflow&&(u.overflow="hidden",de.support.shrinkWrapBlocks||c.always(function(){u.overflow=n.overflow[0],u.overflowX=n.overflow[1],u.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],ei.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(h?"hide":"show"))continue;d[i]=p&&p[i]||de.style(t,i)}if(!de.isEmptyObject(d)){p?"hidden"in p&&(h=p.hidden):p=de._data(t,"fxshow",{}),o&&(p.hidden=!h),h?de(t).show():c.done(function(){de(t).hide()}),c.done(function(){var e;de._removeData(t,"fxshow");for(e in d)de.style(t,e,d[e])});for(i in d)a=H(h?p[i]:0,i,c),i in p||(p[i]=a.start,h&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function j(t,e,n,i,r){return new j.prototype.init(t,e,n,i,r)}function Y(t,e){var n,i={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)n=Cn[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function X(t){return de.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var G,$,V=typeof e,U=t.location,q=t.document,Z=q.documentElement,Q=t.jQuery,J=t.$,te={},ee=[],ne="1.10.2",ie=ee.concat,re=ee.push,oe=ee.slice,ae=ee.indexOf,se=te.toString,le=te.hasOwnProperty,ce=ne.trim,de=function(t,e){return new de.fn.init(t,e,$)},ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,he=/\S+/g,pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,fe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,me=/^[\],:{}\s]*$/,ve=/(?:^|:|,)(?:\s*\[)+/g,ye=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,be=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,xe=/^-ms-/,_e=/-([\da-z])/gi,ke=function(t,e){return e.toUpperCase()},we=function(t){(q.addEventListener||"load"===t.type||"complete"===q.readyState)&&(Ce(),de.ready())},Ce=function(){q.addEventListener?(q.removeEventListener("DOMContentLoaded",we,!1),t.removeEventListener("load",we,!1)):(q.detachEvent("onreadystatechange",we),t.detachEvent("onload",we))};de.fn=de.prototype={jquery:ne,constructor:de,init:function(t,n,i){var r,o;if(!t)return this;if("string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:fe.exec(t),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(t):this.constructor(n).find(t);if(r[1]){if(n=n instanceof de?n[0]:n,de.merge(this,de.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:q,!0)),ge.test(r[1])&&de.isPlainObject(n))for(r in n)de.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if(o=q.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(t);this.length=1,this[0]=o}return this.context=q,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):de.isFunction(t)?i.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),de.makeArray(t,this))},selector:"",length:0,toArray:function(){return oe.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=de.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return de.each(this,t,e)},ready:function(t){return de.ready.promise().done(t),this},slice:function(){return this.pushStack(oe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},map:function(t){return this.pushStack(de.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:re,sort:[].sort,splice:[].splice},de.fn.init.prototype=de.fn,de.extend=de.fn.extend=function(){var t,n,i,r,o,a,s=arguments[0]||{},l=1,c=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[1]||{},l=2),"object"==typeof s||de.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(o=arguments[l]))for(r in o)t=s[r],i=o[r],s!==i&&(d&&i&&(de.isPlainObject(i)||(n=de.isArray(i)))?(n?(n=!1,a=t&&de.isArray(t)?t:[]):a=t&&de.isPlainObject(t)?t:{},s[r]=de.extend(d,a,i)):i!==e&&(s[r]=i));return s},de.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===de&&(t.$=J),e&&t.jQuery===de&&(t.jQuery=Q),de},isReady:!1,readyWait:1,holdReady:function(t){t?de.readyWait++:de.ready(!0)},ready:function(t){if(t===!0?!--de.readyWait:!de.isReady){if(!q.body)return setTimeout(de.ready);de.isReady=!0,t!==!0&&--de.readyWait>0||(G.resolveWith(q,[de]),de.fn.trigger&&de(q).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===de.type(t)},isArray:Array.isArray||function(t){return"array"===de.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?te[se.call(t)]||"object":typeof t},isPlainObject:function(t){var n;if(!t||"object"!==de.type(t)||t.nodeType||de.isWindow(t))return!1;try{if(t.constructor&&!le.call(t,"constructor")&&!le.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(de.support.ownLast)for(n in t)return le.call(t,n);for(n in t);return n===e||le.call(t,n)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||q;var i=ge.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=de.buildFragment([t],e,r),r&&de(r).remove(),de.merge([],i.childNodes))},parseJSON:function(e){return t.JSON&&t.JSON.parse?t.JSON.parse(e):null===e?e:"string"==typeof e&&(e=de.trim(e),e&&me.test(e.replace(ye,"@").replace(be,"]").replace(ve,"")))?new Function("return "+e)():(de.error("Invalid JSON: "+e),void 0)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{t.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=e}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||de.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(e){e&&de.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(xe,"ms-").replace(_e,ke)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,o=0,a=t.length,s=n(t);if(i){if(s)for(;a>o&&(r=e.apply(t[o],i),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],i),r===!1)break}else if(s)for(;a>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:ce&&!ce.call("﻿ ")?function(t){return null==t?"":ce.call(t)}:function(t){return null==t?"":(t+"").replace(pe,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?de.merge(i,"string"==typeof t?[t]:t):re.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(ae)return ae.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,n){var i=n.length,r=t.length,o=0;if("number"==typeof i)for(;i>o;o++)t[r++]=n[o];else for(;n[o]!==e;)t[r++]=n[o++];return t.length=r,t},grep:function(t,e,n){var i,r=[],o=0,a=t.length;for(n=!!n;a>o;o++)i=!!e(t[o],o),n!==i&&r.push(t[o]);return r},map:function(t,e,i){var r,o=0,a=t.length,s=n(t),l=[];if(s)for(;a>o;o++)r=e(t[o],o,i),null!=r&&(l[l.length]=r);else for(o in t)r=e(t[o],o,i),null!=r&&(l[l.length]=r);return ie.apply([],l)},guid:1,proxy:function(t,n){var i,r,o;return"string"==typeof n&&(o=t[n],n=t,t=o),de.isFunction(t)?(i=oe.call(arguments,2),r=function(){return t.apply(n||this,i.concat(oe.call(arguments)))},r.guid=t.guid=t.guid||de.guid++,r):e},access:function(t,n,i,r,o,a,s){var l=0,c=t.length,d=null==i;if("object"===de.type(i)){o=!0;for(l in i)de.access(t,n,l,i[l],!0,a,s)}else if(r!==e&&(o=!0,de.isFunction(r)||(s=!0),d&&(s?(n.call(t,r),n=null):(d=n,n=function(t,e,n){return d.call(de(t),n)})),n))for(;c>l;l++)n(t[l],i,s?r:r.call(t[l],l,n(t[l],i)));return o?t:d?n.call(t):c?n(t[0],i):a},now:function(){return(new Date).getTime()},swap:function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=a[o];return r}}),de.ready.promise=function(e){if(!G)if(G=de.Deferred(),"complete"===q.readyState)setTimeout(de.ready);else if(q.addEventListener)q.addEventListener("DOMContentLoaded",we,!1),t.addEventListener("load",we,!1);else{q.attachEvent("onreadystatechange",we),t.attachEvent("onload",we);var n=!1;try{n=null==t.frameElement&&q.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!de.isReady){try{n.doScroll("left")}catch(t){return setTimeout(r,50)}Ce(),de.ready()}}()}return G.promise(e)},de.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){te["[object "+e+"]"]=e.toLowerCase()}),$=de(q),/*!
 * Sizzle CSS Selector Engine v1.10.2
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03
 */
function(t,e){function n(t,e,n,i){var r,o,a,s,l,c,d,u,f,g;if((e?e.ownerDocument||e:F)!==L&&N(e),e=e||L,n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=e.nodeType)&&9!==s)return[];if(I&&!i){if(r=be.exec(t))if(a=r[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&B(e,o)&&o.id===a)return n.push(o),n}else{if(r[2])return te.apply(n,e.getElementsByTagName(t)),n;if((a=r[3])&&w.getElementsByClassName&&e.getElementsByClassName)return te.apply(n,e.getElementsByClassName(a)),n}if(w.qsa&&(!O||!O.test(t))){if(u=d=H,f=e,g=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=h(t),(d=e.getAttribute("id"))?u=d.replace(ke,"\\$&"):e.setAttribute("id",u),u="[id='"+u+"'] ",l=c.length;l--;)c[l]=u+p(c[l]);f=pe.test(t)&&e.parentNode||e,g=c.join(",")}if(g)try{return te.apply(n,f.querySelectorAll(g)),n}catch(m){}finally{d||e.removeAttribute("id")}}}return _(t.replace(ce,"$1"),e,n,i)}function i(){function t(n,i){return e.push(n+=" ")>T.cacheLength&&delete t[e.shift()],t[n]=i}var e=[];return t}function r(t){return t[H]=!0,t}function o(t){var e=L.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e){for(var n=t.split("|"),i=t.length;i--;)T.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function l(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function c(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function d(t){return r(function(e){return e=+e,r(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function u(){}function h(t,e){var i,r,o,a,s,l,c,d=Y[t+" "];if(d)return e?0:d.slice(0);for(s=t,l=[],c=T.preFilter;s;){(!i||(r=ue.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=he.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ce," ")}),s=s.slice(i.length));for(a in T.filter)!(r=ve[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return e?s.length:s?n.error(t):Y(t,l).slice(0)}function p(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=W++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,a){var s,l,c,d=z+" "+o;if(a){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(c=e[H]||(e[H]={}),(l=c[i])&&l[0]===d){if((s=l[1])===!0||s===C)return s===!0}else if(l=c[i]=[d],l[1]=t(e,n,a)||C,l[1]===!0)return!0}}function g(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function m(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,c=null!=e;l>s;s++)(o=t[s])&&(!n||n(o,i,r))&&(a.push(o),c&&e.push(s));return a}function v(t,e,n,i,o,a){return i&&!i[H]&&(i=v(i)),o&&!o[H]&&(o=v(o,a)),r(function(r,a,s,l){var c,d,u,h=[],p=[],f=a.length,g=r||x(e||"*",s.nodeType?[s]:s,[]),v=!t||!r&&e?g:m(g,h,t,s,l),y=n?o||(r?t:f||i)?[]:a:v;if(n&&n(v,y,s,l),i)for(c=m(y,p),i(c,[],s,l),d=c.length;d--;)(u=c[d])&&(y[p[d]]=!(v[p[d]]=u));if(r){if(o||t){if(o){for(c=[],d=y.length;d--;)(u=y[d])&&c.push(v[d]=u);o(null,y=[],c,l)}for(d=y.length;d--;)(u=y[d])&&(c=o?ne.call(r,u):h[d])>-1&&(r[c]=!(a[c]=u))}}else y=m(y===a?y.splice(f,y.length):y),o?o(null,a,y,l):te.apply(a,y)})}function y(t){for(var e,n,i,r=t.length,o=T.relative[t[0].type],a=o||T.relative[" "],s=o?1:0,l=f(function(t){return t===e},a,!0),c=f(function(t){return ne.call(e,t)>-1},a,!0),d=[function(t,n,i){return!o&&(i||n!==M)||((e=n).nodeType?l(t,n,i):c(t,n,i))}];r>s;s++)if(n=T.relative[t[s].type])d=[f(g(d),n)];else{if(n=T.filter[t[s].type].apply(null,t[s].matches),n[H]){for(i=++s;r>i&&!T.relative[t[i].type];i++);return v(s>1&&g(d),s>1&&p(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ce,"$1"),n,i>s&&y(t.slice(s,i)),r>i&&y(t=t.slice(i)),r>i&&p(t))}d.push(n)}return g(d)}function b(t,e){var i=0,o=e.length>0,a=t.length>0,s=function(r,s,l,c,d){var u,h,p,f=[],g=0,v="0",y=r&&[],b=null!=d,x=M,_=r||a&&T.find.TAG("*",d&&s.parentNode||s),k=z+=null==x?1:Math.random()||.1;for(b&&(M=s!==L&&s,C=i);null!=(u=_[v]);v++){if(a&&u){for(h=0;p=t[h++];)if(p(u,s,l)){c.push(u);break}b&&(z=k,C=++i)}o&&((u=!p&&u)&&g--,r&&y.push(u))}if(g+=v,o&&v!==g){for(h=0;p=e[h++];)p(y,f,s,l);if(r){if(g>0)for(;v--;)y[v]||f[v]||(f[v]=Q.call(c));f=m(f)}te.apply(c,f),b&&!r&&f.length>0&&g+e.length>1&&n.uniqueSort(c)}return b&&(z=k,M=x),y};return o?r(s):s}function x(t,e,i){for(var r=0,o=e.length;o>r;r++)n(t,e[r],i);return i}function _(t,e,n,i){var r,o,a,s,l,c=h(t);if(!i&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===e.nodeType&&I&&T.relative[o[1].type]){if(e=(T.find.ID(a.matches[0].replace(we,Ce),e)||[])[0],!e)return n;t=t.slice(o.shift().value.length)}for(r=ve.needsContext.test(t)?0:o.length;r--&&(a=o[r],!T.relative[s=a.type]);)if((l=T.find[s])&&(i=l(a.matches[0].replace(we,Ce),pe.test(o[0].type)&&e.parentNode||e))){if(o.splice(r,1),t=i.length&&p(o),!t)return te.apply(n,i),n;break}}return D(t,c)(i,e,!I,n,pe.test(t)),n}var k,w,C,T,S,A,D,M,E,N,L,P,I,O,K,R,B,H="sizzle"+-new Date,F=t.document,z=0,W=0,j=i(),Y=i(),X=i(),G=!1,$=function(t,e){return t===e?(G=!0,0):0},V=typeof e,U=1<<31,q={}.hasOwnProperty,Z=[],Q=Z.pop,J=Z.push,te=Z.push,ee=Z.slice,ne=Z.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=oe.replace("w","w#"),se="\\["+re+"*("+oe+")"+re+"*(?:([*^$|!~]?=)"+re+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ae+")|)|)"+re+"*\\]",le=":("+oe+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+se.replace(3,8)+")*)|.*)\\)|)",ce=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),ue=new RegExp("^"+re+"*,"+re+"*"),he=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),pe=new RegExp(re+"*[+~]"),fe=new RegExp("="+re+"*([^\\]'\"]*)"+re+"*\\]","g"),ge=new RegExp(le),me=new RegExp("^"+ae+"$"),ve={ID:new RegExp("^#("+oe+")"),CLASS:new RegExp("^\\.("+oe+")"),TAG:new RegExp("^("+oe.replace("w","w*")+")"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+le),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ie+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ye=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xe=/^(?:input|select|textarea|button)$/i,_e=/^h\d$/i,ke=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),Ce=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{te.apply(Z=ee.call(F.childNodes),F.childNodes),Z[F.childNodes.length].nodeType}catch(Te){te={apply:Z.length?function(t,e){J.apply(t,ee.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}A=n.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},w=n.support={},N=n.setDocument=function(t){var e=t?t.ownerDocument||t:F,n=e.defaultView;return e!==L&&9===e.nodeType&&e.documentElement?(L=e,P=e.documentElement,I=!A(e),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){N()}),w.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=o(function(t){return t.appendChild(e.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=o(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),w.getById=o(function(t){return P.appendChild(t).id=H,!e.getElementsByName||!e.getElementsByName(H).length}),w.getById?(T.find.ID=function(t,e){if(typeof e.getElementById!==V&&I){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(t){var e=t.replace(we,Ce);return function(t){return t.getAttribute("id")===e}}):(delete T.find.ID,T.filter.ID=function(t){var e=t.replace(we,Ce);return function(t){var n=typeof t.getAttributeNode!==V&&t.getAttributeNode("id");return n&&n.value===e}}),T.find.TAG=w.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==V?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},T.find.CLASS=w.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==V&&I?e.getElementsByClassName(t):void 0},K=[],O=[],(w.qsa=ye.test(e.querySelectorAll))&&(o(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||O.push("\\["+re+"*(?:value|"+ie+")"),t.querySelectorAll(":checked").length||O.push(":checked")}),o(function(t){var n=e.createElement("input");n.setAttribute("type","hidden"),t.appendChild(n).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&O.push("[*^$]="+re+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),O.push(",.*:")})),(w.matchesSelector=ye.test(R=P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&o(function(t){w.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),K.push("!=",le)}),O=O.length&&new RegExp(O.join("|")),K=K.length&&new RegExp(K.join("|")),B=ye.test(P.contains)||P.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},$=P.compareDocumentPosition?function(t,n){if(t===n)return G=!0,0;var i=n.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(n);return i?1&i||!w.sortDetached&&n.compareDocumentPosition(t)===i?t===e||B(F,t)?-1:n===e||B(F,n)?1:E?ne.call(E,t)-ne.call(E,n):0:4&i?-1:1:t.compareDocumentPosition?-1:1}:function(t,n){var i,r=0,o=t.parentNode,a=n.parentNode,l=[t],c=[n];if(t===n)return G=!0,0;if(!o||!a)return t===e?-1:n===e?1:o?-1:a?1:E?ne.call(E,t)-ne.call(E,n):0;if(o===a)return s(t,n);for(i=t;i=i.parentNode;)l.unshift(i);for(i=n;i=i.parentNode;)c.unshift(i);for(;l[r]===c[r];)r++;return r?s(l[r],c[r]):l[r]===F?-1:c[r]===F?1:0},e):L},n.matches=function(t,e){return n(t,null,null,e)},n.matchesSelector=function(t,e){if((t.ownerDocument||t)!==L&&N(t),e=e.replace(fe,"='$1']"),!(!w.matchesSelector||!I||K&&K.test(e)||O&&O.test(e)))try{var i=R.call(t,e);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return n(e,L,null,[t]).length>0},n.contains=function(t,e){return(t.ownerDocument||t)!==L&&N(t),B(t,e)},n.attr=function(t,n){(t.ownerDocument||t)!==L&&N(t);var i=T.attrHandle[n.toLowerCase()],r=i&&q.call(T.attrHandle,n.toLowerCase())?i(t,n,!I):e;return r===e?w.attributes||!I?t.getAttribute(n):(r=t.getAttributeNode(n))&&r.specified?r.value:null:r},n.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},n.uniqueSort=function(t){var e,n=[],i=0,r=0;if(G=!w.detectDuplicates,E=!w.sortStable&&t.slice(0),t.sort($),G){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return t},S=n.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i];i++)n+=S(e);return n},T=n.selectors={cacheLength:50,createPseudo:r,match:ve,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(we,Ce),t[3]=(t[4]||t[5]||"").replace(we,Ce),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||n.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&n.error(t[0]),t},PSEUDO:function(t){var n,i=!t[5]&&t[2];return ve.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:i&&ge.test(i)&&(n=h(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(t[0]=t[0].slice(0,n),t[2]=i.slice(0,n)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(we,Ce).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=j[t+" "];return e||(e=new RegExp("(^|"+re+")"+t+"("+re+"|$)"))&&j(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==V&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(r){var o=n.attr(r,t);return null==o?"!="===e:e?(o+="","="===e?o===i:"!="===e?o!==i:"^="===e?i&&0===o.indexOf(i):"*="===e?i&&o.indexOf(i)>-1:"$="===e?i&&o.slice(-i.length)===i:"~="===e?(" "+o+" ").indexOf(i)>-1:"|="===e?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,d,u,h,p,f,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(m){if(o){for(;g;){for(u=e;u=u[g];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(d=m[H]||(m[H]={}),c=d[t]||[],p=c[0]===z&&c[1],h=c[0]===z&&c[2],u=p&&m.childNodes[p];u=++p&&u&&u[g]||(h=p=0)||f.pop();)if(1===u.nodeType&&++h&&u===e){d[t]=[z,p,h];break}}else if(y&&(c=(e[H]||(e[H]={}))[t])&&c[0]===z)h=c[1];else for(;(u=++p&&u&&u[g]||(h=p=0)||f.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++h||(y&&((u[H]||(u[H]={}))[t]=[z,h]),u!==e)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(t,e){var i,o=T.pseudos[t]||T.setFilters[t.toLowerCase()]||n.error("unsupported pseudo: "+t);return o[H]?o(e):o.length>1?(i=[t,t,"",e],T.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,n){for(var i,r=o(t,e),a=r.length;a--;)i=ne.call(t,r[a]),t[i]=!(n[i]=r[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=D(t.replace(ce,"$1"));return i[H]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),!n.pop()}}),has:r(function(t){return function(e){return n(t,e).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:r(function(t){return me.test(t||"")||n.error("unsupported lang: "+t),t=t.replace(we,Ce).toLowerCase(),function(e){var n;do if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===P},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return _e.test(t.nodeName)},input:function(t){return xe.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:d(function(){return[0]}),last:d(function(t,e){return[e-1]}),eq:d(function(t,e,n){return[0>n?n+e:n]}),even:d(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:d(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:d(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:d(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},T.pseudos.nth=T.pseudos.eq;for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[k]=l(k);for(k in{submit:!0,reset:!0})T.pseudos[k]=c(k);u.prototype=T.filters=T.pseudos,T.setFilters=new u,D=n.compile=function(t,e){var n,i=[],r=[],o=X[t+" "];if(!o){for(e||(e=h(t)),n=e.length;n--;)o=y(e[n]),o[H]?i.push(o):r.push(o);o=X(t,b(r,i))}return o},w.sortStable=H.split("").sort($).join("")===H,w.detectDuplicates=G,N(),w.sortDetached=o(function(t){return 1&t.compareDocumentPosition(L.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||a("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||a("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||a(ie,function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&i.specified?i.value:t[e]===!0?e.toLowerCase():null}),de.find=n,de.expr=n.selectors,de.expr[":"]=de.expr.pseudos,de.unique=n.uniqueSort,de.text=n.getText,de.isXMLDoc=n.isXML,de.contains=n.contains}(t);var Te={};de.Callbacks=function(t){t="string"==typeof t?Te[t]||i(t):de.extend({},t);var n,r,o,a,s,l,c=[],d=!t.once&&[],u=function(e){for(r=t.memory&&e,o=!0,s=l||0,l=0,a=c.length,n=!0;c&&a>s;s++)if(c[s].apply(e[0],e[1])===!1&&t.stopOnFalse){r=!1;break}n=!1,c&&(d?d.length&&u(d.shift()):r?c=[]:h.disable())},h={add:function(){if(c){var e=c.length;!function i(e){de.each(e,function(e,n){var r=de.type(n);"function"===r?t.unique&&h.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),n?a=c.length:r&&(l=e,u(r))}return this},remove:function(){return c&&de.each(arguments,function(t,e){for(var i;(i=de.inArray(e,c,i))>-1;)c.splice(i,1),n&&(a>=i&&a--,s>=i&&s--)}),this},has:function(t){return t?de.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=d=r=e,this},disabled:function(){return!c},lock:function(){return d=e,r||h.disable(),this},locked:function(){return!d},fireWith:function(t,e){return!c||o&&!d||(e=e||[],e=[t,e.slice?e.slice():e],n?d.push(e):u(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!o}};return h},de.extend({Deferred:function(t){var e=[["resolve","done",de.Callbacks("once memory"),"resolved"],["reject","fail",de.Callbacks("once memory"),"rejected"],["notify","progress",de.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return de.Deferred(function(n){de.each(e,function(e,o){var a=o[0],s=de.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&de.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?de.extend(t,i):i}},r={};return i.pipe=i.then,de.each(e,function(t,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=oe.call(arguments),a=o.length,s=1!==a||t&&de.isFunction(t.promise)?a:0,l=1===s?t:de.Deferred(),c=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?oe.call(arguments):r,i===e?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&de.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,e)):--s;return s||l.resolveWith(i,o),l.promise()}}),de.support=function(e){var n,i,r,o,a,s,l,c,d,u=q.createElement("div");if(u.setAttribute("className","t"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=u.getElementsByTagName("*")||[],i=u.getElementsByTagName("a")[0],!i||!i.style||!n.length)return e;o=q.createElement("select"),s=o.appendChild(q.createElement("option")),r=u.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",e.getSetAttribute="t"!==u.className,e.leadingWhitespace=3===u.firstChild.nodeType,e.tbody=!u.getElementsByTagName("tbody").length,e.htmlSerialize=!!u.getElementsByTagName("link").length,e.style=/top/.test(i.getAttribute("style")),e.hrefNormalized="/a"===i.getAttribute("href"),e.opacity=/^0.5/.test(i.style.opacity),e.cssFloat=!!i.style.cssFloat,e.checkOn=!!r.value,e.optSelected=s.selected,e.enctype=!!q.createElement("form").enctype,e.html5Clone="<:nav></:nav>"!==q.createElement("nav").cloneNode(!0).outerHTML,e.inlineBlockNeedsLayout=!1,e.shrinkWrapBlocks=!1,e.pixelPosition=!1,e.deleteExpando=!0,e.noCloneEvent=!0,e.reliableMarginRight=!0,e.boxSizingReliable=!0,r.checked=!0,e.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,e.optDisabled=!s.disabled;try{delete u.test}catch(h){e.deleteExpando=!1}r=q.createElement("input"),r.setAttribute("value",""),e.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),e.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),a=q.createDocumentFragment(),a.appendChild(r),e.appendChecked=r.checked,e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,u.attachEvent&&(u.attachEvent("onclick",function(){e.noCloneEvent=!1}),u.cloneNode(!0).click());for(d in{submit:!0,change:!0,focusin:!0})u.setAttribute(l="on"+d,"t"),e[d+"Bubbles"]=l in t||u.attributes[l].expando===!1;u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===u.style.backgroundClip;for(d in de(e))break;return e.ownLast="0"!==d,de(function(){var n,i,r,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=q.getElementsByTagName("body")[0];a&&(n=q.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(u),u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=u.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=c&&0===r[0].offsetHeight,u.innerHTML="",u.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",de.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===u.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(u,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(u,null)||{width:"4px"}).width,i=u.appendChild(q.createElement("div")),i.style.cssText=u.style.cssText=o,i.style.marginRight=i.style.width="0",u.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(i,null)||{}).marginRight)),typeof u.style.zoom!==V&&(u.innerHTML="",u.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.innerHTML="<div></div>",u.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==u.offsetWidth,e.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=u=r=i=null)}),n=o=a=s=i=r=null,e}({});var Se=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ae=/([A-Z])/g;de.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?de.cache[t[de.expando]]:t[de.expando],!!t&&!s(t)},data:function(t,e,n){return r(t,e,n)},removeData:function(t,e){return o(t,e)},_data:function(t,e,n){return r(t,e,n,!0)},_removeData:function(t,e){return o(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&de.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),de.fn.extend({data:function(t,n){var i,r,o=null,s=0,l=this[0];if(t===e){if(this.length&&(o=de.data(l),1===l.nodeType&&!de._data(l,"parsedAttrs"))){for(i=l.attributes;s<i.length;s++)r=i[s].name,0===r.indexOf("data-")&&(r=de.camelCase(r.slice(5)),a(l,r,o[r]));de._data(l,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){de.data(this,t)}):arguments.length>1?this.each(function(){de.data(this,t,n)}):l?a(l,t,de.data(l,t)):null},removeData:function(t){return this.each(function(){de.removeData(this,t)})}}),de.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=de._data(t,e),n&&(!i||de.isArray(n)?i=de._data(t,e,de.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=de.queue(t,e),i=n.length,r=n.shift(),o=de._queueHooks(t,e),a=function(){de.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return de._data(t,n)||de._data(t,n,{empty:de.Callbacks("once memory").add(function(){de._removeData(t,e+"queue"),de._removeData(t,n)})})}}),de.fn.extend({queue:function(t,n){var i=2;return"string"!=typeof t&&(n=t,t="fx",i--),arguments.length<i?de.queue(this[0],t):n===e?this:this.each(function(){var e=de.queue(this,t,n);de._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&de.dequeue(this,t)})},dequeue:function(t){return this.each(function(){de.dequeue(this,t)})},delay:function(t,e){return t=de.fx?de.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var i,r=1,o=de.Deferred(),a=this,s=this.length,l=function(){--r||o.resolveWith(a,[a])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";s--;)i=de._data(a[s],t+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var De,Me,Ee=/[\t\r\n\f]/g,Ne=/\r/g,Le=/^(?:input|select|textarea|button|object)$/i,Pe=/^(?:a|area)$/i,Ie=/^(?:checked|selected)$/i,Oe=de.support.getSetAttribute,Ke=de.support.input;de.fn.extend({attr:function(t,e){return de.access(this,de.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){de.removeAttr(this,t)})},prop:function(t,e){return de.access(this,de.prop,t,e,arguments.length>1)},removeProp:function(t){return t=de.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(n){}})},addClass:function(t){var e,n,i,r,o,a=0,s=this.length,l="string"==typeof t&&t;if(de.isFunction(t))return this.each(function(e){de(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(he)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ee," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");n.className=de.trim(i)}return this},removeClass:function(t){var e,n,i,r,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof t&&t;if(de.isFunction(t))return this.each(function(e){de(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(he)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ee," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=t?de.trim(i):""}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):de.isFunction(t)?this.each(function(n){de(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,i=0,r=de(this),o=t.match(he)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===V||"boolean"===n)&&(this.className&&de._data(this,"__className__",this.className),this.className=this.className||t===!1?"":de._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ee," ").indexOf(e)>=0)return!0;return!1},val:function(t){var n,i,r,o=this[0];{if(arguments.length)return r=de.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=r?t.call(this,n,de(this).val()):t,null==o?o="":"number"==typeof o?o+="":de.isArray(o)&&(o=de.map(o,function(t){return null==t?"":t+""})),i=de.valHooks[this.type]||de.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,o,"value")!==e||(this.value=o))});if(o)return i=de.valHooks[o.type]||de.valHooks[o.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(o,"value"))!==e?n:(n=o.value,"string"==typeof n?n.replace(Ne,""):null==n?"":n)}}}),de.extend({valHooks:{option:{get:function(t){var e=de.find.attr(t,"value");return null!=e?e:t.text}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==r||(de.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&de.nodeName(n.parentNode,"optgroup"))){if(e=de(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=de.makeArray(e),a=r.length;a--;)i=r[a],(i.selected=de.inArray(de(i).val(),o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}},attr:function(t,n,i){var r,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return typeof t.getAttribute===V?de.prop(t,n,i):(1===a&&de.isXMLDoc(t)||(n=n.toLowerCase(),r=de.attrHooks[n]||(de.expr.match.bool.test(n)?Me:De)),i===e?r&&"get"in r&&null!==(o=r.get(t,n))?o:(o=de.find.attr(t,n),null==o?e:o):null!==i?r&&"set"in r&&(o=r.set(t,i,n))!==e?o:(t.setAttribute(n,i+""),i):(de.removeAttr(t,n),void 0))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(he);if(o&&1===t.nodeType)for(;n=o[r++];)i=de.propFix[n]||n,de.expr.match.bool.test(n)?Ke&&Oe||!Ie.test(n)?t[i]=!1:t[de.camelCase("default-"+n)]=t[i]=!1:de.attr(t,n,""),t.removeAttribute(Oe?n:i)},attrHooks:{type:{set:function(t,e){if(!de.support.radioValue&&"radio"===e&&de.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,n,i){var r,o,a,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return a=1!==s||!de.isXMLDoc(t),a&&(n=de.propFix[n]||n,o=de.propHooks[n]),i!==e?o&&"set"in o&&(r=o.set(t,i,n))!==e?r:t[n]=i:o&&"get"in o&&null!==(r=o.get(t,n))?r:t[n]},propHooks:{tabIndex:{get:function(t){var e=de.find.attr(t,"tabindex");return e?parseInt(e,10):Le.test(t.nodeName)||Pe.test(t.nodeName)&&t.href?0:-1}}}}),Me={set:function(t,e,n){return e===!1?de.removeAttr(t,n):Ke&&Oe||!Ie.test(n)?t.setAttribute(!Oe&&de.propFix[n]||n,n):t[de.camelCase("default-"+n)]=t[n]=!0,n}},de.each(de.expr.match.bool.source.match(/\w+/g),function(t,n){var i=de.expr.attrHandle[n]||de.find.attr;de.expr.attrHandle[n]=Ke&&Oe||!Ie.test(n)?function(t,n,r){var o=de.expr.attrHandle[n],a=r?e:(de.expr.attrHandle[n]=e)!=i(t,n,r)?n.toLowerCase():null;return de.expr.attrHandle[n]=o,a}:function(t,n,i){return i?e:t[de.camelCase("default-"+n)]?n.toLowerCase():null}}),Ke&&Oe||(de.attrHooks.value={set:function(t,e,n){return de.nodeName(t,"input")?(t.defaultValue=e,void 0):De&&De.set(t,e,n)}}),Oe||(De={set:function(t,n,i){var r=t.getAttributeNode(i);return r||t.setAttributeNode(r=t.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===t.getAttribute(i)?n:e}},de.expr.attrHandle.id=de.expr.attrHandle.name=de.expr.attrHandle.coords=function(t,n,i){var r;return i?e:(r=t.getAttributeNode(n))&&""!==r.value?r.value:null},de.valHooks.button={get:function(t,n){var i=t.getAttributeNode(n);return i&&i.specified?i.value:e},set:De.set},de.attrHooks.contenteditable={set:function(t,e,n){De.set(t,""===e?!1:e,n)}},de.each(["width","height"],function(t,e){de.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),de.support.hrefNormalized||de.each(["href","src"],function(t,e){de.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),de.support.style||(de.attrHooks.style={get:function(t){return t.style.cssText||e},set:function(t,e){return t.style.cssText=e+""
}}),de.support.optSelected||(de.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),de.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){de.propFix[this.toLowerCase()]=this}),de.support.enctype||(de.propFix.enctype="encoding"),de.each(["radio","checkbox"],function(){de.valHooks[this]={set:function(t,e){return de.isArray(e)?t.checked=de.inArray(de(t).val(),e)>=0:void 0}},de.support.checkOn||(de.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Re=/^(?:input|select|textarea)$/i,Be=/^key/,He=/^(?:mouse|contextmenu)|click/,Fe=/^(?:focusinfocus|focusoutblur)$/,ze=/^([^.]*)(?:\.(.+)|)$/;de.event={global:{},add:function(t,n,i,r,o){var a,s,l,c,d,u,h,p,f,g,m,v=de._data(t);if(v){for(i.handler&&(c=i,i=c.handler,o=c.selector),i.guid||(i.guid=de.guid++),(s=v.events)||(s=v.events={}),(u=v.handle)||(u=v.handle=function(t){return typeof de===V||t&&de.event.triggered===t.type?e:de.event.dispatch.apply(u.elem,arguments)},u.elem=t),n=(n||"").match(he)||[""],l=n.length;l--;)a=ze.exec(n[l])||[],f=m=a[1],g=(a[2]||"").split(".").sort(),f&&(d=de.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=de.event.special[f]||{},h=de.extend({type:f,origType:m,data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&de.expr.match.needsContext.test(o),namespace:g.join(".")},c),(p=s[f])||(p=s[f]=[],p.delegateCount=0,d.setup&&d.setup.call(t,r,g,u)!==!1||(t.addEventListener?t.addEventListener(f,u,!1):t.attachEvent&&t.attachEvent("on"+f,u))),d.add&&(d.add.call(t,h),h.handler.guid||(h.handler.guid=i.guid)),o?p.splice(p.delegateCount++,0,h):p.push(h),de.event.global[f]=!0);t=null}},remove:function(t,e,n,i,r){var o,a,s,l,c,d,u,h,p,f,g,m=de.hasData(t)&&de._data(t);if(m&&(d=m.events)){for(e=(e||"").match(he)||[""],c=e.length;c--;)if(s=ze.exec(e[c])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p){for(u=de.event.special[p]||{},p=(i?u.delegateType:u.bindType)||p,h=d[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)a=h[o],!r&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(o,1),a.selector&&h.delegateCount--,u.remove&&u.remove.call(t,a));l&&!h.length&&(u.teardown&&u.teardown.call(t,f,m.handle)!==!1||de.removeEvent(t,p,m.handle),delete d[p])}else for(p in d)de.event.remove(t,p+e[c],n,i,!0);de.isEmptyObject(d)&&(delete m.handle,de._removeData(t,"events"))}},trigger:function(n,i,r,o){var a,s,l,c,d,u,h,p=[r||q],f=le.call(n,"type")?n.type:n,g=le.call(n,"namespace")?n.namespace.split("."):[];if(l=u=r=r||q,3!==r.nodeType&&8!==r.nodeType&&!Fe.test(f+de.event.triggered)&&(f.indexOf(".")>=0&&(g=f.split("."),f=g.shift(),g.sort()),s=f.indexOf(":")<0&&"on"+f,n=n[de.expando]?n:new de.Event(f,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=e,n.target||(n.target=r),i=null==i?[n]:de.makeArray(i,[n]),d=de.event.special[f]||{},o||!d.trigger||d.trigger.apply(r,i)!==!1)){if(!o&&!d.noBubble&&!de.isWindow(r)){for(c=d.delegateType||f,Fe.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),u=l;u===(r.ownerDocument||q)&&p.push(u.defaultView||u.parentWindow||t)}for(h=0;(l=p[h++])&&!n.isPropagationStopped();)n.type=h>1?c:d.bindType||f,a=(de._data(l,"events")||{})[n.type]&&de._data(l,"handle"),a&&a.apply(l,i),a=s&&l[s],a&&de.acceptData(l)&&a.apply&&a.apply(l,i)===!1&&n.preventDefault();if(n.type=f,!o&&!n.isDefaultPrevented()&&(!d._default||d._default.apply(p.pop(),i)===!1)&&de.acceptData(r)&&s&&r[f]&&!de.isWindow(r)){u=r[s],u&&(r[s]=null),de.event.triggered=f;try{r[f]()}catch(m){}de.event.triggered=e,u&&(r[s]=u)}return n.result}},dispatch:function(t){t=de.event.fix(t);var n,i,r,o,a,s=[],l=oe.call(arguments),c=(de._data(this,"events")||{})[t.type]||[],d=de.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,t)!==!1){for(s=de.event.handlers.call(this,t,c),n=0;(o=s[n++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,a=0;(r=o.handlers[a++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(r.namespace))&&(t.handleObj=r,t.data=r.data,i=((de.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l),i!==e&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,t),t.result}},handlers:function(t,n){var i,r,o,a,s=[],l=n.delegateCount,c=t.target;if(l&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==t.type)){for(o=[],a=0;l>a;a++)r=n[a],i=r.selector+" ",o[i]===e&&(o[i]=r.needsContext?de(i,this).index(c)>=0:de.find(i,this,null,[c]).length),o[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return l<n.length&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(t){if(t[de.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=He.test(r)?this.mouseHooks:Be.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new de.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=o.srcElement||q),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var i,r,o,a=n.button,s=n.fromElement;return null==t.pageX&&null!=n.clientX&&(r=t.target.ownerDocument||q,o=r.documentElement,i=r.body,t.pageX=n.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),t.pageY=n.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?n.toElement:s),t.which||a===e||(t.which=1&a?1:2&a?3:4&a?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==d()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return de.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return de.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=de.extend(new de.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?de.event.trigger(r,null,e):de.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},de.removeEvent=q.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===V&&(t[i]=null),t.detachEvent(i,n))},de.Event=function(t,e){return this instanceof de.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?l:c):this.type=t,e&&de.extend(this,e),this.timeStamp=t&&t.timeStamp||de.now(),this[de.expando]=!0,void 0):new de.Event(t,e)},de.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},de.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){de.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!de.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),de.support.submitBubbles||(de.event.special.submit={setup:function(){return de.nodeName(this,"form")?!1:(de.event.add(this,"click._submit keypress._submit",function(t){var n=t.target,i=de.nodeName(n,"input")||de.nodeName(n,"button")?n.form:e;i&&!de._data(i,"submitBubbles")&&(de.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),de._data(i,"submitBubbles",!0))}),void 0)},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&de.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return de.nodeName(this,"form")?!1:(de.event.remove(this,"._submit"),void 0)}}),de.support.changeBubbles||(de.event.special.change={setup:function(){return Re.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(de.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),de.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),de.event.simulate("change",this,t,!0)})),!1):(de.event.add(this,"beforeactivate._change",function(t){var e=t.target;Re.test(e.nodeName)&&!de._data(e,"changeBubbles")&&(de.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||de.event.simulate("change",this.parentNode,t,!0)}),de._data(e,"changeBubbles",!0))}),void 0)},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return de.event.remove(this,"._change"),!Re.test(this.nodeName)}}),de.support.focusinBubbles||de.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,i=function(t){de.event.simulate(e,t.target,de.event.fix(t),!0)};de.event.special[e]={setup:function(){0===n++&&q.addEventListener(t,i,!0)},teardown:function(){0===--n&&q.removeEventListener(t,i,!0)}}}),de.fn.extend({on:function(t,n,i,r,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=e);for(a in t)this.on(a,n,i,t[a],o);return this}if(null==i&&null==r?(r=n,i=n=e):null==r&&("string"==typeof n?(r=i,i=e):(r=i,i=n,n=e)),r===!1)r=c;else if(!r)return this;return 1===o&&(s=r,r=function(t){return de().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=de.guid++)),this.each(function(){de.event.add(this,t,r,i,n)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,n,i){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,de(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(o in t)this.off(o,n,t[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=e),i===!1&&(i=c),this.each(function(){de.event.remove(this,t,i,n)})},trigger:function(t,e){return this.each(function(){de.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?de.event.trigger(t,e,n,!0):void 0}});var We=/^.[^:#\[\.,]*$/,je=/^(?:parents|prev(?:Until|All))/,Ye=de.expr.match.needsContext,Xe={children:!0,contents:!0,next:!0,prev:!0};de.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(de(t).filter(function(){for(e=0;r>e;e++)if(de.contains(i[e],this))return!0}));for(e=0;r>e;e++)de.find(t,i[e],n);return n=this.pushStack(r>1?de.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},has:function(t){var e,n=de(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(de.contains(this,n[e]))return!0})},not:function(t){return this.pushStack(h(this,t||[],!0))},filter:function(t){return this.pushStack(h(this,t||[],!1))},is:function(t){return!!h(this,"string"==typeof t&&Ye.test(t)?de(t):t||[],!1).length},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=Ye.test(t)||"string"!=typeof t?de(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&de.find.matchesSelector(n,t))){n=o.push(n);break}return this.pushStack(o.length>1?de.unique(o):o)},index:function(t){return t?"string"==typeof t?de.inArray(this[0],de(t)):de.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?de(t,e):de.makeArray(t&&t.nodeType?[t]:t),i=de.merge(this.get(),n);return this.pushStack(de.unique(i))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),de.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return de.dir(t,"parentNode")},parentsUntil:function(t,e,n){return de.dir(t,"parentNode",n)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return de.dir(t,"nextSibling")},prevAll:function(t){return de.dir(t,"previousSibling")},nextUntil:function(t,e,n){return de.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return de.dir(t,"previousSibling",n)},siblings:function(t){return de.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return de.sibling(t.firstChild)},contents:function(t){return de.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:de.merge([],t.childNodes)}},function(t,e){de.fn[t]=function(n,i){var r=de.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=de.filter(i,r)),this.length>1&&(Xe[t]||(r=de.unique(r)),je.test(t)&&(r=r.reverse())),this.pushStack(r)}}),de.extend({filter:function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?de.find.matchesSelector(i,t)?[i]:[]:de.find.matches(t,de.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,n,i){for(var r=[],o=t[n];o&&9!==o.nodeType&&(i===e||1!==o.nodeType||!de(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var Ge="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",$e=/ jQuery\d+="(?:null|\d+)"/g,Ve=new RegExp("<(?:"+Ge+")[\\s/>]","i"),Ue=/^\s+/,qe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ze=/<([\w:]+)/,Qe=/<tbody/i,Je=/<|&#?\w+;/,tn=/<(?:script|style|link)/i,en=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,on=/^true\/(.*)/,an=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:de.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=p(q),cn=ln.appendChild(q.createElement("div"));sn.optgroup=sn.option,sn.tbody=sn.tfoot=sn.colgroup=sn.caption=sn.thead,sn.th=sn.td,de.fn.extend({text:function(t){return de.access(this,function(t){return t===e?de.text(this):this.empty().append((this[0]&&this[0].ownerDocument||q).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?de.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||de.cleanData(x(n)),n.parentNode&&(e&&de.contains(n.ownerDocument,n)&&v(x(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&de.cleanData(x(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&de.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return de.clone(this,t,e)})},html:function(t){return de.access(this,function(t){var n=this[0]||{},i=0,r=this.length;if(t===e)return 1===n.nodeType?n.innerHTML.replace($e,""):e;if(!("string"!=typeof t||tn.test(t)||!de.support.htmlSerialize&&Ve.test(t)||!de.support.leadingWhitespace&&Ue.test(t)||sn[(Ze.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(qe,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(de.cleanData(x(n,!1)),n.innerHTML=t);n=0}catch(o){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=de.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(n){var i=t[e++],r=t[e++];r&&(i&&i.parentNode!==r&&(i=this.nextSibling),de(this).remove(),r.insertBefore(n,i))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,n){t=ie.apply([],t);var i,r,o,a,s,l,c=0,d=this.length,u=this,h=d-1,p=t[0],f=de.isFunction(p);if(f||!(1>=d||"string"!=typeof p||de.support.checkClone)&&nn.test(p))return this.each(function(i){var r=u.eq(i);f&&(t[0]=p.call(this,i,r.html())),r.domManip(t,e,n)});if(d&&(l=de.buildFragment(t,this[0].ownerDocument,!1,!n&&this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(a=de.map(x(l,"script"),g),o=a.length;d>c;c++)r=l,c!==h&&(r=de.clone(r,!0,!0),o&&de.merge(a,x(r,"script"))),e.call(this[c],r,c);if(o)for(s=a[a.length-1].ownerDocument,de.map(a,m),c=0;o>c;c++)r=a[c],rn.test(r.type||"")&&!de._data(r,"globalEval")&&de.contains(s,r)&&(r.src?de._evalUrl(r.src):de.globalEval((r.text||r.textContent||r.innerHTML||"").replace(an,"")));l=i=null}return this}}),de.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){de.fn[t]=function(t){for(var n,i=0,r=[],o=de(t),a=o.length-1;a>=i;i++)n=i===a?this:this.clone(!0),de(o[i])[e](n),re.apply(r,n.get());return this.pushStack(r)}}),de.extend({clone:function(t,e,n){var i,r,o,a,s,l=de.contains(t.ownerDocument,t);if(de.support.html5Clone||de.isXMLDoc(t)||!Ve.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(cn.innerHTML=t.outerHTML,cn.removeChild(o=cn.firstChild)),!(de.support.noCloneEvent&&de.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||de.isXMLDoc(t)))for(i=x(o),s=x(t),a=0;null!=(r=s[a]);++a)i[a]&&b(r,i[a]);if(e)if(n)for(s=s||x(t),i=i||x(o),a=0;null!=(r=s[a]);a++)y(r,i[a]);else y(t,o);return i=x(o,"script"),i.length>0&&v(i,!l&&x(t,"script")),i=s=r=null,o},buildFragment:function(t,e,n,i){for(var r,o,a,s,l,c,d,u=t.length,h=p(e),f=[],g=0;u>g;g++)if(o=t[g],o||0===o)if("object"===de.type(o))de.merge(f,o.nodeType?[o]:o);else if(Je.test(o)){for(s=s||h.appendChild(e.createElement("div")),l=(Ze.exec(o)||["",""])[1].toLowerCase(),d=sn[l]||sn._default,s.innerHTML=d[1]+o.replace(qe,"<$1></$2>")+d[2],r=d[0];r--;)s=s.lastChild;if(!de.support.leadingWhitespace&&Ue.test(o)&&f.push(e.createTextNode(Ue.exec(o)[0])),!de.support.tbody)for(o="table"!==l||Qe.test(o)?"<table>"!==d[1]||Qe.test(o)?0:s:s.firstChild,r=o&&o.childNodes.length;r--;)de.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(de.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else f.push(e.createTextNode(o));for(s&&h.removeChild(s),de.support.appendChecked||de.grep(x(f,"input"),_),g=0;o=f[g++];)if((!i||-1===de.inArray(o,i))&&(a=de.contains(o.ownerDocument,o),s=x(h.appendChild(o),"script"),a&&v(s),n))for(r=0;o=s[r++];)rn.test(o.type||"")&&n.push(o);return s=null,h},cleanData:function(t,e){for(var n,i,r,o,a=0,s=de.expando,l=de.cache,c=de.support.deleteExpando,d=de.event.special;null!=(n=t[a]);a++)if((e||de.acceptData(n))&&(r=n[s],o=r&&l[r])){if(o.events)for(i in o.events)d[i]?de.event.remove(n,i):de.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[s]:typeof n.removeAttribute!==V?n.removeAttribute(s):n[s]=null,ee.push(r))}},_evalUrl:function(t){return de.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),de.fn.extend({wrapAll:function(t){if(de.isFunction(t))return this.each(function(e){de(this).wrapAll(t.call(this,e))});if(this[0]){var e=de(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return de.isFunction(t)?this.each(function(e){de(this).wrapInner(t.call(this,e))}):this.each(function(){var e=de(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=de.isFunction(t);return this.each(function(n){de(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){de.nodeName(this,"body")||de(this).replaceWith(this.childNodes)}).end()}});var dn,un,hn,pn=/alpha\([^)]*\)/i,fn=/opacity\s*=\s*([^)]*)/,gn=/^(top|right|bottom|left)$/,mn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,yn=new RegExp("^("+ue+")(.*)$","i"),bn=new RegExp("^("+ue+")(?!px)[a-z%]+$","i"),xn=new RegExp("^([+-])=("+ue+")","i"),_n={BODY:"block"},kn={position:"absolute",visibility:"hidden",display:"block"},wn={letterSpacing:0,fontWeight:400},Cn=["Top","Right","Bottom","Left"],Tn=["Webkit","O","Moz","ms"];de.fn.extend({css:function(t,n){return de.access(this,function(t,n,i){var r,o,a={},s=0;if(de.isArray(n)){for(o=un(t),r=n.length;r>s;s++)a[n[s]]=de.css(t,n[s],!1,o);return a}return i!==e?de.style(t,n,i):de.css(t,n)},t,n,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){w(this)?de(this).show():de(this).hide()})}}),de.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=hn(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":de.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,n,i,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,a,s,l=de.camelCase(n),c=t.style;if(n=de.cssProps[l]||(de.cssProps[l]=k(c,l)),s=de.cssHooks[n]||de.cssHooks[l],i===e)return s&&"get"in s&&(o=s.get(t,!1,r))!==e?o:c[n];if(a=typeof i,"string"===a&&(o=xn.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(de.css(t,n)),a="number"),!(null==i||"number"===a&&isNaN(i)||("number"!==a||de.cssNumber[l]||(i+="px"),de.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),s&&"set"in s&&(i=s.set(t,i,r))===e)))try{c[n]=i}catch(d){}}},css:function(t,n,i,r){var o,a,s,l=de.camelCase(n);return n=de.cssProps[l]||(de.cssProps[l]=k(t.style,l)),s=de.cssHooks[n]||de.cssHooks[l],s&&"get"in s&&(a=s.get(t,!0,i)),a===e&&(a=hn(t,n,r)),"normal"===a&&n in wn&&(a=wn[n]),""===i||i?(o=parseFloat(a),i===!0||de.isNumeric(o)?o||0:a):a}}),t.getComputedStyle?(un=function(e){return t.getComputedStyle(e,null)},hn=function(t,n,i){var r,o,a,s=i||un(t),l=s?s.getPropertyValue(n)||s[n]:e,c=t.style;return s&&(""!==l||de.contains(t.ownerDocument,t)||(l=de.style(t,n)),bn.test(l)&&vn.test(n)&&(r=c.width,o=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=r,c.minWidth=o,c.maxWidth=a)),l}):q.documentElement.currentStyle&&(un=function(t){return t.currentStyle},hn=function(t,n,i){var r,o,a,s=i||un(t),l=s?s[n]:e,c=t.style;return null==l&&c&&c[n]&&(l=c[n]),bn.test(l)&&!gn.test(n)&&(r=c.left,o=t.runtimeStyle,a=o&&o.left,a&&(o.left=t.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=r,a&&(o.left=a)),""===l?"auto":l}),de.each(["height","width"],function(t,e){de.cssHooks[e]={get:function(t,n,i){return n?0===t.offsetWidth&&mn.test(de.css(t,"display"))?de.swap(t,kn,function(){return A(t,e,i)}):A(t,e,i):void 0},set:function(t,n,i){var r=i&&un(t);return T(t,n,i?S(t,e,i,de.support.boxSizing&&"border-box"===de.css(t,"boxSizing",!1,r),r):0)}}}),de.support.opacity||(de.cssHooks.opacity={get:function(t,e){return fn.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=de.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===de.trim(o.replace(pn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=pn.test(o)?o.replace(pn,r):o+" "+r)}}),de(function(){de.support.reliableMarginRight||(de.cssHooks.marginRight={get:function(t,e){return e?de.swap(t,{display:"inline-block"},hn,[t,"marginRight"]):void 0}}),!de.support.pixelPosition&&de.fn.position&&de.each(["top","left"],function(t,e){de.cssHooks[e]={get:function(t,n){return n?(n=hn(t,e),bn.test(n)?de(t).position()[e]+"px":n):void 0}}})}),de.expr&&de.expr.filters&&(de.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!de.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||de.css(t,"display"))},de.expr.filters.visible=function(t){return!de.expr.filters.hidden(t)}),de.each({margin:"",padding:"",border:"Width"},function(t,e){de.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Cn[i]+e]=o[i]||o[i-2]||o[0];return r}},vn.test(t)||(de.cssHooks[t+e].set=T)});var Sn=/%20/g,An=/\[\]$/,Dn=/\r?\n/g,Mn=/^(?:submit|button|image|reset|file)$/i,En=/^(?:input|select|textarea|keygen)/i;de.fn.extend({serialize:function(){return de.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=de.prop(this,"elements");return t?de.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!de(this).is(":disabled")&&En.test(this.nodeName)&&!Mn.test(t)&&(this.checked||!en.test(t))}).map(function(t,e){var n=de(this).val();return null==n?null:de.isArray(n)?de.map(n,function(t){return{name:e.name,value:t.replace(Dn,"\r\n")}}):{name:e.name,value:n.replace(Dn,"\r\n")}}).get()}}),de.param=function(t,n){var i,r=[],o=function(t,e){e=de.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(n===e&&(n=de.ajaxSettings&&de.ajaxSettings.traditional),de.isArray(t)||t.jquery&&!de.isPlainObject(t))de.each(t,function(){o(this.name,this.value)});else for(i in t)E(i,t[i],n,o);return r.join("&").replace(Sn,"+")},de.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){de.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),de.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Nn,Ln,Pn=de.now(),In=/\?/,On=/#.*$/,Kn=/([?&])_=[^&]*/,Rn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Hn=/^(?:GET|HEAD)$/,Fn=/^\/\//,zn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Wn=de.fn.load,jn={},Yn={},Xn="*/".concat("*");try{Ln=U.href}catch(Gn){Ln=q.createElement("a"),Ln.href="",Ln=Ln.href}Nn=zn.exec(Ln.toLowerCase())||[],de.fn.load=function(t,n,i){if("string"!=typeof t&&Wn)return Wn.apply(this,arguments);var r,o,a,s=this,l=t.indexOf(" ");return l>=0&&(r=t.slice(l,t.length),t=t.slice(0,l)),de.isFunction(n)?(i=n,n=e):n&&"object"==typeof n&&(a="POST"),s.length>0&&de.ajax({url:t,type:a,dataType:"html",data:n}).done(function(t){o=arguments,s.html(r?de("<div>").append(de.parseHTML(t)).find(r):t)}).complete(i&&function(t,e){s.each(i,o||[t.responseText,e,t])}),this},de.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){de.fn[e]=function(t){return this.on(e,t)}}),de.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ln,type:"GET",isLocal:Bn.test(Nn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":de.parseJSON,"text xml":de.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?P(P(t,de.ajaxSettings),e):P(de.ajaxSettings,t)},ajaxPrefilter:N(jn),ajaxTransport:N(Yn),ajax:function(t,n){function i(t,n,i,r){var o,u,y,b,_,w=n;2!==x&&(x=2,l&&clearTimeout(l),d=e,s=r||"",k.readyState=t>0?4:0,o=t>=200&&300>t||304===t,i&&(b=I(h,k,i)),b=O(h,b,k,o),o?(h.ifModified&&(_=k.getResponseHeader("Last-Modified"),_&&(de.lastModified[a]=_),_=k.getResponseHeader("etag"),_&&(de.etag[a]=_)),204===t||"HEAD"===h.type?w="nocontent":304===t?w="notmodified":(w=b.state,u=b.data,y=b.error,o=!y)):(y=w,(t||!w)&&(w="error",0>t&&(t=0))),k.status=t,k.statusText=(n||w)+"",o?g.resolveWith(p,[u,w,k]):g.rejectWith(p,[k,w,y]),k.statusCode(v),v=e,c&&f.trigger(o?"ajaxSuccess":"ajaxError",[k,h,o?u:y]),m.fireWith(p,[k,w]),c&&(f.trigger("ajaxComplete",[k,h]),--de.active||de.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=e),n=n||{};var r,o,a,s,l,c,d,u,h=de.ajaxSetup({},n),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?de(p):de.event,g=de.Deferred(),m=de.Callbacks("once memory"),v=h.statusCode||{},y={},b={},x=0,_="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!u)for(u={};e=Rn.exec(s);)u[e[1].toLowerCase()]=e[2];e=u[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return x||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)v[e]=[v[e],t[e]];else k.always(t[k.status]);return this},abort:function(t){var e=t||_;return d&&d.abort(e),i(0,e),this}};if(g.promise(k).complete=m.add,k.success=k.done,k.error=k.fail,h.url=((t||h.url||Ln)+"").replace(On,"").replace(Fn,Nn[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=de.trim(h.dataType||"*").toLowerCase().match(he)||[""],null==h.crossDomain&&(r=zn.exec(h.url.toLowerCase()),h.crossDomain=!(!r||r[1]===Nn[1]&&r[2]===Nn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Nn[3]||("http:"===Nn[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=de.param(h.data,h.traditional)),L(jn,h,n,k),2===x)return k;c=h.global,c&&0===de.active++&&de.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Hn.test(h.type),a=h.url,h.hasContent||(h.data&&(a=h.url+=(In.test(a)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Kn.test(a)?a.replace(Kn,"$1_="+Pn++):a+(In.test(a)?"&":"?")+"_="+Pn++)),h.ifModified&&(de.lastModified[a]&&k.setRequestHeader("If-Modified-Since",de.lastModified[a]),de.etag[a]&&k.setRequestHeader("If-None-Match",de.etag[a])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",h.contentType),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Xn+"; q=0.01":""):h.accepts["*"]);for(o in h.headers)k.setRequestHeader(o,h.headers[o]);if(h.beforeSend&&(h.beforeSend.call(p,k,h)===!1||2===x))return k.abort();_="abort";for(o in{success:1,error:1,complete:1})k[o](h[o]);if(d=L(Yn,h,n,k)){k.readyState=1,c&&f.trigger("ajaxSend",[k,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){k.abort("timeout")},h.timeout));try{x=1,d.send(y,i)}catch(w){if(!(2>x))throw w;i(-1,w)}}else i(-1,"No Transport");return k},getJSON:function(t,e,n){return de.get(t,e,n,"json")},getScript:function(t,n){return de.get(t,e,n,"script")}}),de.each(["get","post"],function(t,n){de[n]=function(t,i,r,o){return de.isFunction(i)&&(o=o||r,r=i,i=e),de.ajax({url:t,type:n,dataType:o,data:i,success:r})}}),de.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return de.globalEval(t),t}}}),de.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)
}),de.ajaxTransport("script",function(t){if(t.crossDomain){var n,i=q.head||de("head")[0]||q.documentElement;return{send:function(e,r){n=q.createElement("script"),n.async=!0,t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(t,e){(e||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,e||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(e,!0)}}}});var $n=[],Vn=/(=)\?(?=&|$)|\?\?/;de.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=$n.pop()||de.expando+"_"+Pn++;return this[t]=!0,t}}),de.ajaxPrefilter("json jsonp",function(n,i,r){var o,a,s,l=n.jsonp!==!1&&(Vn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=de.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Vn,"$1"+o):n.jsonp!==!1&&(n.url+=(In.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||de.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=t[o],t[o]=function(){s=arguments},r.always(function(){t[o]=a,n[o]&&(n.jsonpCallback=i.jsonpCallback,$n.push(o)),s&&de.isFunction(a)&&a(s[0]),s=a=e}),"script"):void 0});var Un,qn,Zn=0,Qn=t.ActiveXObject&&function(){var t;for(t in Un)Un[t](e,!0)};de.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&K()||R()}:K,qn=de.ajaxSettings.xhr(),de.support.cors=!!qn&&"withCredentials"in qn,qn=de.support.ajax=!!qn,qn&&de.ajaxTransport(function(n){if(!n.crossDomain||de.support.cors){var i;return{send:function(r,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(t,r){var s,c,d,u;try{if(i&&(r||4===l.readyState))if(i=e,a&&(l.onreadystatechange=de.noop,Qn&&delete Un[a]),r)4!==l.readyState&&l.abort();else{u={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(u.text=l.responseText);try{d=l.statusText}catch(h){d=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=u.text?200:404}}catch(p){r||o(-1,p)}u&&o(s,d,u,c)},n.async?4===l.readyState?setTimeout(i):(a=++Zn,Qn&&(Un||(Un={},de(t).unload(Qn)),Un[a]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(e,!0)}}}});var Jn,ti,ei=/^(?:toggle|show|hide)$/,ni=new RegExp("^(?:([+-])=|)("+ue+")([a-z%]*)$","i"),ii=/queueHooks$/,ri=[W],oi={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=ni.exec(e),o=r&&r[3]||(de.cssNumber[t]?"":"px"),a=(de.cssNumber[t]||"px"!==o&&+i)&&ni.exec(de.css(n.elem,t)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do s=s||".5",a/=s,de.style(n.elem,t,a+o);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};de.Animation=de.extend(F,{tweener:function(t,e){de.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],oi[n]=oi[n]||[],oi[n].unshift(e)},prefilter:function(t,e){e?ri.unshift(t):ri.push(t)}}),de.Tween=j,j.prototype={constructor:j,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(de.cssNumber[n]?"":"px")},cur:function(){var t=j.propHooks[this.prop];return t&&t.get?t.get(this):j.propHooks._default.get(this)},run:function(t){var e,n=j.propHooks[this.prop];return this.pos=e=this.options.duration?de.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=de.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){de.fx.step[t.prop]?de.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[de.cssProps[t.prop]]||de.cssHooks[t.prop])?de.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},de.each(["toggle","show","hide"],function(t,e){var n=de.fn[e];de.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(Y(e,!0),t,i,r)}}),de.fn.extend({fadeTo:function(t,e,n,i){return this.filter(w).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=de.isEmptyObject(t),o=de.speed(e,n,i),a=function(){var e=F(this,de.extend({},t),o);(r||de._data(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,n,i){var r=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",o=de.timers,a=de._data(this);if(n)a[n]&&a[n].stop&&r(a[n]);else for(n in a)a[n]&&a[n].stop&&ii.test(n)&&r(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=t&&o[n].queue!==t||(o[n].anim.stop(i),e=!1,o.splice(n,1));(e||!i)&&de.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=de._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=de.timers,a=i?i.length:0;for(n.finish=!0,de.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),de.each({slideDown:Y("show"),slideUp:Y("hide"),slideToggle:Y("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){de.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),de.speed=function(t,e,n){var i=t&&"object"==typeof t?de.extend({},t):{complete:n||!n&&e||de.isFunction(t)&&t,duration:t,easing:n&&e||e&&!de.isFunction(e)&&e};return i.duration=de.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in de.fx.speeds?de.fx.speeds[i.duration]:de.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){de.isFunction(i.old)&&i.old.call(this),i.queue&&de.dequeue(this,i.queue)},i},de.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},de.timers=[],de.fx=j.prototype.init,de.fx.tick=function(){var t,n=de.timers,i=0;for(Jn=de.now();i<n.length;i++)t=n[i],t()||n[i]!==t||n.splice(i--,1);n.length||de.fx.stop(),Jn=e},de.fx.timer=function(t){t()&&de.timers.push(t)&&de.fx.start()},de.fx.interval=13,de.fx.start=function(){ti||(ti=setInterval(de.fx.tick,de.fx.interval))},de.fx.stop=function(){clearInterval(ti),ti=null},de.fx.speeds={slow:600,fast:200,_default:400},de.fx.step={},de.expr&&de.expr.filters&&(de.expr.filters.animated=function(t){return de.grep(de.timers,function(e){return t===e.elem}).length}),de.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){de.offset.setOffset(this,t,e)});var n,i,r={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return n=a.documentElement,de.contains(n,o)?(typeof o.getBoundingClientRect!==V&&(r=o.getBoundingClientRect()),i=X(a),{top:r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r},de.offset={setOffset:function(t,e,n){var i=de.css(t,"position");"static"===i&&(t.style.position="relative");var r,o,a=de(t),s=a.offset(),l=de.css(t,"top"),c=de.css(t,"left"),d=("absolute"===i||"fixed"===i)&&de.inArray("auto",[l,c])>-1,u={},h={};d?(h=a.position(),r=h.top,o=h.left):(r=parseFloat(l)||0,o=parseFloat(c)||0),de.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(u.top=e.top-s.top+r),null!=e.left&&(u.left=e.left-s.left+o),"using"in e?e.using.call(t,u):a.css(u)}},de.fn.extend({position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===de.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),de.nodeName(t[0],"html")||(n=t.offset()),n.top+=de.css(t[0],"borderTopWidth",!0),n.left+=de.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-de.css(i,"marginTop",!0),left:e.left-n.left-de.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Z;t&&!de.nodeName(t,"html")&&"static"===de.css(t,"position");)t=t.offsetParent;return t||Z})}}),de.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i=/Y/.test(n);de.fn[t]=function(r){return de.access(this,function(t,r,o){var a=X(t);return o===e?a?n in a?a[n]:a.document.documentElement[r]:t[r]:(a?a.scrollTo(i?de(a).scrollLeft():o,i?o:de(a).scrollTop()):t[r]=o,void 0)},t,r,arguments.length,null)}}),de.each({Height:"height",Width:"width"},function(t,n){de.each({padding:"inner"+t,content:n,"":"outer"+t},function(i,r){de.fn[r]=function(r,o){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(r===!0||o===!0?"margin":"border");return de.access(this,function(n,i,r){var o;return de.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+t],o["scroll"+t],n.body["offset"+t],o["offset"+t],o["client"+t])):r===e?de.css(n,i,s):de.style(n,i,r,s)},n,a?r:e,a,null)}})}),de.fn.size=function(){return this.length},de.fn.andSelf=de.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=de:(t.jQuery=t.$=de,"function"==typeof define&&define.amd&&define("jquery",[],function(){return de}))}(window),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(i){var r,o,a,s,l,c,d,u;if(n.fire(i,"ajax:before")){if(s=i.data("cross-domain"),l=s===e?null:s,c=i.data("with-credentials")||null,d=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),o=i.attr("action"),a=i.serializeArray();var h=i.data("ujs:submit-button");h&&(a.push(h),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),a=i.data("params")||null);u={type:r||"GET",data:a,dataType:d,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[t,r])},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:l},c&&(u.xhrFields={withCredentials:c}),o&&(u.url=o);var p=n.ajax(u);return i.trigger("ajax:send",p),p}return!1},handleMethod:function(i){var r=n.href(i),o=i.data("method"),a=i.attr("target"),s=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+r+'"></form>'),d='<input name="_method" value="'+o+'" type="hidden" />';l!==e&&s!==e&&(d+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(d).appendTo("body"),c.submit()},disableFormElements:function(e){e.find(n.disableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with",e[n]()),e[n](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(n.enableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[n](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,i=t.data("confirm"),r=!1;return i?(n.fire(t,"confirm")&&(r=n.confirm(i),e=n.fire(t,"confirm:complete",[r])),r&&e):!0},blankInputs:function(e,n,i){var r,o,a=t(),s=n||"input,textarea",l=e.find(s);return l.each(function(){if(r=t(this),o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!o==!i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;a=a.add(r)}}),a.length?a:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var r=t(this),o=r.data("method"),a=r.data("params");if(!n.allowAction(r))return n.stopEverything(i);if(r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==e){if(!(!i.metaKey&&!i.ctrlKey||o&&"GET"!==o||a))return!0;var s=n.handleRemote(r);return s===!1?n.enableElement(r):s.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r=t(this),o=r.data("remote")!==e,a=n.blankInputs(r,n.requiredInputSelector),s=n.nonBlankInputs(r,n.fileInputSelector);if(!n.allowAction(r))return n.stopEverything(i);if(a&&r.attr("novalidate")==e&&n.fire(r,"ajax:aborted:required",[a]))return n.stopEverything(i);if(o){if(s){setTimeout(function(){n.disableFormElements(r)},13);var l=n.fire(r,"ajax:aborted:file",[s]);return l||setTimeout(function(){n.enableFormElements(r)},13),l}return n.handleRemote(r),!1}setTimeout(function(){n.disableFormElements(r)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",o)}),i.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t('form input[name="'+n+'"]').val(e)}))}(jQuery),/*******************************************************************************
* KindEditor - WYSIWYG HTML Editor for Internet
* Copyright (C) 2006-2013 kindsoft.net
*
* @author Roddy <luolonghao@gmail.com>
* @website http://www.kindsoft.net/
* @licence http://www.kindsoft.net/license.php
* @version 4.1.7 (2013-04-21)
*******************************************************************************/
function(window,undefined){function _isArray(t){return t?"[object Array]"===Object.prototype.toString.call(t):!1}function _isFunction(t){return t?"[object Function]"===Object.prototype.toString.call(t):!1}function _inArray(t,e){for(var n=0,i=e.length;i>n;n++)if(t===e[n])return n;return-1}function _each(t,e){if(_isArray(t))for(var n=0,i=t.length;i>n&&e.call(t[n],n,t[n])!==!1;n++);else for(var r in t)if(t.hasOwnProperty(r)&&e.call(t[r],r,t[r])===!1)break}function _trim(t){return t.replace(/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"")}function _inString(t,e,n){return n=n===undefined?",":n,(n+e+n).indexOf(n+t+n)>=0}function _addUnit(t,e){return e=e||"px",t&&/^\d+$/.test(t)?t+e:t}function _removeUnit(t){var e;return t&&(e=/(\d+)/.exec(t))?parseInt(e[1],10):0}function _escape(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function _unescape(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&")}function _toCamel(t){var e=t.split("-");return t="",_each(e,function(e,n){t+=e>0?n.charAt(0).toUpperCase()+n.substr(1):n}),t}function _toHex(t){function e(t){var e=parseInt(t,10).toString(16).toUpperCase();return e.length>1?e:"0"+e}return t.replace(/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/gi,function(t,n,i,r){return"#"+e(n)+e(i)+e(r)})}function _toMap(t,e){e=e===undefined?",":e;var n,i={},r=_isArray(t)?t:t.split(e);return _each(r,function(t,e){if(n=/^(\d+)\.\.(\d+)$/.exec(e))for(var r=parseInt(n[1],10);r<=parseInt(n[2],10);r++)i[r.toString()]=!0;else i[e]=!0}),i}function _toArray(t,e){return Array.prototype.slice.call(t,e||0)}function _undef(t,e){return t===undefined?e:t}function _invalidUrl(t){return!t||/[<>"]/.test(t)}function _addParam(t,e){return t.indexOf("?")>=0?t+"&"+e:t+"?"+e}function _extend(t,e,n){n||(n=e,e=null);var i;if(e){var r=function(){};r.prototype=e.prototype,i=new r,_each(n,function(t,e){i[t]=e})}else i=n;i.constructor=t,t.prototype=i,t.parent=e?e.prototype:null}function _json(text){var match;(match=/\{[\s\S]*\}|\[[\s\S]*\]/.exec(text))&&(text=match[0]);var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;if(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return eval("("+text+")");throw"JSON parse error"}function _getBasePath(){for(var t,e=document.getElementsByTagName("script"),n=0,i=e.length;i>n;n++){if(t=e[n].src||"",/kindeditor[\w\-\.]*\.js/.test(t))return t.substring(0,t.lastIndexOf("/")+1);if(/application[\w\-\.]*\.js/.test(t))return t.substring(0,t.lastIndexOf("/")+1)+"kindeditor/"}return"/assets/kindeditor/"}function _bindEvent(t,e,n){t.addEventListener?t.addEventListener(e,n,_useCapture):t.attachEvent&&t.attachEvent("on"+e,n)}function _unbindEvent(t,e,n){t.removeEventListener?t.removeEventListener(e,n,_useCapture):t.detachEvent&&t.detachEvent("on"+e,n)}function KEvent(t,e){this.init(t,e)}function _getId(t){return t[_eventExpendo]||null}function _setId(t){return t[_eventExpendo]=++_eventId,_eventId}function _removeId(t){try{delete t[_eventExpendo]}catch(e){t.removeAttribute&&t.removeAttribute(_eventExpendo)}}function _bind(t,e,n){if(e.indexOf(",")>=0)return _each(e.split(","),function(){_bind(t,this,n)}),void 0;var i=_getId(t);i||(i=_setId(t)),_eventData[i]===undefined&&(_eventData[i]={});var r=_eventData[i][e];r&&r.length>0?_unbindEvent(t,e,r[0]):(_eventData[i][e]=[],_eventData[i].el=t),r=_eventData[i][e],0===r.length&&(r[0]=function(e){var n=e?new KEvent(t,e):undefined;_each(r,function(e,i){e>0&&i&&i.call(t,n)})}),_inArray(n,r)<0&&r.push(n),_bindEvent(t,e,r[0])}function _unbind(t,e,n){if(e&&e.indexOf(",")>=0)return _each(e.split(","),function(){_unbind(t,this,n)}),void 0;var i=_getId(t);if(i){if(e===undefined)return i in _eventData&&(_each(_eventData[i],function(e,n){"el"!=e&&n.length>0&&_unbindEvent(t,e,n[0])}),delete _eventData[i],_removeId(t)),void 0;if(_eventData[i]){var r=_eventData[i][e];if(r&&r.length>0){n===undefined?(_unbindEvent(t,e,r[0]),delete _eventData[i][e]):(_each(r,function(t,e){t>0&&e===n&&r.splice(t,1)}),1==r.length&&(_unbindEvent(t,e,r[0]),delete _eventData[i][e]));var o=0;_each(_eventData[i],function(){o++}),2>o&&(delete _eventData[i],_removeId(t))}}}}function _fire(t,e){if(e.indexOf(",")>=0)return _each(e.split(","),function(){_fire(t,this)}),void 0;var n=_getId(t);if(n){var i=_eventData[n][e];_eventData[n]&&i&&i.length>0&&i[0]()}}function _ctrl(t,e,n){e=/^\d{2,}$/.test(e)?e:e.toUpperCase().charCodeAt(0),_bind(t,"keydown",function(i){!i.ctrlKey||i.which!=e||i.shiftKey||i.altKey||(n.call(t),i.stop())})}function _ready(t){function e(){r||(r=!0,t(KindEditor))}function n(){if(!r){try{document.documentElement.doScroll("left")}catch(t){return setTimeout(n,100),void 0}e()}}function i(){"complete"===document.readyState&&e()}var r=!1;if(document.addEventListener)_bind(document,"DOMContentLoaded",e);else if(document.attachEvent){_bind(document,"readystatechange",i);var o=!1;try{o=null==window.frameElement}catch(a){}document.documentElement.doScroll&&o&&n()}_bind(window,"load",e)}function _getCssList(t){for(var e,n={},i=/\s*([\w\-]+)\s*:([^;]*)(;|$)/g;e=i.exec(t);){var r=_trim(e[1].toLowerCase()),o=_trim(_toHex(e[2]));n[r]=o}return n}function _getAttrList(t){for(var e,n={},i=/\s+(?:([\w\-:]+)|(?:([\w\-:]+)=([^\s"'<>]+))|(?:([\w\-:"]+)="([^"]*)")|(?:([\w\-:"]+)='([^']*)'))(?=(?:\s|\/|>)+)/g;e=i.exec(t);){var r=(e[1]||e[2]||e[4]||e[6]).toLowerCase(),o=(e[2]?e[3]:e[4]?e[5]:e[7])||"";n[r]=o}return n}function _addClassToTag(t,e){return t=/\s+class\s*=/.test(t)?t.replace(/(\s+class=["']?)([^"']*)(["']?[\s>])/,function(t,n,i,r){return(" "+i+" ").indexOf(" "+e+" ")<0?""===i?n+e+r:n+i+" "+e+r:t}):t.substr(0,t.length-1)+' class="'+e+'">'}function _formatCss(t){var e="";return _each(_getCssList(t),function(t,n){e+=t+":"+n+";"}),e}function _formatUrl(t,e,n,i){function r(t){for(var e=t.split("/"),n=[],i=0,r=e.length;r>i;i++){var o=e[i];".."==o?n.length>0&&n.pop():""!==o&&"."!=o&&n.push(o)}return"/"+n.join("/")}function o(e,n){if(t.substr(0,e.length)===e){for(var r=[],a=0;n>a;a++)r.push("..");var l=".";return r.length>0&&(l+="/"+r.join("/")),"/"==i&&(l+="/"),l+t.substr(e.length)}return(s=/^(.*)\//.exec(e))?o(s[1],++n):void 0}if(e=_undef(e,"").toLowerCase(),"data:"!=t.substr(0,5)&&(t=t.replace(/([^:])\/\//g,"$1/")),_inArray(e,["absolute","relative","domain"])<0)return t;if(n=n||location.protocol+"//"+location.host,i===undefined){var a=location.pathname.match(/^(\/.*)\//);i=a?a[1]:""}var s;if(s=/^(\w+:\/\/[^\/]*)/.exec(t)){if(s[1]!==n)return t}else if(/^\w+:/.test(t))return t;return/^\//.test(t)?t=n+r(t.substr(1)):/^\w+:\/\//.test(t)||(t=n+r(i+"/"+t)),"relative"===e?t=o(n+i,0).substr(2):"absolute"===e&&t.substr(0,n.length)===n&&(t=t.substr(n.length)),t}function _formatHtml(t,e,n,i,r){n=n||"",i=_undef(i,!1),r=_undef(r,"	");var o="xx-small,x-small,small,medium,large,x-large,xx-large".split(",");t=t.replace(/(<(?:pre|pre\s[^>]*)>)([\s\S]*?)(<\/pre>)/gi,function(t,e,n,i){return e+n.replace(/<(?:br|br\s[^>]*)>/gi,"\n")+i}),t=t.replace(/<(?:br|br\s[^>]*)\s*\/?>\s*<\/p>/gi,"</p>"),t=t.replace(/(<(?:p|p\s[^>]*)>)\s*(<\/p>)/gi,"$1<br />$2"),t=t.replace(/\u200B/g,""),t=t.replace(/\u00A9/g,"&copy;");var a={};e&&(_each(e,function(t,e){for(var n=t.split(","),i=0,r=n.length;r>i;i++)a[n[i]]=_toMap(e)}),a.script||(t=t.replace(/(<(?:script|script\s[^>]*)>)([\s\S]*?)(<\/script>)/gi,"")),a.style||(t=t.replace(/(<(?:style|style\s[^>]*)>)([\s\S]*?)(<\/style>)/gi,"")));var s=/([ \t\n\r]*)<(\/)?([\w\-:]+)((?:\s+|(?:\s+[\w\-:]+)|(?:\s+[\w\-:]+=[^\s"'<>]+)|(?:\s+[\w\-:"]+="[^"]*")|(?:\s+[\w\-:"]+='[^']*'))*)(\/)?>([ \t\n\r]*)/g,l=[];return t=t.replace(s,function(t,s,c,d,u,h,p){var f=t,g=s||"",m=c||"",v=d.toLowerCase(),y=u||"",b=h?" "+h:"",x=p||"";if(e&&!a[v])return"";if(""===b&&_SINGLE_TAG_MAP[v]&&(b=" /"),_INLINE_TAG_MAP[v]&&(g&&(g=" "),x&&(x=" ")),_PRE_TAG_MAP[v]&&(m?x="\n":g="\n"),i&&"br"==v&&(x="\n"),_BLOCK_TAG_MAP[v]&&!_PRE_TAG_MAP[v])if(i){m&&l.length>0&&l[l.length-1]===v?l.pop():l.push(v),g="\n",x="\n";for(var _=0,k=m?l.length:l.length-1;k>_;_++)g+=r,m||(x+=r);b?l.pop():m||(x+=r)}else g=x="";if(""!==y){var w=_getAttrList(f);if("font"===v){var C={},T="";_each(w,function(t,e){"color"===t&&(C.color=e,delete w[t]),"size"===t&&(C["font-size"]=o[parseInt(e,10)-1]||"",delete w[t]),"face"===t&&(C["font-family"]=e,delete w[t]),"style"===t&&(T=e)}),T&&!/;$/.test(T)&&(T+=";"),_each(C,function(t,e){""!==e&&(/\s/.test(e)&&(e="'"+e+"'"),T+=t+":"+e+";")}),w.style=T}_each(w,function(t,i){if(_FILL_ATTR_MAP[t]&&(w[t]=t),_inArray(t,["src","href"])>=0&&(w[t]=_formatUrl(i,n)),(e&&"style"!==t&&!a[v]["*"]&&!a[v][t]||"body"===v&&"contenteditable"===t||/^kindeditor_\d+$/.test(t))&&delete w[t],"style"===t&&""!==i){var r=_getCssList(i);_each(r,function(t){!e||a[v].style||a[v]["."+t]||delete r[t]});var o="";_each(r,function(t,e){o+=t+":"+e+";"}),w.style=o}}),y="",_each(w,function(t,e){("style"!==t||""!==e)&&(e=e.replace(/"/g,"&quot;"),y+=" "+t+'="'+e+'"')})}return"font"===v&&(v="span"),g+"<"+m+v+y+b+">"+x}),t=t.replace(/(<(?:pre|pre\s[^>]*)>)([\s\S]*?)(<\/pre>)/gi,function(t,e,n,i){return e+n.replace(/\n/g,'<span id="__kindeditor_pre_newline__">\n')+i}),t=t.replace(/\n\s*\n/g,"\n"),t=t.replace(/<span id="__kindeditor_pre_newline__">\n/g,"\n"),_trim(t)}function _clearMsWord(t,e){return t=t.replace(/<meta[\s\S]*?>/gi,"").replace(/<![\s\S]*?>/gi,"").replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/<w:[^>]+>[\s\S]*?<\/w:[^>]+>/gi,"").replace(/<o:[^>]+>[\s\S]*?<\/o:[^>]+>/gi,"").replace(/<xml>[\s\S]*?<\/xml>/gi,"").replace(/<(?:table|td)[^>]*>/gi,function(t){return t.replace(/border-bottom:([#\w\s]+)/gi,"border:$1")}),_formatHtml(t,e)}function _mediaType(t){return/\.(rm|rmvb)(\?|$)/i.test(t)?"audio/x-pn-realaudio-plugin":/\.(swf|flv)(\?|$)/i.test(t)?"application/x-shockwave-flash":"video/x-ms-asf-plugin"}function _mediaClass(t){return/realaudio/i.test(t)?"ke-rm":/flash/i.test(t)?"ke-flash":"ke-media"}function _mediaAttrs(t){return _getAttrList(unescape(t))}function _mediaEmbed(t){var e="<embed ";return _each(t,function(t,n){e+=t+'="'+n+'" '}),e+="/>"}function _mediaImg(t,e){var n=e.width,i=e.height,r=e.type||_mediaType(e.src),o=_mediaEmbed(e),a="";n>0&&(a+="width:"+n+"px;"),i>0&&(a+="height:"+i+"px;");var s='<img class="'+_mediaClass(r)+'" src="'+t+'" ';return""!==a&&(s+='style="'+a+'" '),s+='data-ke-tag="'+escape(o)+'" alt="" />'}function _tmpl(t,e){var n=new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return e?n(e):n}function _contains(t,e){if(9==t.nodeType&&9!=e.nodeType)return!0;for(;e=e.parentNode;)if(e==t)return!0;return!1}function _getAttr(t,e){e=e.toLowerCase();var n=null;if(_GET_SET_ATTRIBUTE||"script"==t.nodeName.toLowerCase())try{n=t.getAttribute(e,2)}catch(i){n=t.getAttribute(e,1)}else{var r=t.ownerDocument.createElement("div");r.appendChild(t.cloneNode(!1));var o=_getAttrList(_unescape(r.innerHTML));e in o&&(n=o[e])}return"style"===e&&null!==n&&(n=_formatCss(n)),n}function _queryAll(t,e){function n(t){return"string"!=typeof t?t:t.replace(/([^\w\-])/g,"\\$1")}function i(t){return t.replace(/\\/g,"")}function r(t,e){return"*"===t||t.toLowerCase()===n(e.toLowerCase())}function o(t,e,n){var o=[],a=n.ownerDocument||n,s=a.getElementById(i(t));return s&&r(e,s.nodeName)&&_contains(n,s)&&o.push(s),o}function a(t,e,n){var o,a,s,l,c=n.ownerDocument||n,d=[];if(n.getElementsByClassName)for(o=n.getElementsByClassName(i(t)),a=0,s=o.length;s>a;a++)l=o[a],r(e,l.nodeName)&&d.push(l);else if(c.querySelectorAll)for(o=c.querySelectorAll(("#document"!==n.nodeName?n.nodeName+" ":"")+e+"."+t),a=0,s=o.length;s>a;a++)l=o[a],_contains(n,l)&&d.push(l);else for(o=n.getElementsByTagName(e),t=" "+t+" ",a=0,s=o.length;s>a;a++)if(l=o[a],1==l.nodeType){var u=l.className;u&&(" "+u+" ").indexOf(t)>-1&&d.push(l)}return d}function s(t,e,n){for(var o,a=[],s=n.ownerDocument||n,l=s.getElementsByName(i(t)),c=0,d=l.length;d>c;c++)o=l[c],r(e,o.nodeName)&&_contains(n,o)&&o.getAttributeNode("name")&&a.push(o);return a}function l(t,e,i,r){for(var o,a=[],s=r.getElementsByTagName(i),l=0,c=s.length;c>l;l++)o=s[l],1==o.nodeType&&(null===e?null!==_getAttr(o,t)&&a.push(o):e===n(_getAttr(o,t))&&a.push(o));return a}function c(t,e){var n,i=[];n=/^((?:\\.|[^.#\s\[<>])+)/.exec(t);var r=n?n[1]:"*";if(n=/#((?:[\w\-]|\\.)+)$/.exec(t))i=o(n[1],r,e);else if(n=/\.((?:[\w\-]|\\.)+)$/.exec(t))i=a(n[1],r,e);else if(n=/\[((?:[\w\-]|\\.)+)\]/.exec(t))i=l(n[1].toLowerCase(),null,r,e);else if(n=/\[((?:[\w\-]|\\.)+)\s*=\s*['"]?((?:\\.|[^'"]+)+)['"]?\]/.exec(t)){var c=n[1].toLowerCase(),d=n[2];i="id"===c?o(d,r,e):"class"===c?a(d,r,e):"name"===c?s(d,r,e):l(c,d,r,e)}else for(var u,h=e.getElementsByTagName(r),p=0,f=h.length;f>p;p++)u=h[p],1==u.nodeType&&i.push(u);return i}var d=t.split(",");if(d.length>1){var u=[];return _each(d,function(){_each(_queryAll(this,e),function(){_inArray(this,u)<0&&u.push(this)})}),u}e=e||document;for(var h,p=[],f=/((?:\\.|[^\s>])+|[\s>])/g;h=f.exec(t);)" "!==h[1]&&p.push(h[1]);var g=[];if(1==p.length)return c(p[0],e);var m,v,y,b,x,_,k,w,C,T,S=!1;for(_=0,lenth=p.length;lenth>_;_++)if(m=p[_],">"!==m){if(_>0){for(v=[],k=0,C=g.length;C>k;k++)for(b=g[k],y=c(m,b),w=0,T=y.length;T>w;w++)x=y[w],S?b===x.parentNode&&v.push(x):v.push(x);g=v}else g=c(m,e);if(0===g.length)return[]}else S=!0;return g}function _query(t,e){var n=_queryAll(t,e);return n.length>0?n[0]:null}function _get(t){return K(t)[0]}function _getDoc(t){return t?t.ownerDocument||t.document||t:document}function _getWin(t){if(!t)return window;var e=_getDoc(t);return e.parentWindow||e.defaultView}function _setHtml(t,e){if(1==t.nodeType){var n=_getDoc(t);try{t.innerHTML='<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />'+e;var i=n.getElementById("__kindeditor_temp_tag__");i.parentNode.removeChild(i)}catch(r){K(t).empty(),K("@"+e,n).each(function(){t.appendChild(this)})}}}function _hasClass(t,e){return _inString(e,t.className," ")}function _setAttr(t,e,n){_IE&&8>_V&&"class"==e.toLowerCase()&&(e="className"),t.setAttribute(e,""+n)}function _removeAttr(t,e){_IE&&8>_V&&"class"==e.toLowerCase()&&(e="className"),_setAttr(t,e,""),t.removeAttribute(e)}function _getNodeName(t){return t&&t.nodeName?t.nodeName.toLowerCase():""}function _computedCss(t,e){var n=_getWin(t),i=_toCamel(e),r="";if(n.getComputedStyle){var o=n.getComputedStyle(t,null);r=o[i]||o.getPropertyValue(e)||t.style[i]}else t.currentStyle&&(r=t.currentStyle[i]||t.style[i]);return r}function _hasVal(t){return!!_VALUE_TAG_MAP[_getNodeName(t)]}function _docElement(t){return t=t||document,_QUIRKS?t.body:t.documentElement}function _docHeight(t){var e=_docElement(t);return Math.max(e.scrollHeight,e.clientHeight)}function _docWidth(t){var e=_docElement(t);return Math.max(e.scrollWidth,e.clientWidth)}function _getScrollPos(t){t=t||document;var e,n;return _IE||_OPERA?(e=_docElement(t).scrollLeft,n=_docElement(t).scrollTop):(e=_getWin(t).scrollX,n=_getWin(t).scrollY),{x:e,y:n}}function KNode(t){this.init(t)}function _updateCollapsed(t){return t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t}function _copyAndDelete(t,e,n){function i(i,r,o){var a,l=i.nodeValue.length;if(e){var c=i.cloneNode(!0);a=r>0?c.splitText(r):c,l>o&&a.splitText(o-r)}if(n){var d=i;if(r>0&&(d=i.splitText(r),t.setStart(i,r)),l>o){var u=d.splitText(o-r);t.setEnd(u,0)}s.push(d)}return a}function r(){n&&t.up().collapse(!0);for(var e=0,i=s.length;i>e;e++){var r=s[e];r.parentNode&&r.parentNode.removeChild(r)}}function o(r,p){for(var f,g=r.firstChild;g;){var m=new KRange(a).selectNode(g);if(c=m.compareBoundaryPoints(_START_TO_END,t),c>=0&&0>=d&&(d=m.compareBoundaryPoints(_START_TO_START,t)),d>=0&&0>=u&&(u=m.compareBoundaryPoints(_END_TO_END,t)),u>=0&&0>=h&&(h=m.compareBoundaryPoints(_END_TO_START,t)),h>=0)return!1;if(f=g.nextSibling,c>0)if(1==g.nodeType)if(d>=0&&0>=u)e&&p.appendChild(g.cloneNode(!0)),n&&s.push(g);else{var v;if(e&&(v=g.cloneNode(!1),p.appendChild(v)),o(g,v)===!1)return!1}else if(3==g.nodeType){var y;if(y=g==l.startContainer?i(g,l.startOffset,g.nodeValue.length):g==l.endContainer?i(g,0,l.endOffset):i(g,0,g.nodeValue.length),e)try{p.appendChild(y)}catch(b){}}g=f}}var a=t.doc,s=[],l=t.cloneRange().down(),c=-1,d=-1,u=-1,h=-1,p=t.commonAncestor(),f=a.createDocumentFragment();if(3==p.nodeType){var g=i(p,t.startOffset,t.endOffset);return e&&f.appendChild(g),r(),e?f:t}o(p,f),n&&t.up().collapse(!0);for(var m=0,v=s.length;v>m;m++){var y=s[m];y.parentNode&&y.parentNode.removeChild(y)}return e?f:t}function _moveToElementText(t,e){for(var n=e;n;){var i=K(n);if("marquee"==i.name||"select"==i.name)return;n=n.parentNode}try{t.moveToElementText(e)}catch(r){}}function _getStartEnd(t,e){var n=t.parentElement().ownerDocument,i=t.duplicate();i.collapse(e);var r=i.parentElement(),o=r.childNodes;if(0===o.length)return{node:r.parentNode,offset:K(r).index()};var a=n,s=0,l=-1,c=t.duplicate();_moveToElementText(c,r);for(var d=0,u=o.length;u>d;d++){var h=o[d];if(l=c.compareEndPoints("StartToStart",i),0===l)return{node:h.parentNode,offset:d};if(1==h.nodeType){var p,f=t.duplicate(),g=K(h),m=h;g.isControl()&&(p=n.createElement("span"),g.after(p),m=p,s+=g.text().replace(/\r\n|\n|\r/g,"").length),_moveToElementText(f,m),c.setEndPoint("StartToEnd",f),l>0?s+=f.text.replace(/\r\n|\n|\r/g,"").length:s=0,p&&K(p).remove()}else 3==h.nodeType&&(c.moveStart("character",h.nodeValue.length),s+=h.nodeValue.length);0>l&&(a=h)}if(0>l&&1==a.nodeType)return{node:r,offset:K(r.lastChild).index()+1};if(l>0)for(;a.nextSibling&&1==a.nodeType;)a=a.nextSibling;if(c=t.duplicate(),_moveToElementText(c,r),c.setEndPoint("StartToEnd",i),s-=c.text.replace(/\r\n|\n|\r/g,"").length,l>0&&3==a.nodeType)for(var v=a.previousSibling;v&&3==v.nodeType;)s-=v.nodeValue.length,v=v.previousSibling;return{node:a,offset:s}}function _getEndRange(t,e){var n=t.ownerDocument||t,i=n.body.createTextRange();if(n==t)return i.collapse(!0),i;if(1==t.nodeType&&t.childNodes.length>0){var r,o,a=t.childNodes;if(0===e?(o=a[0],r=!0):(o=a[e-1],r=!1),!o)return i;if("head"===K(o).name)return 1===e&&(r=!0),2===e&&(r=!1),i.collapse(r),i;if(1==o.nodeType){var s,l=K(o);return l.isControl()&&(s=n.createElement("span"),r?l.before(s):l.after(s),o=s),_moveToElementText(i,o),i.collapse(r),s&&K(s).remove(),i}t=o,e=r?0:o.nodeValue.length}var c=n.createElement("span");return K(t).before(c),_moveToElementText(i,c),i.moveStart("character",e),K(c).remove(),i}function _toRange(t){function e(t){"tr"==K(t.node).name&&(t.node=t.node.cells[t.offset],t.offset=0)}var n,i;if(_IE){if(t.item)return n=_getDoc(t.item(0)),i=new KRange(n),i.selectNode(t.item(0)),i;n=t.parentElement().ownerDocument;var r=_getStartEnd(t,!0),o=_getStartEnd(t,!1);return e(r),e(o),i=new KRange(n),i.setStart(r.node,r.offset),i.setEnd(o.node,o.offset),i}var a=t.startContainer;return n=a.ownerDocument||a,i=new KRange(n),i.setStart(a,t.startOffset),i.setEnd(t.endContainer,t.endOffset),i}function KRange(t){this.init(t)}function _range(t){return t.nodeName?new KRange(t):t.constructor===KRange?t:_toRange(t)}function _nativeCommand(t,e,n){try{t.execCommand(e,!1,n)}catch(i){}}function _nativeCommandValue(t,e){var n="";try{n=t.queryCommandValue(e)}catch(i){}return"string"!=typeof n&&(n=""),n}function _getSel(t){var e=_getWin(t);return t.selection||e.getSelection()}function _getRng(t){var e,n=_getSel(t);try{e=n.rangeCount>0?n.getRangeAt(0):n.createRange()}catch(i){}return!_IE||e&&(e.item||e.parentElement().ownerDocument===t)?e:null}function _singleKeyMap(t){var e,n,i={};return _each(t,function(t,r){e=t.split(",");for(var o=0,a=e.length;a>o;o++)n=e[o],i[n]=r}),i}function _hasAttrOrCss(t,e){return _hasAttrOrCssByKey(t,e,"*")||_hasAttrOrCssByKey(t,e)}function _hasAttrOrCssByKey(t,e,n){if(n=n||t.name,1!==t.type)return!1;var i=_singleKeyMap(e);if(!i[n])return!1;for(var r=i[n].split(","),o=0,a=r.length;a>o;o++){var s=r[o];if("*"===s)return!0;var l=/^(\.?)([^=]+)(?:=([^=]*))?$/.exec(s),c=l[1]?"css":"attr";s=l[2];var d=l[3]||"";if(""===d&&""!==t[c](s))return!0;if(""!==d&&t[c](s)===d)return!0}return!1}function _removeAttrOrCss(t,e){1==t.type&&(_removeAttrOrCssByKey(t,e,"*"),_removeAttrOrCssByKey(t,e))}function _removeAttrOrCssByKey(t,e,n){if(n=n||t.name,1===t.type){var i=_singleKeyMap(e);if(i[n]){for(var r=i[n].split(","),o=!1,a=0,s=r.length;s>a;a++){var l=r[a];if("*"===l){o=!0;break}var c=/^(\.?)([^=]+)(?:=([^=]*))?$/.exec(l);l=c[2],c[1]?(l=_toCamel(l),t[0].style[l]&&(t[0].style[l]="")):t.removeAttr(l)}o&&t.remove(!0)}}}function _getInnerNode(t){for(var e=t;e.first();)e=e.first();return e}function _isEmptyNode(t){return 1!=t.type||t.isSingle()?!1:""===t.html().replace(/<[^>]+>/g,"")}function _mergeWrapper(t,e){t=t.clone(!0);for(var n=_getInnerNode(t),i=t,r=!1;e;){for(;i;)i.name===e.name&&(_mergeAttrs(i,e.attr(),e.css()),r=!0),i=i.first();r||n.append(e.clone(!1)),r=!1,e=e.first()}return t}function _wrapNode(t,e){if(e=e.clone(!0),3==t.type)return _getInnerNode(e).append(t.clone(!1)),t.replaceWith(e),e;for(var n,i=t;(n=t.first())&&1==n.children().length;)t=n;n=t.first();for(var r=t.doc.createDocumentFragment();n;)r.appendChild(n[0]),n=n.next();return e=_mergeWrapper(i,e),r.firstChild&&_getInnerNode(e).append(r),i.replaceWith(e),e}function _mergeAttrs(t,e,n){_each(e,function(e,n){"style"!==e&&t.attr(e,n)}),_each(n,function(e,n){t.css(e,n)})}function _inPreElement(t){for(;t&&"body"!=t.name;){if(_PRE_TAG_MAP[t.name]||"div"==t.name&&t.hasClass("ke-script"))return!0;t=t.parent()}return!1}function KCmd(t){this.init(t)}function _cmd(t){if(t.nodeName){var e=_getDoc(t);t=_range(e).selectNodeContents(e.body).collapse(!1)}return new KCmd(t)}function _drag(t){var e=t.moveEl,n=t.moveFn,i=t.clickEl||e,r=t.beforeDrag,o=t.iframeFix===undefined?!0:t.iframeFix,a=[document];o&&K("iframe").each(function(){var t=_formatUrl(this.src||"","absolute");if(!/^https?:\/\//.test(t)){var e;try{e=_iframeDoc(this)}catch(n){}if(e){var i=K(this).pos();K(e).data("pos-x",i.x),K(e).data("pos-y",i.y),a.push(e)}}}),i.mousedown(function(t){function o(t){t.preventDefault();var e=K(_getDoc(t.target)),r=_round((e.data("pos-x")||0)+t.pageX-f),o=_round((e.data("pos-y")||0)+t.pageY-g);n.call(i,d,u,h,p,r,o)}function s(t){t.preventDefault()}function l(t){t.preventDefault(),K(a).unbind("mousemove",o).unbind("mouseup",l).unbind("selectstart",s),c.releaseCapture&&c.releaseCapture()}t.stopPropagation();var c=i.get(),d=_removeUnit(e.css("left")),u=_removeUnit(e.css("top")),h=e.width(),p=e.height(),f=t.pageX,g=t.pageY;r&&r(),K(a).mousemove(o).mouseup(l).bind("selectstart",s),c.setCapture&&c.setCapture()})}function KWidget(t){this.init(t)}function _widget(t){return new KWidget(t)}function _iframeDoc(t){return t=_get(t),t.contentDocument||t.contentWindow.document}function _getInitHtml(t,e,n,i){var r=[""===_direction?"<html>":'<html dir="'+_direction+'">','<head><meta charset="utf-8" /><title></title>',"<style>","html {margin:0;padding:0;}","body {margin:0;padding:5px;}",'body, td {font:12px/1.5 "sans serif",tahoma,verdana,helvetica;}',"body, p, div {word-wrap: break-word;}","p {margin:5px 0;}","table {border-collapse:collapse;}","img {border:0;}","noscript {display:none;}","table.ke-zeroborder td {border:1px dotted #AAA;}","img.ke-flash {","	border:1px solid #AAA;","	background-image:url("+t+"common/flash.gif);","	background-position:center center;","	background-repeat:no-repeat;","	width:100px;","	height:100px;","}","img.ke-rm {","	border:1px solid #AAA;","	background-image:url("+t+"common/rm.gif);","	background-position:center center;","	background-repeat:no-repeat;","	width:100px;","	height:100px;","}","img.ke-media {","	border:1px solid #AAA;","	background-image:url("+t+"common/media.gif);","	background-position:center center;","	background-repeat:no-repeat;","	width:100px;","	height:100px;","}","img.ke-anchor {","	border:1px dashed #666;","	width:16px;","	height:16px;","}",".ke-script, .ke-noscript, .ke-display-none {","	display:none;","	font-size:0;","	width:0;","	height:0;","}",".ke-pagebreak {","	border:1px dotted #AAA;","	font-size:0;","	height:2px;","}","</style>"];return _isArray(n)||(n=[n]),_each(n,function(t,e){e&&r.push('<link href="'+e+'" rel="stylesheet" />')}),i&&r.push("<style>"+i+"</style>"),r.push("</head><body "+(e?'class="'+e+'"':"")+"></body></html>"),r.join("\n")}function _elementVal(t,e){if(t.hasVal()){if(e===undefined){var n=t.val();return n=n.replace(/(<(?:p|p\s[^>]*)>) *(<\/p>)/gi,"")}return t.val(e)}return t.html(e)}function KEdit(t){this.init(t)}function _edit(t){return new KEdit(t)}function _selectToolbar(t,e){var n=this,i=n.get(t);if(i){if(i.hasClass("ke-disabled"))return;e(i)}}function KToolbar(t){this.init(t)}function _toolbar(t){return new KToolbar(t)}function KMenu(t){this.init(t)}function _menu(t){return new KMenu(t)}function KColorPicker(t){this.init(t)}function _colorpicker(t){return new KColorPicker(t)}function KUploadButton(t){this.init(t)}function _uploadbutton(t){return new KUploadButton(t)}function _createButton(t){t=t||{};var e=t.name||"",n=K('<span class="ke-button-common ke-button-outer" title="'+e+'"></span>'),i=K('<input class="ke-button-common ke-button" type="button" value="'+e+'" />');return t.click&&i.click(t.click),n.append(i),n}function KDialog(t){this.init(t)}function _dialog(t){return new KDialog(t)}function _tabs(t){var e=_widget(t),n=e.remove,i=t.afterSelect,r=e.div,o=[];r.addClass("ke-tabs").bind("contextmenu,mousedown,mousemove",function(t){t.preventDefault()});var a=K('<ul class="ke-tabs-ul ke-clearfix"></ul>');return r.append(a),e.add=function(t){var e=K('<li class="ke-tabs-li">'+t.title+"</li>");e.data("tab",t),o.push(e),a.append(e)},e.selectedIndex=0,e.select=function(t){e.selectedIndex=t,_each(o,function(n,i){i.unbind(),n===t?(i.addClass("ke-tabs-li-selected"),K(i.data("tab").panel).show("")):(i.removeClass("ke-tabs-li-selected").removeClass("ke-tabs-li-on").mouseover(function(){K(this).addClass("ke-tabs-li-on")}).mouseout(function(){K(this).removeClass("ke-tabs-li-on")}).click(function(){e.select(n)}),K(i.data("tab").panel).hide())}),i&&i.call(e,t)},e.remove=function(){_each(o,function(){this.remove()}),a.remove(),n.call(e)},e}function _loadScript(t,e){var n=document.getElementsByTagName("head")[0]||(_QUIRKS?document.body:document.documentElement),i=document.createElement("script");n.appendChild(i),i.src=t,i.charset="utf-8",i.onload=i.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState||(e&&e(),i.onload=i.onreadystatechange=null,n.removeChild(i))}}function _chopQuery(t){var e=t.indexOf("?");return e>0?t.substr(0,e):t}function _loadStyle(t){for(var e=document.getElementsByTagName("head")[0]||(_QUIRKS?document.body:document.documentElement),n=document.createElement("link"),i=_chopQuery(_formatUrl(t,"absolute")),r=K('link[rel="stylesheet"]',e),o=0,a=r.length;a>o;o++)if(_chopQuery(_formatUrl(r[o].href,"absolute"))===i)return;e.appendChild(n),n.href=t,n.rel="stylesheet"}function _ajax(t,e,n,i,r){n=n||"GET",r=r||"json";var o=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");if(o.open(n,t,!0),o.onreadystatechange=function(){if(4==o.readyState&&200==o.status&&e){var t=_trim(o.responseText);"json"==r&&(t=_json(t)),e(t)}},"POST"==n){var a=[];_each(i,function(t,e){a.push(encodeURIComponent(t)+"="+encodeURIComponent(e))});try{o.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}catch(s){}o.send(a.join("&"))}else o.send(null)}function _plugin(t,e){return t===undefined?_plugins:e?(_plugins[t]=e,void 0):_plugins[t]}function _parseLangKey(t){var e,n="core";return(e=/^(\w+)\.(\w+)$/.exec(t))&&(n=e[1],t=e[2]),{ns:n,key:t}}function _lang(t,e){if(e=e===undefined?K.options.langType:e,"string"==typeof t){if(!_language[e])return"no language";var n=t.length-1;if("."===t.substr(n))return _language[e][t.substr(0,n)];var i=_parseLangKey(t);return _language[e][i.ns][i.key]}_each(t,function(t,n){var i=_parseLangKey(t);_language[e]||(_language[e]={}),_language[e][i.ns]||(_language[e][i.ns]={}),_language[e][i.ns][i.key]=n})}function _getImageFromRange(t,e){if(!t.collapsed){t=t.cloneRange().up();var n=t.startContainer,i=t.startOffset;if(_WEBKIT||t.isControl()){var r=K(n.childNodes[i]);if(r&&"img"==r.name)return e(r)?r:void 0}}}function _bindContextmenuEvent(){var t=this,e=t.edit.doc;K(e).contextmenu(function(e){if(t.menu&&t.hideMenu(),!t.useContextmenu)return e.preventDefault(),void 0;if(0!==t._contextmenus.length){var n=0,i=[];for(_each(t._contextmenus,function(){return"-"==this.title?(i.push(this),void 0):(this.cond&&this.cond()&&(i.push(this),this.width&&this.width>n&&(n=this.width)),void 0)});i.length>0&&"-"==i[0].title;)i.shift();for(;i.length>0&&"-"==i[i.length-1].title;)i.pop();var r=null;if(_each(i,function(t){"-"==this.title&&"-"==r.title&&delete i[t],r=this}),i.length>0){e.preventDefault();var o=K(t.edit.iframe).pos(),a=_menu({x:o.x+e.clientX,y:o.y+e.clientY,width:n,css:{visibility:"hidden"},shadowMode:t.shadowMode});_each(i,function(){this.title&&a.addItem(this)});var s=_docElement(a.doc),l=a.div.height();e.clientY+l>=s.clientHeight-100&&a.pos(a.x,_removeUnit(a.y)-l),a.div.css("visibility","visible"),t.menu=a}}})}function _bindNewlineEvent(){function t(t){for(var e=K(t.commonAncestor());e&&(1!=e.type||e.isStyle());)e=e.parent();return e.name}var e=this,n=e.edit.doc,i=e.newlineTag;if(!(_IE&&"br"!==i||_GECKO&&3>_V&&"p"!==i||_OPERA&&9>_V)){var r=_toMap("h1,h2,h3,h4,h5,h6,pre,li"),o=_toMap("p,h1,h2,h3,h4,h5,h6,pre,li,blockquote");K(n).keydown(function(a){if(!(13!=a.which||a.shiftKey||a.ctrlKey||a.altKey)){e.cmd.selection();var s=t(e.cmd.range);if("marquee"!=s&&"select"!=s)return"br"!==i||r[s]?(o[s]||_nativeCommand(n,"formatblock","<p>"),void 0):(a.preventDefault(),e.insertHtml("<br />"+(_IE&&9>_V?"":"​")),void 0)}}),K(n).keyup(function(r){if(!(13!=r.which||r.shiftKey||r.ctrlKey||r.altKey)&&"br"!=i){if(_GECKO){var a=e.cmd.commonAncestor("p"),s=e.cmd.commonAncestor("a");return s&&""==s.text()&&(s.remove(!0),e.cmd.range.selectNodeContents(a[0]).collapse(!0),e.cmd.select()),void 0}e.cmd.selection();var l=t(e.cmd.range);if("marquee"!=l&&"select"!=l){o[l]||_nativeCommand(n,"formatblock","<p>");var c=e.cmd.commonAncestor("div");if(c){for(var d=K("<p></p>"),u=c[0].firstChild;u;){var h=u.nextSibling;d.append(u),u=h}c.before(d),c.remove(),e.cmd.range.selectNodeContents(d[0]),e.cmd.select()}}}})}}function _bindTabEvent(){var t=this,e=t.edit.doc;K(e).keydown(function(n){if(9==n.which){if(n.preventDefault(),t.afterTab)return t.afterTab.call(t,n),void 0;var i=t.cmd,r=i.range;r.shrink(),r.collapsed&&1==r.startContainer.nodeType&&(r.insertNode(K("@&nbsp;",e)[0]),i.select()),t.insertHtml("&nbsp;&nbsp;&nbsp;&nbsp;")}})}function _bindFocusEvent(){var t=this;K(t.edit.textarea[0],t.edit.win).focus(function(e){t.afterFocus&&t.afterFocus.call(t,e)}).blur(function(e){t.afterBlur&&t.afterBlur.call(t,e)})}function _removeBookmarkTag(t){return _trim(t.replace(/<span [^>]*id="?__kindeditor_bookmark_\w+_\d+__"?[^>]*><\/span>/gi,""))}function _removeTempTag(t){return t.replace(/<div[^>]+class="?__kindeditor_paste__"?[^>]*>[\s\S]*?<\/div>/gi,"")}function _addBookmarkToStack(t,e){if(0===t.length)return t.push(e),void 0;var n=t[t.length-1];_removeBookmarkTag(e.html)!==_removeBookmarkTag(n.html)&&t.push(e)}function _undoToRedo(t,e){var n,i,r=this,o=r.edit,a=o.doc.body;if(0===t.length)return r;o.designMode?(n=r.cmd.range,i=n.createBookmark(!0),i.html=a.innerHTML):i={html:a.innerHTML},_addBookmarkToStack(e,i);var s=t.pop();return _removeBookmarkTag(i.html)===_removeBookmarkTag(s.html)&&t.length>0&&(s=t.pop()),o.designMode?(o.html(s.html),s.start&&(n.moveToBookmark(s),r.select())):K(a).html(_removeBookmarkTag(s.html)),r}function KEditor(t){function e(t,e){KEditor.prototype[t]===undefined&&(n[t]=e),n.options[t]=e}var n=this;n.options={},_each(t,function(n){e(n,t[n])}),_each(K.options,function(t,i){n[t]===undefined&&e(t,i)});var i=K(n.srcElement||"<textarea/>");n.width||(n.width=i[0].style.width||i.width()),n.height||(n.height=i[0].style.height||i.height()),e("width",_undef(n.width,n.minWidth)),e("height",_undef(n.height,n.minHeight)),e("width",_addUnit(n.width)),e("height",_addUnit(n.height)),_MOBILE&&(!_IOS||534>_V)&&(n.designMode=!1),n.srcElement=i,n.initContent="",n.plugin={},n.isCreated=!1,n.isLoading=!1,n._handlers={},n._contextmenus=[],n._undoStack=[],n._redoStack=[],n._calledPlugins={},n._firstAddBookmark=!0,n.menu=n.contextmenu=null,n.dialogs=[]
}function _editor(t){return new KEditor(t)}function _create(t,e){function n(t){return _each(_plugins,function(e,n){n.call(t,KindEditor)}),t.create()}if(e=e||{},e.basePath=_undef(e.basePath,K.basePath),e.themesPath=_undef(e.themesPath,e.basePath+"themes/"),e.langPath=_undef(e.langPath,e.basePath+"lang/"),e.pluginsPath=_undef(e.pluginsPath,e.basePath+"plugins/"),_undef(e.loadStyleMode,K.options.loadStyleMode)){var i=_undef(e.themeType,K.options.themeType);_loadStyle(e.themesPath+"default/default.css"),_loadStyle(e.themesPath+i+"/"+i+".css")}var r=K(t);if(r&&0!==r.length){if(r.length>1)return r.each(function(){_create(this,e)}),_instances[0];e.srcElement=r[0];var o=new KEditor(e);return _instances.push(o),_language[o.langType]?n(o):(_loadScript(o.langPath+o.langType+".js?ver="+encodeURIComponent(K.DEBUG?_TIME:_VERSION),function(){n(o)}),o)}}function _eachEditor(t,e){K(t).each(function(t,n){K.each(_instances,function(t,i){return i&&i.srcElement[0]==n?(e.call(i,t,i),!1):void 0})})}if(!window.KindEditor){window.console||(window.console={}),console.log||(console.log=function(){});var _VERSION="4.1.7 (2013-04-21)",_ua=navigator.userAgent.toLowerCase(),_IE=_ua.indexOf("msie")>-1&&-1==_ua.indexOf("opera"),_GECKO=_ua.indexOf("gecko")>-1&&-1==_ua.indexOf("khtml"),_WEBKIT=_ua.indexOf("applewebkit")>-1,_OPERA=_ua.indexOf("opera")>-1,_MOBILE=_ua.indexOf("mobile")>-1,_IOS=/ipad|iphone|ipod/.test(_ua),_QUIRKS="CSS1Compat"!=document.compatMode,_matches=/(?:msie|firefox|webkit|opera)[\/:\s](\d+)/.exec(_ua),_V=_matches?_matches[1]:"0",_TIME=(new Date).getTime(),_round=Math.round,K={DEBUG:!1,VERSION:_VERSION,IE:_IE,GECKO:_GECKO,WEBKIT:_WEBKIT,OPERA:_OPERA,V:_V,TIME:_TIME,each:_each,isArray:_isArray,isFunction:_isFunction,inArray:_inArray,inString:_inString,trim:_trim,addUnit:_addUnit,removeUnit:_removeUnit,escape:_escape,unescape:_unescape,toCamel:_toCamel,toHex:_toHex,toMap:_toMap,toArray:_toArray,undef:_undef,invalidUrl:_invalidUrl,addParam:_addParam,extend:_extend,json:_json},_INLINE_TAG_MAP=_toMap("a,abbr,acronym,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,img,input,ins,kbd,label,map,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),_BLOCK_TAG_MAP=_toMap("address,applet,blockquote,body,center,dd,dir,div,dl,dt,fieldset,form,frameset,h1,h2,h3,h4,h5,h6,head,hr,html,iframe,ins,isindex,li,map,menu,meta,noframes,noscript,object,ol,p,pre,script,style,table,tbody,td,tfoot,th,thead,title,tr,ul"),_SINGLE_TAG_MAP=_toMap("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),_STYLE_TAG_MAP=_toMap("b,basefont,big,del,em,font,i,s,small,span,strike,strong,sub,sup,u"),_CONTROL_TAG_MAP=_toMap("img,table,input,textarea,button"),_PRE_TAG_MAP=_toMap("pre,style,script"),_NOSPLIT_TAG_MAP=_toMap("html,head,body,td,tr,table,ol,ul,li"),_AUTOCLOSE_TAG_MAP=_toMap("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),_FILL_ATTR_MAP=_toMap("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),_VALUE_TAG_MAP=_toMap("input,button,textarea,select");K.basePath=_getBasePath(),K.options={designMode:!0,fullscreenMode:!1,filterMode:!0,wellFormatMode:!0,shadowMode:!0,loadStyleMode:!0,basePath:K.basePath,themesPath:K.basePath+"themes/",langPath:K.basePath+"lang/",pluginsPath:K.basePath+"plugins/",themeType:"default",langType:"zh_CN",urlType:"",newlineTag:"p",resizeType:2,syncType:"form",pasteType:2,dialogAlignType:"page",useContextmenu:!0,fullscreenShortcut:!1,bodyClass:"ke-content",indentChar:"	",cssPath:"",cssData:"",minWidth:650,minHeight:100,minChangeSize:50,zIndex:811213,items:["source","|","undo","redo","|","preview","print","template","code","cut","copy","paste","plainpaste","wordpaste","|","justifyleft","justifycenter","justifyright","justifyfull","insertorderedlist","insertunorderedlist","indent","outdent","subscript","superscript","clearhtml","quickformat","selectall","|","fullscreen","/","formatblock","fontname","fontsize","|","forecolor","hilitecolor","bold","italic","underline","strikethrough","lineheight","removeformat","|","image","multiimage","flash","media","insertfile","table","hr","emoticons","baidumap","pagebreak","anchor","link","unlink","|","about"],noDisableItems:["source","fullscreen"],colorTable:[["#E53333","#E56600","#FF9900","#64451D","#DFC5A4","#FFE500"],["#009900","#006600","#99BB00","#B8D100","#60D978","#00D5FF"],["#337FE5","#003399","#4C33E5","#9933E5","#CC33E5","#EE33EE"],["#FFFFFF","#CCCCCC","#999999","#666666","#333333","#000000"]],fontSizeTable:["9px","10px","12px","14px","16px","18px","24px","32px"],htmlTags:{font:["id","class","color","size","face",".background-color"],span:["id","class",".color",".background-color",".font-size",".font-family",".background",".font-weight",".font-style",".text-decoration",".vertical-align",".line-height"],div:["id","class","align",".border",".margin",".padding",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".background",".font-style",".text-decoration",".vertical-align",".margin-left"],table:["id","class","border","cellspacing","cellpadding","width","height","align","bordercolor",".padding",".margin",".border","bgcolor",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".font-style",".text-decoration",".background",".width",".height",".border-collapse"],"td,th":["id","class","align","valign","width","height","colspan","rowspan","bgcolor",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".font-style",".text-decoration",".vertical-align",".background",".border"],a:["id","class","href","target","name"],embed:["id","class","src","width","height","type","loop","autostart","quality",".width",".height","align","allowscriptaccess"],img:["id","class","src","width","height","border","alt","title","align",".width",".height",".border"],"p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6":["id","class","align",".text-align",".color",".background-color",".font-size",".font-family",".background",".font-weight",".font-style",".text-decoration",".vertical-align",".text-indent",".margin-left"],pre:["id","class"],hr:["id","class",".page-break-after"],"br,tbody,tr,strong,b,sub,sup,em,i,u,strike,s,del":["id","class"],iframe:["id","class","src","frameborder","width","height",".width",".height"]},layout:'<div class="container"><div class="toolbar"></div><div class="edit"></div><div class="statusbar"></div></div>'};var _useCapture=!1,_INPUT_KEY_MAP=_toMap("8,9,13,32,46,48..57,59,61,65..90,106,109..111,188,190..192,219..222"),_CURSORMOVE_KEY_MAP=_toMap("33..40"),_CHANGE_KEY_MAP={};_each(_INPUT_KEY_MAP,function(t,e){_CHANGE_KEY_MAP[t]=e}),_each(_CURSORMOVE_KEY_MAP,function(t,e){_CHANGE_KEY_MAP[t]=e});var _EVENT_PROPS="altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which".split(",");_extend(KEvent,{init:function(t,e){var n=this,i=t.ownerDocument||t.document||t;if(n.event=e,_each(_EVENT_PROPS,function(t,i){n[i]=e[i]}),n.target||(n.target=n.srcElement||i),3===n.target.nodeType&&(n.target=n.target.parentNode),!n.relatedTarget&&n.fromElement&&(n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement),null==n.pageX&&null!=n.clientX){var r=i.documentElement,o=i.body;n.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),n.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)}switch(!n.which&&(n.charCode||0===n.charCode?n.charCode:n.keyCode)&&(n.which=n.charCode||n.keyCode),!n.metaKey&&n.ctrlKey&&(n.metaKey=n.ctrlKey),n.which||n.button===undefined||(n.which=1&n.button?1:2&n.button?3:4&n.button?2:0),n.which){case 186:n.which=59;break;case 187:case 107:case 43:n.which=61;break;case 189:case 45:n.which=109;break;case 42:n.which=106;break;case 47:n.which=111;break;case 78:n.which=110}n.which>=96&&n.which<=105&&(n.which-=48)},preventDefault:function(){var t=this.event;t.preventDefault&&t.preventDefault(),t.returnValue=!1},stopPropagation:function(){var t=this.event;t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},stop:function(){this.preventDefault(),this.stopPropagation()}});var _eventExpendo="kindeditor_"+_TIME,_eventId=0,_eventData={};_IE&&window.attachEvent("onunload",function(){_each(_eventData,function(t,e){e.el&&_unbind(e.el)})}),K.ctrl=_ctrl,K.ready=_ready,K.formatUrl=_formatUrl,K.formatHtml=_formatHtml,K.getCssList=_getCssList,K.getAttrList=_getAttrList,K.mediaType=_mediaType,K.mediaAttrs=_mediaAttrs,K.mediaEmbed=_mediaEmbed,K.mediaImg=_mediaImg,K.clearMsWord=_clearMsWord,K.tmpl=_tmpl;var _getSetAttrDiv=document.createElement("div");_getSetAttrDiv.setAttribute("className","t");var _GET_SET_ATTRIBUTE="t"!==_getSetAttrDiv.className;K.query=_query,K.queryAll=_queryAll,_extend(KNode,{init:function(t){var e=this;t=_isArray(t)?t:[t];for(var n=0,i=0,r=t.length;r>i;i++)t[i]&&(e[i]=t[i].constructor===KNode?t[i][0]:t[i],n++);e.length=n,e.doc=_getDoc(e[0]),e.name=_getNodeName(e[0]),e.type=e.length>0?e[0].nodeType:null,e.win=_getWin(e[0])},each:function(t){for(var e=this,n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e;return e},bind:function(t,e){return this.each(function(){_bind(this,t,e)}),this},unbind:function(t,e){return this.each(function(){_unbind(this,t,e)}),this},fire:function(t){return this.length<1?this:(_fire(this[0],t),this)},hasAttr:function(t){return this.length<1?!1:!!_getAttr(this[0],t)},attr:function(t,e){var n=this;return t===undefined?_getAttrList(n.outer()):"object"==typeof t?(_each(t,function(t,e){n.attr(t,e)}),n):e===undefined?(e=n.length<1?null:_getAttr(n[0],t),null===e?"":e):(n.each(function(){_setAttr(this,t,e)}),n)},removeAttr:function(t){return this.each(function(){_removeAttr(this,t)}),this},get:function(t){return this.length<1?null:this[t||0]},eq:function(t){return this.length<1?null:this[t]?new KNode(this[t]):null},hasClass:function(t){return this.length<1?!1:_hasClass(this[0],t)},addClass:function(t){return this.each(function(){_hasClass(this,t)||(this.className=_trim(this.className+" "+t))}),this},removeClass:function(t){return this.each(function(){_hasClass(this,t)&&(this.className=_trim(this.className.replace(new RegExp("(^|\\s)"+t+"(\\s|$)")," ")))}),this},html:function(t){var e=this;return t===undefined?e.length<1||1!=e.type?"":_formatHtml(e[0].innerHTML):(e.each(function(){_setHtml(this,t)}),e)},text:function(){var t=this;return t.length<1?"":_IE?t[0].innerText:t[0].textContent},hasVal:function(){return this.length<1?!1:_hasVal(this[0])},val:function(t){var e=this;return t===undefined?e.length<1?"":e.hasVal()?e[0].value:e.attr("value"):(e.each(function(){_hasVal(this)?this.value=t:_setAttr(this,"value",t)}),e)},css:function(t,e){var n=this;return t===undefined?_getCssList(n.attr("style")):"object"==typeof t?(_each(t,function(t,e){n.css(t,e)}),n):e===undefined?n.length<1?"":n[0].style[_toCamel(t)]||_computedCss(n[0],t)||"":(n.each(function(){this.style[_toCamel(t)]=e}),n)},width:function(t){var e=this;return t===undefined?e.length<1?0:e[0].offsetWidth:e.css("width",_addUnit(t))},height:function(t){var e=this;return t===undefined?e.length<1?0:e[0].offsetHeight:e.css("height",_addUnit(t))},opacity:function(t){return this.each(function(){this.style.opacity===undefined?this.style.filter=1==t?"":"alpha(opacity="+100*t+")":this.style.opacity=1==t?"":t}),this},data:function(t,e){var n=this;return t="kindeditor_data_"+t,e===undefined?n.length<1?null:n[0][t]:(this.each(function(){this[t]=e}),n)},pos:function(){var t=this,e=t[0],n=0,i=0;if(e)if(e.getBoundingClientRect){var r=e.getBoundingClientRect(),o=_getScrollPos(t.doc);n=r.left+o.x,i=r.top+o.y}else for(;e;)n+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{x:_round(n),y:_round(i)}},clone:function(t){return this.length<1?new KNode([]):new KNode(this[0].cloneNode(t))},append:function(t){return this.each(function(){this.appendChild&&this.appendChild(_get(t))}),this},appendTo:function(t){return this.each(function(){_get(t).appendChild(this)}),this},before:function(t){return this.each(function(){this.parentNode.insertBefore(_get(t),this)}),this},after:function(t){return this.each(function(){this.nextSibling?this.parentNode.insertBefore(_get(t),this.nextSibling):this.parentNode.appendChild(_get(t))}),this},replaceWith:function(t){var e=[];return this.each(function(n,i){_unbind(i);var r=_get(t);i.parentNode.replaceChild(r,i),e.push(r)}),K(e)},empty:function(){var t=this;return t.each(function(t,e){for(var n=e.firstChild;n;){if(!e.parentNode)return;var i=n.nextSibling;n.parentNode.removeChild(n),n=i}}),t},remove:function(t){var e=this;return e.each(function(n,i){if(i.parentNode){if(_unbind(i),t)for(var r=i.firstChild;r;){var o=r.nextSibling;i.parentNode.insertBefore(r,i),r=o}i.parentNode.removeChild(i),delete e[n]}}),e.length=0,e},show:function(t){var e=this;return t===undefined&&(t=e._originDisplay||""),"none"!=e.css("display")?e:e.css("display",t)},hide:function(){var t=this;return t.length<1?t:(t._originDisplay=t[0].style.display,t.css("display","none"))},outer:function(){var t=this;if(t.length<1)return"";var e,n=t.doc.createElement("div");return n.appendChild(t[0].cloneNode(!0)),e=_formatHtml(n.innerHTML),n=null,e},isSingle:function(){return!!_SINGLE_TAG_MAP[this.name]},isInline:function(){return!!_INLINE_TAG_MAP[this.name]},isBlock:function(){return!!_BLOCK_TAG_MAP[this.name]},isStyle:function(){return!!_STYLE_TAG_MAP[this.name]},isControl:function(){return!!_CONTROL_TAG_MAP[this.name]},contains:function(t){return this.length<1?!1:_contains(this[0],_get(t))},parent:function(){if(this.length<1)return null;var t=this[0].parentNode;return t?new KNode(t):null},children:function(){if(this.length<1)return new KNode([]);for(var t=[],e=this[0].firstChild;e;)(3!=e.nodeType||""!==_trim(e.nodeValue))&&t.push(e),e=e.nextSibling;return new KNode(t)},first:function(){var t=this.children();return t.length>0?t.eq(0):null},last:function(){var t=this.children();return t.length>0?t.eq(t.length-1):null},index:function(){if(this.length<1)return-1;for(var t=-1,e=this[0];e;)t++,e=e.previousSibling;return t},prev:function(){if(this.length<1)return null;var t=this[0].previousSibling;return t?new KNode(t):null},next:function(){if(this.length<1)return null;var t=this[0].nextSibling;return t?new KNode(t):null},scan:function(t,e){function n(i){for(var r=e?i.firstChild:i.lastChild;r;){var o=e?r.nextSibling:r.previousSibling;if(t(r)===!1)return!1;if(n(r)===!1)return!1;r=o}}if(!(this.length<1))return e=e===undefined?!0:e,n(this[0]),this}}),_each("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error,contextmenu".split(","),function(t,e){KNode.prototype[e]=function(t){return t?this.bind(e,t):this.fire(e)}});var _K=K;K=function(t,e){function n(t){return t[0]||(t=[]),new KNode(t)}if(t!==undefined&&null!==t){if("string"==typeof t){e&&(e=_get(e));var i=t.length;if("@"===t.charAt(0)&&(t=t.substr(1)),t.length!==i||/<.+>/.test(t)){var r=e?e.ownerDocument||e:document,o=r.createElement("div"),a=[];o.innerHTML='<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />'+t;for(var s=0,l=o.childNodes.length;l>s;s++){var c=o.childNodes[s];"__kindeditor_temp_tag__"!=c.id&&a.push(c)}return n(a)}return n(_queryAll(t,e))}return t&&t.constructor===KNode?t:(t.toArray&&(t=t.toArray()),_isArray(t)?n(t):n(_toArray(arguments)))}},_each(_K,function(t,e){K[t]=e}),K.NodeClass=KNode,window.KindEditor=K;var _START_TO_START=0,_START_TO_END=1,_END_TO_END=2,_END_TO_START=3,_BOOKMARK_ID=0;_extend(KRange,{init:function(t){var e=this;e.startContainer=t,e.startOffset=0,e.endContainer=t,e.endOffset=0,e.collapsed=!0,e.doc=t},commonAncestor:function(){function t(t){for(var e=[];t;)e.push(t),t=t.parentNode;return e}for(var e,n,i=t(this.startContainer),r=t(this.endContainer),o=0,a=i.length,s=r.length;++o&&(e=i[a-o],n=r[s-o],e&&n&&e===n););return i[a-o+1]},setStart:function(t,e){var n=this,i=n.doc;return n.startContainer=t,n.startOffset=e,n.endContainer===i&&(n.endContainer=t,n.endOffset=e),_updateCollapsed(this)},setEnd:function(t,e){var n=this,i=n.doc;return n.endContainer=t,n.endOffset=e,n.startContainer===i&&(n.startContainer=t,n.startOffset=e),_updateCollapsed(this)},setStartBefore:function(t){return this.setStart(t.parentNode||this.doc,K(t).index())},setStartAfter:function(t){return this.setStart(t.parentNode||this.doc,K(t).index()+1)},setEndBefore:function(t){return this.setEnd(t.parentNode||this.doc,K(t).index())},setEndAfter:function(t){return this.setEnd(t.parentNode||this.doc,K(t).index()+1)},selectNode:function(t){return this.setStartBefore(t).setEndAfter(t)},selectNodeContents:function(t){var e=K(t);if(3==e.type||e.isSingle())return this.selectNode(t);var n=e.children();return n.length>0?this.setStartBefore(n[0]).setEndAfter(n[n.length-1]):this.setStart(t,0).setEnd(t,0)},collapse:function(t){return t?this.setEnd(this.startContainer,this.startOffset):this.setStart(this.endContainer,this.endOffset)},compareBoundaryPoints:function(t,e){var n=this.get(),i=e.get();if(!_IE)return n.compareBoundaryPoints(t,i);var r={};r[_START_TO_START]="StartToStart",r[_START_TO_END]="EndToStart",r[_END_TO_END]="EndToEnd",r[_END_TO_START]="StartToEnd";var o=n.compareEndPoints(r[t],i);if(0!==o)return o;var a,s,l,c,d;if((t===_START_TO_START||t===_END_TO_START)&&(a=this.startContainer,c=this.startOffset),(t===_START_TO_END||t===_END_TO_END)&&(a=this.endContainer,c=this.endOffset),(t===_START_TO_START||t===_START_TO_END)&&(s=e.startContainer,d=e.startOffset),(t===_END_TO_END||t===_END_TO_START)&&(s=e.endContainer,d=e.endOffset),a===s){var u=c-d;return u>0?1:0>u?-1:0}for(l=s;l&&l.parentNode!==a;)l=l.parentNode;if(l)return K(l).index()>=c?-1:1;for(l=a;l&&l.parentNode!==s;)l=l.parentNode;return l?K(l).index()>=d?1:-1:(l=K(s).next(),l&&l.contains(a)?1:(l=K(a).next(),l&&l.contains(s)?-1:void 0))},cloneRange:function(){return new KRange(this.doc).setStart(this.startContainer,this.startOffset).setEnd(this.endContainer,this.endOffset)},toString:function(){var t=this.get(),e=_IE?t.text:t.toString();return e.replace(/\r\n|\n|\r/g,"")},cloneContents:function(){return _copyAndDelete(this,!0,!1)},deleteContents:function(){return _copyAndDelete(this,!1,!0)},extractContents:function(){return _copyAndDelete(this,!0,!0)},insertNode:function(t){var e,n,i,r=this,o=r.startContainer,a=r.startOffset,s=r.endContainer,l=r.endOffset,c=1;return"#document-fragment"===t.nodeName.toLowerCase()&&(e=t.firstChild,n=t.lastChild,c=t.childNodes.length),1==o.nodeType?(i=o.childNodes[a],i?(o.insertBefore(t,i),o===s&&(l+=c)):o.appendChild(t)):3==o.nodeType&&(0===a?(o.parentNode.insertBefore(t,o),o.parentNode===s&&(l+=c)):a>=o.nodeValue.length?o.nextSibling?o.parentNode.insertBefore(t,o.nextSibling):o.parentNode.appendChild(t):(i=a>0?o.splitText(a):o,o.parentNode.insertBefore(t,i),o===s&&(s=i,l-=a))),e?r.setStartBefore(e).setEndAfter(n):r.selectNode(t),r.compareBoundaryPoints(_END_TO_END,r.cloneRange().setEnd(s,l))>=1?r:r.setEnd(s,l)},surroundContents:function(t){return t.appendChild(this.extractContents()),this.insertNode(t).selectNode(t)},isControl:function(){var t=this,e=t.startContainer,n=t.startOffset,i=t.endContainer,r=t.endOffset;return 1==e.nodeType&&e===i&&n+1===r&&K(e.childNodes[n]).isControl()},get:function(t){var e,n=this,i=n.doc;if(!_IE){e=i.createRange();try{e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset)}catch(r){}return e}if(t&&n.isControl())return e=i.body.createControlRange(),e.addElement(n.startContainer.childNodes[n.startOffset]),e;var o=n.cloneRange().down();return e=i.body.createTextRange(),e.setEndPoint("StartToStart",_getEndRange(o.startContainer,o.startOffset)),e.setEndPoint("EndToStart",_getEndRange(o.endContainer,o.endOffset)),e},html:function(){return K(this.cloneContents()).outer()},down:function(){function t(t,n,i){if(1==t.nodeType){var r=K(t).children();if(0!==r.length){var o,a,s,l;n>0&&(o=r.eq(n-1)),n<r.length&&(a=r.eq(n)),o&&3==o.type&&(s=o[0],l=s.nodeValue.length),a&&3==a.type&&(s=a[0],l=0),s&&(i?e.setStart(s,l):e.setEnd(s,l))}}}var e=this;return t(e.startContainer,e.startOffset,!0),t(e.endContainer,e.endOffset,!1),e},up:function(){function t(t,n,i){3==t.nodeType&&(0===n?i?e.setStartBefore(t):e.setEndBefore(t):n==t.nodeValue.length&&(i?e.setStartAfter(t):e.setEndAfter(t)))}var e=this;return t(e.startContainer,e.startOffset,!0),t(e.endContainer,e.endOffset,!1),e},enlarge:function(t){function e(e,i,r){var o,a=K(e);if(!(3==a.type||_NOSPLIT_TAG_MAP[a.name]||!t&&a.isBlock()))if(0===i){for(;!a.prev()&&(o=a.parent(),o&&!_NOSPLIT_TAG_MAP[o.name]&&(t||!o.isBlock()));)a=o;r?n.setStartBefore(a[0]):n.setEndBefore(a[0])}else if(i==a.children().length){for(;!a.next()&&(o=a.parent(),o&&!_NOSPLIT_TAG_MAP[o.name]&&(t||!o.isBlock()));)a=o;r?n.setStartAfter(a[0]):n.setEndAfter(a[0])}}var n=this;return n.up(),e(n.startContainer,n.startOffset,!0),e(n.endContainer,n.endOffset,!1),n},shrink:function(){for(var t,e=this,n=e.collapsed;1==e.startContainer.nodeType&&(t=e.startContainer.childNodes[e.startOffset])&&1==t.nodeType&&!K(t).isSingle();)e.setStart(t,0);if(n)return e.collapse(n);for(;1==e.endContainer.nodeType&&e.endOffset>0&&(t=e.endContainer.childNodes[e.endOffset-1])&&1==t.nodeType&&!K(t).isSingle();)e.setEnd(t,t.childNodes.length);return e},createBookmark:function(t){var e,n=this,i=n.doc,r=K('<span style="display:none;"></span>',i)[0];return r.id="__kindeditor_bookmark_start_"+_BOOKMARK_ID++ +"__",n.collapsed||(e=r.cloneNode(!0),e.id="__kindeditor_bookmark_end_"+_BOOKMARK_ID++ +"__"),e&&n.cloneRange().collapse(!1).insertNode(e).setEndBefore(e),n.insertNode(r).setStartAfter(r),{start:t?"#"+r.id:r,end:e?t?"#"+e.id:e:null}},moveToBookmark:function(t){var e=this,n=e.doc,i=K(t.start,n),r=t.end?K(t.end,n):null;return!i||i.length<1?e:(e.setStartBefore(i[0]),i.remove(),r&&r.length>0?(e.setEndBefore(r[0]),r.remove()):e.collapse(!0),e)},dump:function(){console.log("--------------------"),console.log(3==this.startContainer.nodeType?this.startContainer.nodeValue:this.startContainer,this.startOffset),console.log(3==this.endContainer.nodeType?this.endContainer.nodeValue:this.endContainer,this.endOffset)}}),K.RangeClass=KRange,K.range=_range,K.START_TO_START=_START_TO_START,K.START_TO_END=_START_TO_END,K.END_TO_END=_END_TO_END,K.END_TO_START=_END_TO_START,_extend(KCmd,{init:function(t){var e=this,n=t.doc;e.doc=n,e.win=_getWin(n),e.sel=_getSel(n),e.range=t},selection:function(t){var e=this,n=e.doc,i=_getRng(n);return e.sel=_getSel(n),i?(e.range=_range(i),"html"==K(e.range.startContainer).name&&e.range.selectNodeContents(n.body).collapse(!1),e):(t&&e.range.selectNodeContents(n.body).collapse(!1),e)},select:function(t){t=_undef(t,!0);var e,n=this,i=n.sel,r=n.range.cloneRange().shrink(),o=r.startContainer,a=r.startOffset,s=(r.endContainer,r.endOffset,_getDoc(o)),l=n.win,c=!1;if(t&&1==o.nodeType&&r.collapsed){if(_IE){var d=K("<span>&nbsp;</span>",s);r.insertNode(d[0]),e=s.body.createTextRange();try{e.moveToElementText(d[0])}catch(u){}return e.collapse(!1),e.select(),d.remove(),l.focus(),n}if(_WEBKIT){var h=o.childNodes;(K(o).isInline()||a>0&&K(h[a-1]).isInline()||h[a]&&K(h[a]).isInline())&&(r.insertNode(s.createTextNode("​")),c=!0)}}if(_IE)try{e=r.get(!0),e.select()}catch(p){}else if(c&&r.collapse(!1),e=r.get(!0),i.removeAllRanges(),i.addRange(e),s!==document){var f=K(e.endContainer).pos();l.scrollTo(f.x,f.y)}return l.focus(),n},wrap:function(t){var e,n=this,i=n.doc,r=n.range;if(e=K(t,i),r.collapsed)return r.shrink(),r.insertNode(e[0]).selectNodeContents(e[0]),n;if(e.isBlock()){for(var o=e.clone(!0),a=o;a.first();)a=a.first();return a.append(r.extractContents()),r.insertNode(o[0]).selectNode(o[0]),n}r.enlarge();var s=r.createBookmark(),l=r.commonAncestor(),c=!1;return K(l).scan(function(t){if(!c&&t==s.start)return c=!0,void 0;if(c){if(t==s.end)return!1;var n=K(t);if(_inPreElement(n))return;if(3==n.type&&_trim(t.nodeValue).length>0){for(var i;(i=n.parent())&&i.isStyle()&&1==i.children().length;)n=i;_wrapNode(n,e)}}}),r.moveToBookmark(s),n},split:function(t,e){for(var n,i=this.range,r=i.doc,o=i.cloneRange().collapse(t),a=o.startContainer,s=o.startOffset,l=3==a.nodeType?a.parentNode:a,c=!1;l&&l.parentNode;){if(n=K(l),e){if(!n.isStyle())break;if(!_hasAttrOrCss(n,e))break}else if(_NOSPLIT_TAG_MAP[n.name])break;c=!0,l=l.parentNode}if(c){var d=r.createElement("span");i.cloneRange().collapse(!t).insertNode(d),t?o.setStartBefore(l.firstChild).setEnd(a,s):o.setStart(a,s).setEndAfter(l.lastChild);var u=o.extractContents(),h=u.firstChild,p=u.lastChild;t?(o.insertNode(u),i.setStartAfter(p).setEndBefore(d)):(l.appendChild(u),i.setStartBefore(d).setEndBefore(h));var f=d.parentNode;if(f==i.endContainer){var g=K(d).prev(),m=K(d).next();g&&m&&3==g.type&&3==m.type?i.setEnd(g[0],g[0].nodeValue.length):t||i.setEnd(i.endContainer,i.endOffset-1)}f.removeChild(d)}return this},remove:function(t){var e=this,n=e.doc,i=e.range;if(i.enlarge(),0===i.startOffset){for(var r,o=K(i.startContainer);(r=o.parent())&&r.isStyle()&&1==r.children().length;)o=r;i.setStart(o[0],0),o=K(i.startContainer),o.isBlock()&&_removeAttrOrCss(o,t);var a=o.parent();a&&a.isBlock()&&_removeAttrOrCss(a,t)}var s,l;if(i.collapsed){if(e.split(!0,t),s=i.startContainer,l=i.startOffset,l>0){var c=K(s.childNodes[l-1]);c&&_isEmptyNode(c)&&(c.remove(),i.setStart(s,l-1))}var d=K(s.childNodes[l]);return d&&_isEmptyNode(d)&&d.remove(),_isEmptyNode(s)&&(i.startBefore(s),s.remove()),i.collapse(!0),e}e.split(!0,t),e.split(!1,t);var u=n.createElement("span"),h=n.createElement("span");i.cloneRange().collapse(!1).insertNode(h),i.cloneRange().collapse(!0).insertNode(u);var p=[],f=!1;K(i.commonAncestor()).scan(function(t){return f||t!=u?t==h?!1:(f&&p.push(t),void 0):(f=!0,void 0)}),K(u).remove(),K(h).remove(),s=i.startContainer,l=i.startOffset;var g=i.endContainer,m=i.endOffset;if(l>0){var v=K(s.childNodes[l-1]);v&&_isEmptyNode(v)&&(v.remove(),i.setStart(s,l-1),s==g&&i.setEnd(g,m-1));var y=K(s.childNodes[l]);y&&_isEmptyNode(y)&&(y.remove(),s==g&&i.setEnd(g,m-1))}var b=K(g.childNodes[i.endOffset]);b&&_isEmptyNode(b)&&b.remove();var x=i.createBookmark(!0);return _each(p,function(e,n){_removeAttrOrCss(K(n),t)}),i.moveToBookmark(x),e},commonNode:function(t){function e(e){for(var n=e,i=e;i;){if(_hasAttrOrCss(K(i),t))return K(i);i=i.parentNode}for(;n&&(n=n.lastChild);)if(_hasAttrOrCss(K(n),t))return K(n);return null}var n=this.range,i=n.endContainer,r=n.endOffset,o=3==i.nodeType||0===r?i:i.childNodes[r-1],a=e(o);if(a)return a;if(1==o.nodeType||3==i.nodeType&&0===r){var s=K(o).prev();if(s)return e(s)}return null},commonAncestor:function(t){function e(e){for(;e;){if(1==e.nodeType&&e.tagName.toLowerCase()===t)return e;e=e.parentNode}return null}var n=this.range,i=n.startContainer,r=n.startOffset,o=n.endContainer,a=n.endOffset,s=3==i.nodeType||0===r?i:i.childNodes[r-1],l=3==o.nodeType||0===a?o:o.childNodes[a-1],c=e(s),d=e(l);return c&&d&&c===d?K(c):null},state:function(t){var e=this,n=e.doc,i=!1;try{i=n.queryCommandState(t)}catch(r){}return i},val:function(t){function e(t){return t.toLowerCase()}{var n=this,i=n.doc;n.range}t=e(t);var r,o="";return"fontfamily"===t||"fontname"===t?(o=_nativeCommandValue(i,"fontname"),o=o.replace(/['"]/g,""),e(o)):"formatblock"===t?(o=_nativeCommandValue(i,t),""===o&&(r=n.commonNode({"h1,h2,h3,h4,h5,h6,p,div,pre,address":"*"}),r&&(o=r.name)),"Normal"===o&&(o="p"),e(o)):"fontsize"===t?(r=n.commonNode({"*":".font-size"}),r&&(o=r.css("font-size")),e(o)):"forecolor"===t?(r=n.commonNode({"*":".color"}),r&&(o=r.css("color")),o=_toHex(o),""===o&&(o="default"),e(o)):"hilitecolor"===t?(r=n.commonNode({"*":".background-color"}),r&&(o=r.css("background-color")),o=_toHex(o),""===o&&(o="default"),e(o)):o},toggle:function(t,e){var n=this;return n.commonNode(e)?n.remove(e):n.wrap(t),n.select()},bold:function(){return this.toggle("<strong></strong>",{span:".font-weight=bold",strong:"*",b:"*"})},italic:function(){return this.toggle("<em></em>",{span:".font-style=italic",em:"*",i:"*"})},underline:function(){return this.toggle("<u></u>",{span:".text-decoration=underline",u:"*"})},strikethrough:function(){return this.toggle("<s></s>",{span:".text-decoration=line-through",s:"*"})},forecolor:function(t){return this.toggle('<span style="color:'+t+';"></span>',{span:".color="+t,font:"color"})},hilitecolor:function(t){return this.toggle('<span style="background-color:'+t+';"></span>',{span:".background-color="+t})},fontsize:function(t){return this.toggle('<span style="font-size:'+t+';"></span>',{span:".font-size="+t,font:"size"})},fontname:function(t){return this.fontfamily(t)},fontfamily:function(t){return this.toggle('<span style="font-family:'+t+';"></span>',{span:".font-family="+t,font:"face"})},removeformat:function(){var t={"*":".font-weight,.font-style,.text-decoration,.color,.background-color,.font-size,.font-family,.text-indent"},e=_STYLE_TAG_MAP;return _each(e,function(e){t[e]="*"}),this.remove(t),this.select()},inserthtml:function(t,e){function n(t,e){e='<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />'+e;var n=t.get();n.item?n.item(0).outerHTML=e:n.pasteHTML(e);var i=t.doc.getElementById("__kindeditor_temp_tag__");i.parentNode.removeChild(i);var o=_toRange(n);t.setEnd(o.endContainer,o.endOffset),t.collapse(!1),r.select(!1)}function i(t,e){var n=t.doc,i=n.createDocumentFragment();K("@"+e,n).each(function(){i.appendChild(this)}),t.deleteContents(),t.insertNode(i),t.collapse(!1),r.select(!1)}var r=this,o=r.range;if(""===t)return r;if(_IE&&e){try{n(o,t)}catch(a){i(o,t)}return r}return i(o,t),r},hr:function(){return this.inserthtml("<hr />")},print:function(){return this.win.print(),this},insertimage:function(t,e,n,i,r,o){e=_undef(e,""),r=_undef(r,0);var a='<img src="'+_escape(t)+'" data-ke-src="'+_escape(t)+'" ';return n&&(a+='width="'+_escape(n)+'" '),i&&(a+='height="'+_escape(i)+'" '),e&&(a+='title="'+_escape(e)+'" '),o&&(a+='align="'+_escape(o)+'" '),a+='alt="'+_escape(e)+'" ',a+="/>",this.inserthtml(a)},createlink:function(t,e){var n=this,i=n.doc,r=n.range;n.select();var o=n.commonNode({a:"*"});o&&!r.isControl()&&(r.selectNode(o.get()),n.select());var a='<a href="'+_escape(t)+'" data-ke-src="'+_escape(t)+'" ';if(e&&(a+=' target="'+_escape(e)+'"'),r.collapsed)return a+=">"+_escape(t)+"</a>",n.inserthtml(a);if(r.isControl()){var s=K(r.startContainer.childNodes[r.startOffset]);return a+="></a>",s.after(K(a,i)),s.next().append(s),r.selectNode(s[0]),n.select()}return _nativeCommand(i,"createlink","__kindeditor_temp_url__"),K('a[href="__kindeditor_temp_url__"]',i).each(function(){K(this).attr("href",t).attr("data-ke-src",t),e?K(this).attr("target",e):K(this).removeAttr("target")}),n},unlink:function(){var t=this,e=t.doc,n=t.range;if(t.select(),n.collapsed){var i=t.commonNode({a:"*"});if(i&&(n.selectNode(i.get()),t.select()),_nativeCommand(e,"unlink",null),_WEBKIT&&"img"===K(n.startContainer).name){var r=K(n.startContainer).parent();"a"===r.name&&r.remove(!0)}}else _nativeCommand(e,"unlink",null);return t}}),_each("formatblock,selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript".split(","),function(t,e){KCmd.prototype[e]=function(t){var n=this;return n.select(),_nativeCommand(n.doc,e,t),(!_IE||_inArray(e,"formatblock,selectall,insertorderedlist,insertunorderedlist".split(","))>=0)&&n.selection(),n}}),_each("cut,copy,paste".split(","),function(t,e){KCmd.prototype[e]=function(){var t=this;if(!t.doc.queryCommandSupported(e))throw"not supported";return t.select(),_nativeCommand(t.doc,e,null),t}}),K.CmdClass=KCmd,K.cmd=_cmd,_extend(KWidget,{init:function(t){var e=this;if(e.name=t.name||"",e.doc=t.doc||document,e.win=_getWin(e.doc),e.x=_addUnit(t.x),e.y=_addUnit(t.y),e.z=t.z,e.width=_addUnit(t.width),e.height=_addUnit(t.height),e.div=K('<div style="display:block;"></div>'),e.options=t,e._alignEl=t.alignEl,e.width&&e.div.css("width",e.width),e.height&&e.div.css("height",e.height),e.z&&e.div.css({position:"absolute",left:e.x,top:e.y,"z-index":e.z}),!e.z||e.x!==undefined&&e.y!==undefined||e.autoPos(e.width,e.height),t.cls&&e.div.addClass(t.cls),t.shadowMode&&e.div.addClass("ke-shadow"),t.css&&e.div.css(t.css),t.src?K(t.src).replaceWith(e.div):K(e.doc.body).append(e.div),t.html&&e.div.html(t.html),t.autoScroll)if(_IE&&7>_V||_QUIRKS){var n=_getScrollPos();K(e.win).bind("scroll",function(){var t=_getScrollPos(),i=t.x-n.x,r=t.y-n.y;e.pos(_removeUnit(e.x)+i,_removeUnit(e.y)+r,!1)})}else e.div.css("position","fixed")},pos:function(t,e,n){var i=this;
return n=_undef(n,!0),null!==t&&(t=0>t?0:_addUnit(t),i.div.css("left",t),n&&(i.x=t)),null!==e&&(e=0>e?0:_addUnit(e),i.div.css("top",e),n&&(i.y=e)),i},autoPos:function(t,e){var n=this,i=_removeUnit(t)||0,r=_removeUnit(e)||0,o=_getScrollPos();if(n._alignEl){var a=K(n._alignEl),s=a.pos(),l=_round(a[0].clientWidth/2-i/2),c=_round(a[0].clientHeight/2-r/2);x=0>l?s.x:s.x+l,y=0>c?s.y:s.y+c}else{var d=_docElement(n.doc);x=_round(o.x+(d.clientWidth-i)/2),y=_round(o.y+(d.clientHeight-r)/2)}return _IE&&7>_V||_QUIRKS||(x-=o.x,y-=o.y),n.pos(x,y)},remove:function(){var t=this;return(_IE&&7>_V||_QUIRKS)&&K(t.win).unbind("scroll"),t.div.remove(),_each(t,function(e){t[e]=null}),this},show:function(){return this.div.show(),this},hide:function(){return this.div.hide(),this},draggable:function(t){var e=this;return t=t||{},t.moveEl=e.div,t.moveFn=function(t,n,i,r,o,a){(t+=o)<0&&(t=0),(n+=a)<0&&(n=0),e.pos(t,n)},_drag(t),e}}),K.WidgetClass=KWidget,K.widget=_widget;var html,_direction="";(html=document.getElementsByTagName("html"))&&(_direction=html[0].dir),_extend(KEdit,KWidget,{init:function(t){function e(){var e=_iframeDoc(n.iframe);e.open(),s&&(e.domain=document.domain),e.write(_getInitHtml(i,r,o,a)),e.close(),n.win=n.iframe[0].contentWindow,n.doc=e;var l=_cmd(e);n.afterChange(function(){l.selection()}),_WEBKIT&&K(e).click(function(t){"img"===K(t.target).name&&(l.selection(!0),l.range.selectNode(t.target),l.select())}),_IE&&(n._mousedownHandler=function(){var t=l.range.cloneRange();t.shrink(),t.isControl()&&n.blur()},K(document).mousedown(n._mousedownHandler),K(e).keydown(function(t){if(8==t.which){l.selection();var e=l.range;e.isControl()&&(e.collapse(!0),K(e.startContainer.childNodes[e.startOffset]).remove(),t.preventDefault())}})),n.cmd=l,n.html(_elementVal(n.srcElement)),_IE?(e.body.disabled=!0,e.body.contentEditable=!0,e.body.removeAttribute("disabled")):e.designMode="on",t.afterCreate&&t.afterCreate.call(n)}var n=this;KEdit.parent.init.call(n,t),n.srcElement=K(t.srcElement),n.div.addClass("ke-edit"),n.designMode=_undef(t.designMode,!0),n.beforeGetHtml=t.beforeGetHtml,n.beforeSetHtml=t.beforeSetHtml,n.afterSetHtml=t.afterSetHtml;var i=_undef(t.themesPath,""),r=t.bodyClass,o=t.cssPath,a=t.cssData,s=location.host.replace(/:\d+/,"")!==document.domain,l="document.open();"+(s?'document.domain="'+document.domain+'";':"")+"document.close();",c=_IE?' src="javascript:void(function(){'+encodeURIComponent(l)+'}())"':"";n.iframe=K('<iframe class="ke-edit-iframe" hidefocus="true" frameborder="0"'+c+"></iframe>").css("width","100%"),n.textarea=K('<textarea class="ke-edit-textarea" hidefocus="true"></textarea>').css("width","100%"),n.width&&n.setWidth(n.width),n.height&&n.setHeight(n.height),n.designMode?n.textarea.hide():n.iframe.hide(),s&&n.iframe.bind("load",function(){n.iframe.unbind("load"),_IE?e():setTimeout(e,0)}),n.div.append(n.iframe),n.div.append(n.textarea),n.srcElement.hide(),!s&&e()},setWidth:function(t){return this.div.css("width",_addUnit(t)),this},setHeight:function(t){var e=this;return t=_addUnit(t),e.div.css("height",t),e.iframe.css("height",t),(_IE&&8>_V||_QUIRKS)&&(t=_addUnit(_removeUnit(t)-2)),e.textarea.css("height",t),e},remove:function(){var t=this,e=t.doc;K(e.body).unbind(),K(e).unbind(),K(t.win).unbind(),t._mousedownHandler&&K(document).unbind("mousedown",t._mousedownHandler),_elementVal(t.srcElement,t.html()),t.srcElement.show(),e.write(""),t.iframe.unbind(),t.textarea.unbind(),KEdit.parent.remove.call(t)},html:function(t,e){var n=this,i=n.doc;if(n.designMode){var r=i.body;return t===undefined?(t=e?"<!doctype html><html>"+r.parentNode.innerHTML+"</html>":r.innerHTML,n.beforeGetHtml&&(t=n.beforeGetHtml(t)),_GECKO&&"<br />"==t&&(t=""),t):(n.beforeSetHtml&&(t=n.beforeSetHtml(t)),_IE&&_V>=9&&(t=t.replace(/(<.*?checked=")checked(".*>)/gi,"$1$2")),K(r).html(t),n.afterSetHtml&&n.afterSetHtml(),n)}return t===undefined?n.textarea.val():(n.textarea.val(t),n)},design:function(t){var e,n=this;return(t===undefined?!n.designMode:t)?n.designMode||(e=n.html(),n.designMode=!0,n.html(e),n.textarea.hide(),n.iframe.show()):n.designMode&&(e=n.html(),n.designMode=!1,n.html(e),n.iframe.hide(),n.textarea.show()),n.focus()},focus:function(){var t=this;return t.designMode?t.win.focus():t.textarea[0].focus(),t},blur:function(){var t=this;if(_IE){var e=K('<input type="text" style="float:left;width:0;height:0;padding:0;margin:0;border:0;" value="" />',t.div);t.div.append(e),e[0].focus(),e.remove()}else t.designMode?t.win.blur():t.textarea[0].blur();return t},afterChange:function(t){function e(e){setTimeout(function(){t(e)},1)}var n=this,i=n.doc,r=i.body;return K(i).keyup(function(e){e.ctrlKey||e.altKey||!_CHANGE_KEY_MAP[e.which]||t(e)}),K(i).mouseup(t).contextmenu(t),K(n.win).blur(t),K(r).bind("paste",e),K(r).bind("cut",e),n}}),K.EditClass=KEdit,K.edit=_edit,K.iframeDoc=_iframeDoc,_extend(KToolbar,KWidget,{init:function(t){function e(t){var e=K(t);return e.hasClass("ke-outline")?e:e.hasClass("ke-toolbar-icon")?e.parent():void 0}function n(t,n){var i=e(t.target);if(i){if(i.hasClass("ke-disabled"))return;if(i.hasClass("ke-selected"))return;i[n]("ke-on")}}var i=this;KToolbar.parent.init.call(i,t),i.disableMode=_undef(t.disableMode,!1),i.noDisableItemMap=_toMap(_undef(t.noDisableItems,[])),i._itemMap={},i.div.addClass("ke-toolbar").bind("contextmenu,mousedown,mousemove",function(t){t.preventDefault()}).attr("unselectable","on"),i.div.mouseover(function(t){n(t,"addClass")}).mouseout(function(t){n(t,"removeClass")}).click(function(t){var n=e(t.target);if(n){if(n.hasClass("ke-disabled"))return;i.options.click.call(this,t,n.attr("data-name"))}})},get:function(t){return this._itemMap[t]?this._itemMap[t]:this._itemMap[t]=K("span.ke-icon-"+t,this.div).parent()},select:function(t){return _selectToolbar.call(this,t,function(t){t.addClass("ke-selected")}),self},unselect:function(t){return _selectToolbar.call(this,t,function(t){t.removeClass("ke-selected").removeClass("ke-on")}),self},enable:function(t){var e=this,n=t.get?t:e.get(t);return n&&(n.removeClass("ke-disabled"),n.opacity(1)),e},disable:function(t){var e=this,n=t.get?t:e.get(t);return n&&(n.removeClass("ke-selected").addClass("ke-disabled"),n.opacity(.5)),e},disableAll:function(t,e){var n=this,i=n.noDisableItemMap;return e&&(i=_toMap(e)),(t===undefined?!n.disableMode:t)?(K("span.ke-outline",n.div).each(function(){var t=K(this),e=t[0].getAttribute("data-name",2);i[e]||n.disable(t)}),n.disableMode=!0):(K("span.ke-outline",n.div).each(function(){var t=K(this),e=t[0].getAttribute("data-name",2);i[e]||n.enable(t)}),n.disableMode=!1),n}}),K.ToolbarClass=KToolbar,K.toolbar=_toolbar,_extend(KMenu,KWidget,{init:function(t){var e=this;t.z=t.z||811213,KMenu.parent.init.call(e,t),e.centerLineMode=_undef(t.centerLineMode,!0),e.div.addClass("ke-menu").bind("click,mousedown",function(t){t.stopPropagation()}).attr("unselectable","on")},addItem:function(t){var e=this;if("-"===t.title)return e.div.append(K('<div class="ke-menu-separator"></div>')),void 0;var n=K('<div class="ke-menu-item" unselectable="on"></div>'),i=K('<div class="ke-inline-block ke-menu-item-left"></div>'),r=K('<div class="ke-inline-block ke-menu-item-right"></div>'),o=_addUnit(t.height),a=_undef(t.iconClass,"");e.div.append(n),o&&(n.css("height",o),r.css("line-height",o));var s;return e.centerLineMode&&(s=K('<div class="ke-inline-block ke-menu-item-center"></div>'),o&&s.css("height",o)),n.mouseover(function(){K(this).addClass("ke-menu-item-on"),s&&s.addClass("ke-menu-item-center-on")}).mouseout(function(){K(this).removeClass("ke-menu-item-on"),s&&s.removeClass("ke-menu-item-center-on")}).click(function(e){t.click.call(K(this)),e.stopPropagation()}).append(i),s&&n.append(s),n.append(r),t.checked&&(a="ke-icon-checked"),""!==a&&i.html('<span class="ke-inline-block ke-toolbar-icon ke-toolbar-icon-url '+a+'"></span>'),r.html(t.title),e},remove:function(){var t=this;return t.options.beforeRemove&&t.options.beforeRemove.call(t),K(".ke-menu-item",t.div[0]).unbind(),KMenu.parent.remove.call(t),t}}),K.MenuClass=KMenu,K.menu=_menu,_extend(KColorPicker,KWidget,{init:function(t){var e=this;t.z=t.z||811213,KColorPicker.parent.init.call(e,t);var n=t.colors||[["#E53333","#E56600","#FF9900","#64451D","#DFC5A4","#FFE500"],["#009900","#006600","#99BB00","#B8D100","#60D978","#00D5FF"],["#337FE5","#003399","#4C33E5","#9933E5","#CC33E5","#EE33EE"],["#FFFFFF","#CCCCCC","#999999","#666666","#333333","#000000"]];e.selectedColor=(t.selectedColor||"").toLowerCase(),e._cells=[],e.div.addClass("ke-colorpicker").bind("click,mousedown",function(t){t.stopPropagation()}).attr("unselectable","on");var i=e.doc.createElement("table");e.div.append(i),i.className="ke-colorpicker-table",i.cellPadding=0,i.cellSpacing=0,i.border=0;var r=i.insertRow(0),o=r.insertCell(0);o.colSpan=n[0].length,e._addAttr(o,"","ke-colorpicker-cell-top");for(var a=0;a<n.length;a++){r=i.insertRow(a+1);for(var s=0;s<n[a].length;s++)o=r.insertCell(s),e._addAttr(o,n[a][s],"ke-colorpicker-cell")}},_addAttr:function(t,e,n){var i=this;t=K(t).addClass(n),i.selectedColor===e.toLowerCase()&&t.addClass("ke-colorpicker-cell-selected"),t.attr("title",e||i.options.noColor),t.mouseover(function(){K(this).addClass("ke-colorpicker-cell-on")}),t.mouseout(function(){K(this).removeClass("ke-colorpicker-cell-on")}),t.click(function(t){t.stop(),i.options.click.call(K(this),e)}),e?t.append(K('<div class="ke-colorpicker-cell-color" unselectable="on"></div>').css("background-color",e)):t.html(i.options.noColor),K(t).attr("unselectable","on"),i._cells.push(t)},remove:function(){var t=this;return _each(t._cells,function(){this.unbind()}),KColorPicker.parent.remove.call(t),t}}),K.ColorPickerClass=KColorPicker,K.colorpicker=_colorpicker,_extend(KUploadButton,{init:function(t){var e=this,n=K(t.button),i=t.fieldName||"file",r=t.url||"",o=n.val(),a=t.extraParams||{},s=n[0].className||"",l=t.target||"kindeditor_upload_iframe_"+(new Date).getTime();t.afterError=t.afterError||function(t){alert(t)};var c=[];for(var d in a)c.push('<input type="hidden" name="'+d+'" value="'+a[d]+'" />');var u=['<div class="ke-inline-block '+s+'">',t.target?"":'<iframe name="'+l+'" style="display:none;"></iframe>',t.form?'<div class="ke-upload-area">':'<form class="ke-upload-area ke-form" method="post" enctype="multipart/form-data" target="'+l+'" action="'+r+'">','<span class="ke-button-common">',c.join(""),'<input type="button" class="ke-button-common ke-button" value="'+o+'" />',"</span>",'<input type="file" class="ke-upload-file" name="'+i+'" tabindex="-1" />',t.form?"</div>":"</form>","</div>"].join(""),h=K(u,n.doc);n.hide(),n.before(h),e.div=h,e.button=n,e.iframe=t.target?K('iframe[name="'+l+'"]'):K("iframe",h),e.form=t.form?K(t.form):K("form",h);var p=t.width||K(".ke-button-common",h).width();e.fileBox=K(".ke-upload-file",h).width(p),e.options=t},submit:function(){var t=this,e=t.iframe;return e.bind("load",function(){e.unbind();var n=document.createElement("form");t.fileBox.before(n),K(n).append(t.fileBox),n.reset(),K(n).remove(!0);var i,r=K.iframeDoc(e),o=r.getElementsByTagName("pre")[0],a="";a=o?o.innerHTML:r.body.innerHTML,a=_unescape(a),e[0].src="javascript:false";try{i=K.json(a)}catch(s){t.options.afterError.call(t,"<!doctype html><html>"+r.body.parentNode.innerHTML+"</html>")}i&&t.options.afterUpload.call(t,i)}),t.form[0].submit(),t},remove:function(){var t=this;return t.fileBox&&t.fileBox.unbind(),t.iframe.remove(),t.div.remove(),t.button.show(),t}}),K.UploadButtonClass=KUploadButton,K.uploadbutton=_uploadbutton,_extend(KDialog,KWidget,{init:function(t){var e=this,n=_undef(t.shadowMode,!0);t.z=t.z||811213,t.shadowMode=!1,t.autoScroll=_undef(t.autoScroll,!0),KDialog.parent.init.call(e,t);var i=t.title,r=K(t.body,e.doc),o=t.previewBtn,a=t.yesBtn,s=t.noBtn,l=t.closeBtn,c=_undef(t.showMask,!0);e.div.addClass("ke-dialog").bind("click,mousedown",function(t){t.stopPropagation()});var d=K('<div class="ke-dialog-content"></div>').appendTo(e.div);_IE&&7>_V?e.iframeMask=K('<iframe src="about:blank" class="ke-dialog-shadow"></iframe>').appendTo(e.div):n&&K('<div class="ke-dialog-shadow"></div>').appendTo(e.div);var u=K('<div class="ke-dialog-header"></div>');d.append(u),u.html(i),e.closeIcon=K('<span class="ke-dialog-icon-close" title="'+l.name+'"></span>').click(l.click),u.append(e.closeIcon),e.draggable({clickEl:u,beforeDrag:t.beforeDrag});var h=K('<div class="ke-dialog-body"></div>');d.append(h),h.append(r);var p=K('<div class="ke-dialog-footer"></div>');if((o||a||s)&&d.append(p),_each([{btn:o,name:"preview"},{btn:a,name:"yes"},{btn:s,name:"no"}],function(){if(this.btn){var t=_createButton(this.btn);t.addClass("ke-dialog-"+this.name),p.append(t)}}),e.height&&h.height(_removeUnit(e.height)-u.height()-p.height()),e.div.width(e.div.width()),e.div.height(e.div.height()),e.mask=null,c){var f=_docElement(e.doc),g=Math.max(f.scrollWidth,f.clientWidth),m=Math.max(f.scrollHeight,f.clientHeight);e.mask=_widget({x:0,y:0,z:e.z-1,cls:"ke-dialog-mask",width:g,height:m})}e.autoPos(e.div.width(),e.div.height()),e.footerDiv=p,e.bodyDiv=h,e.headerDiv=u,e.isLoading=!1},setMaskIndex:function(t){var e=this;e.mask.div.css("z-index",t)},showLoading:function(t){t=_undef(t,"");var e=this,n=e.bodyDiv;return e.loading=K('<div class="ke-dialog-loading"><div class="ke-inline-block ke-dialog-loading-content" style="margin-top:'+Math.round(n.height()/3)+'px;">'+t+"</div></div>").width(n.width()).height(n.height()).css("top",e.headerDiv.height()+"px"),n.css("visibility","hidden").after(e.loading),e.isLoading=!0,e},hideLoading:function(){return this.loading&&this.loading.remove(),this.bodyDiv.css("visibility","visible"),this.isLoading=!1,this},remove:function(){var t=this;return t.options.beforeRemove&&t.options.beforeRemove.call(t),t.mask&&t.mask.remove(),t.iframeMask&&t.iframeMask.remove(),t.closeIcon.unbind(),K("input",t.div).unbind(),K("button",t.div).unbind(),t.footerDiv.unbind(),t.bodyDiv.unbind(),t.headerDiv.unbind(),K("iframe",t.div).each(function(){K(this).remove()}),KDialog.parent.remove.call(t),t}}),K.DialogClass=KDialog,K.dialog=_dialog,K.tabs=_tabs,K.loadScript=_loadScript,K.loadStyle=_loadStyle,K.ajax=_ajax;var _plugins={},_language={};KEditor.prototype={lang:function(t){return _lang(t,this.langType)},loadPlugin:function(t,e){var n=this;return _plugins[t]?n._calledPlugins[t]?(e&&e.call(n),n):(_plugins[t].call(n,KindEditor),e&&e.call(n),n._calledPlugins[t]=!0,n):n.isLoading?n:(n.isLoading=!0,_loadScript(n.pluginsPath+t+"/"+t+".js?ver="+encodeURIComponent(K.DEBUG?_TIME:_VERSION),function(){n.isLoading=!1,_plugins[t]&&n.loadPlugin(t,e)}),n)},handler:function(t,e){var n=this;return n._handlers[t]||(n._handlers[t]=[]),_isFunction(e)?(n._handlers[t].push(e),n):(_each(n._handlers[t],function(){e=this.call(n,e)}),e)},clickToolbar:function(t,e){var n=this,i="clickToolbar"+t;return e===undefined?n._handlers[i]?n.handler(i):(n.loadPlugin(t,function(){n.handler(i)}),n):n.handler(i,e)},updateState:function(){var t=this;return _each("justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,subscript,superscript,bold,italic,underline,strikethrough".split(","),function(e,n){t.cmd.state(n)?t.toolbar.select(n):t.toolbar.unselect(n)}),t},addContextmenu:function(t){return this._contextmenus.push(t),this},afterCreate:function(t){return this.handler("afterCreate",t)},beforeRemove:function(t){return this.handler("beforeRemove",t)},beforeGetHtml:function(t){return this.handler("beforeGetHtml",t)},beforeSetHtml:function(t){return this.handler("beforeSetHtml",t)},afterSetHtml:function(t){return this.handler("afterSetHtml",t)},create:function(){function t(){return 0===l.height()?(setTimeout(t,100),void 0):(e.resize(i,r,!1),void 0)}var e=this,n=e.fullscreenMode;if(e.isCreated)return e;if(e.srcElement.data("kindeditor"))return e;e.srcElement.data("kindeditor","true"),_docElement().style.overflow=n?"hidden":"";var i=n?_docElement().clientWidth+"px":e.width,r=n?_docElement().clientHeight+"px":e.height;(_IE&&8>_V||_QUIRKS)&&(r=_addUnit(_removeUnit(r)+2));var o=e.container=K(e.layout);n?K(document.body).append(o):e.srcElement.before(o);var a=K(".toolbar",o),s=K(".edit",o),l=e.statusbar=K(".statusbar",o);o.removeClass("container").addClass("ke-container ke-container-"+e.themeType).css("width",i),n?(o.css({position:"absolute",left:0,top:0,"z-index":811211}),_GECKO||(e._scrollPos=_getScrollPos()),window.scrollTo(0,0),K(document.body).css({height:"1px",overflow:"hidden"}),K(document.body.parentNode).css("overflow","hidden"),e._fullscreenExecuted=!0):(e._fullscreenExecuted&&(K(document.body).css({height:"",overflow:""}),K(document.body.parentNode).css("overflow","")),e._scrollPos&&window.scrollTo(e._scrollPos.x,e._scrollPos.y));var c=[];K.each(e.items,function(t,n){"|"==n?c.push('<span class="ke-inline-block ke-separator"></span>'):"/"==n?c.push('<div class="ke-hr"></div>'):(c.push('<span class="ke-outline" data-name="'+n+'" title="'+e.lang(n)+'" unselectable="on">'),c.push('<span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-'+n+'" unselectable="on"></span></span>'))});var d=e.toolbar=_toolbar({src:a,html:c.join(""),noDisableItems:e.noDisableItems,click:function(t,n){if(t.stop(),e.menu){var i=e.menu.name;if(e.hideMenu(),i===n)return}e.clickToolbar(n)}}),u=_removeUnit(r)-d.div.height(),h=e.edit=_edit({height:u>0&&_removeUnit(r)>e.minHeight?u:e.minHeight,src:s,srcElement:e.srcElement,designMode:e.designMode,themesPath:e.themesPath,bodyClass:e.bodyClass,cssPath:e.cssPath,cssData:e.cssData,beforeGetHtml:function(t){return t=e.beforeGetHtml(t),_formatHtml(t,e.filterMode?e.htmlTags:null,e.urlType,e.wellFormatMode,e.indentChar)},beforeSetHtml:function(t){return t=_formatHtml(t,e.filterMode?e.htmlTags:null,"",!1),e.beforeSetHtml(t)},afterSetHtml:function(){e.edit=h=this,e.afterSetHtml()},afterCreate:function(){e.edit=h=this,e.cmd=h.cmd,e._docMousedownFn=function(){e.menu&&e.hideMenu()},K(h.doc,document).mousedown(e._docMousedownFn),_bindContextmenuEvent.call(e),_bindNewlineEvent.call(e),_bindTabEvent.call(e),_bindFocusEvent.call(e),h.afterChange(function(){h.designMode&&(e.updateState(),e.addBookmark(),e.options.afterChange&&e.options.afterChange.call(e))}),h.textarea.keyup(function(t){t.ctrlKey||t.altKey||!_INPUT_KEY_MAP[t.which]||e.options.afterChange&&e.options.afterChange.call(e)}),e.readonlyMode&&e.readonly(),e.isCreated=!0,""===e.initContent&&(e.initContent=e.html()),e.afterCreate(),e.options.afterCreate&&e.options.afterCreate.call(e)}});return l.removeClass("statusbar").addClass("ke-statusbar").append('<span class="ke-inline-block ke-statusbar-center-icon"></span>').append('<span class="ke-inline-block ke-statusbar-right-icon"></span>'),e._fullscreenResizeHandler&&(K(window).unbind("resize",e._fullscreenResizeHandler),e._fullscreenResizeHandler=null),t(),n?(e._fullscreenResizeHandler=function(){e.isCreated&&e.resize(_docElement().clientWidth,_docElement().clientHeight,!1)},K(window).bind("resize",e._fullscreenResizeHandler),d.select("fullscreen"),l.first().css("visibility","hidden"),l.last().css("visibility","hidden")):(_GECKO&&K(window).bind("scroll",function(){e._scrollPos=_getScrollPos()}),e.resizeType>0?_drag({moveEl:o,clickEl:l,moveFn:function(t,n,i,r,o,a){r+=a,e.resize(null,r)}}):l.first().css("visibility","hidden"),2===e.resizeType?_drag({moveEl:o,clickEl:l.last(),moveFn:function(t,n,i,r,o,a){i+=o,r+=a,e.resize(i,r)}}):l.last().css("visibility","hidden")),e},remove:function(){var t=this;return t.isCreated?(t.beforeRemove(),t.srcElement.data("kindeditor",""),t.menu&&t.hideMenu(),_each(t.dialogs,function(){t.hideDialog()}),K(document).unbind("mousedown",t._docMousedownFn),t.toolbar.remove(),t.edit.remove(),t.statusbar.last().unbind(),t.statusbar.unbind(),t.container.remove(),t.container=t.toolbar=t.edit=t.menu=null,t.dialogs=[],t.isCreated=!1,t):t},resize:function(t,e,n){var i=this;return n=_undef(n,!0),t&&(/%/.test(t)||(t=_removeUnit(t),t=t<i.minWidth?i.minWidth:t),i.container.css("width",_addUnit(t)),n&&(i.width=_addUnit(t))),e&&(e=_removeUnit(e),editHeight=_removeUnit(e)-i.toolbar.div.height()-i.statusbar.height(),editHeight=editHeight<i.minHeight?i.minHeight:editHeight,i.edit.setHeight(editHeight),n&&(i.height=_addUnit(e))),i},select:function(){return this.isCreated&&this.cmd.select(),this},html:function(t){var e=this;return t===undefined?e.isCreated?e.edit.html():_elementVal(e.srcElement):(e.isCreated?e.edit.html(t):_elementVal(e.srcElement,t),e.isCreated&&e.cmd.selection(),e)},fullHtml:function(){return this.isCreated?this.edit.html(undefined,!0):""},text:function(t){var e=this;return t===undefined?_trim(e.html().replace(/<(?!img|embed).*?>/gi,"").replace(/&nbsp;/gi," ")):e.html(_escape(t))},isEmpty:function(){return""===_trim(this.text().replace(/\r\n|\n|\r/,""))},isDirty:function(){return _trim(this.initContent.replace(/\r\n|\n|\r|t/g,""))!==_trim(this.html().replace(/\r\n|\n|\r|t/g,""))},selectedHtml:function(){return this.isCreated?this.cmd.range.html():""},count:function(t){var e=this;return t=(t||"html").toLowerCase(),"html"===t?_removeBookmarkTag(_removeTempTag(e.html())).length:"text"===t?e.text().replace(/<(?:img|embed).*?>/gi,"K").replace(/\r\n|\n|\r/g,"").length:0},exec:function(t){t=t.toLowerCase();var e=this,n=e.cmd,i=_inArray(t,"selectall,copy,paste,print".split(","))<0;return i&&e.addBookmark(!1),n[t].apply(n,_toArray(arguments,1)),i&&(e.updateState(),e.addBookmark(!1),e.options.afterChange&&e.options.afterChange.call(e)),e},insertHtml:function(t,e){return this.isCreated?(t=this.beforeSetHtml(t),this.exec("inserthtml",t,e),this):this},appendHtml:function(t){if(this.html(this.html()+t),this.isCreated){var e=this.cmd;e.range.selectNodeContents(e.doc.body).collapse(!1),e.select()}return this},sync:function(){return _elementVal(this.srcElement,this.html()),this},focus:function(){return this.isCreated?this.edit.focus():this.srcElement[0].focus(),this},blur:function(){return this.isCreated?this.edit.blur():this.srcElement[0].blur(),this},addBookmark:function(t){t=_undef(t,!0);var e,n=this,i=n.edit,r=i.doc.body,o=_removeTempTag(r.innerHTML);if(t&&n._undoStack.length>0){var a=n._undoStack[n._undoStack.length-1];if(Math.abs(o.length-_removeBookmarkTag(a.html).length)<n.minChangeSize)return n}if(i.designMode&&!n._firstAddBookmark){var s=n.cmd.range;e=s.createBookmark(!0),e.html=_removeTempTag(r.innerHTML),s.moveToBookmark(e)}else e={html:o};return n._firstAddBookmark=!1,_addBookmarkToStack(n._undoStack,e),n},undo:function(){return _undoToRedo.call(this,this._undoStack,this._redoStack)},redo:function(){return _undoToRedo.call(this,this._redoStack,this._undoStack)},fullscreen:function(t){return this.fullscreenMode=t===undefined?!this.fullscreenMode:t,this.remove().create()},readonly:function(t){t=_undef(t,!0);var e=this,n=e.edit,i=n.doc;e.designMode?e.toolbar.disableAll(t,[]):_each(e.noDisableItems,function(){e.toolbar[t?"disable":"enable"](this)}),_IE?i.body.contentEditable=!t:i.designMode=t?"off":"on",n.textarea[0].disabled=t},createMenu:function(t){var e=this,n=t.name,i=e.toolbar.get(n),r=i.pos();return t.x=r.x,t.y=r.y+i.height(),t.z=e.options.zIndex,t.shadowMode=_undef(t.shadowMode,e.shadowMode),t.selectedColor!==undefined?(t.cls="ke-colorpicker-"+e.themeType,t.noColor=e.lang("noColor"),e.menu=_colorpicker(t)):(t.cls="ke-menu-"+e.themeType,t.centerLineMode=!1,e.menu=_menu(t)),e.menu},hideMenu:function(){return this.menu.remove(),this.menu=null,this},hideContextmenu:function(){return this.contextmenu.remove(),this.contextmenu=null,this},createDialog:function(t){{var e=this;t.name}if(t.z=e.options.zIndex,t.shadowMode=_undef(t.shadowMode,e.shadowMode),t.closeBtn=_undef(t.closeBtn,{name:e.lang("close"),click:function(){e.hideDialog(),_IE&&e.cmd&&e.cmd.select()}}),t.noBtn=_undef(t.noBtn,{name:e.lang(t.yesBtn?"no":"close"),click:function(){e.hideDialog(),_IE&&e.cmd&&e.cmd.select()}}),"page"!=e.dialogAlignType&&(t.alignEl=e.container),t.cls="ke-dialog-"+e.themeType,e.dialogs.length>0){var n=e.dialogs[0],i=e.dialogs[e.dialogs.length-1];n.setMaskIndex(i.z+2),t.z=i.z+3,t.showMask=!1}var r=_dialog(t);return e.dialogs.push(r),r},hideDialog:function(){var t=this;if(t.dialogs.length>0&&t.dialogs.pop().remove(),t.dialogs.length>0){var e=t.dialogs[0],n=t.dialogs[t.dialogs.length-1];e.setMaskIndex(n.z-1)}return t},errorDialog:function(t){var e=this,n=e.createDialog({width:750,title:e.lang("uploadError"),body:'<div style="padding:10px 20px;"><iframe frameborder="0" style="width:708px;height:400px;"></iframe></div>'}),i=K("iframe",n.div),r=K.iframeDoc(i);return r.open(),r.write(t),r.close(),K(r.body).css("background-color","#FFF"),i[0].contentWindow.focus(),e}},_instances=[],K.remove=function(t){_eachEditor(t,function(t){this.remove(),_instances.splice(t,1)})},K.sync=function(t){_eachEditor(t,function(){this.sync()})},_IE&&7>_V&&_nativeCommand(document,"BackgroundImageCache",!0),K.EditorClass=KEditor,K.editor=_editor,K.create=_create,K.instances=_instances,K.plugin=_plugin,K.lang=_lang,_plugin("core",function(t){var e=this,n={undo:"Z",redo:"Y",bold:"B",italic:"I",underline:"U",print:"P",selectall:"A"};if(e.afterSetHtml(function(){e.options.afterChange&&e.options.afterChange.call(e)}),e.afterCreate(function(){if("form"==e.syncType){for(var n=t(e.srcElement),i=!1;n=n.parent();)if("form"==n.name){i=!0;break}if(i){n.bind("submit",function(){e.sync(),t(window).bind("unload",function(){e.edit.textarea.remove()})});var r=t('[type="reset"]',n);r.click(function(){e.html(e.initContent),e.cmd.selection()}),e.beforeRemove(function(){n.unbind(),r.unbind()})}}}),e.clickToolbar("source",function(){e.edit.designMode?(e.toolbar.disableAll(!0),e.edit.design(!1),e.toolbar.select("source")):(e.toolbar.disableAll(!1),e.edit.design(!0),e.toolbar.unselect("source"),e.cmd.selection()),e.designMode=e.edit.designMode}),e.afterCreate(function(){e.designMode||e.toolbar.disableAll(!0).select("source")}),e.clickToolbar("fullscreen",function(){e.fullscreen()}),e.fullscreenShortcut){var i=!1;e.afterCreate(function(){if(t(e.edit.doc,e.edit.textarea).keyup(function(t){27==t.which&&setTimeout(function(){e.fullscreen()},0)}),i){if(_IE&&!e.designMode)return;e.focus()}i||(i=!0)})}_each("undo,redo".split(","),function(t,i){n[i]&&e.afterCreate(function(){_ctrl(this.edit.doc,n[i],function(){e.clickToolbar(i)})}),e.clickToolbar(i,function(){e[i]()})}),e.clickToolbar("formatblock",function(){var t=e.lang("formatblock.formatBlock"),n={h1:28,h2:24,h3:18,H4:14,p:12},i=e.cmd.val("formatblock"),r=e.createMenu({name:"formatblock",width:"en"==e.langType?200:150});_each(t,function(t,o){var a="font-size:"+n[t]+"px;";"h"===t.charAt(0)&&(a+="font-weight:bold;"),r.addItem({title:'<span style="'+a+'" unselectable="on">'+o+"</span>",height:n[t]+12,checked:i===t||i===o,click:function(){e.select().exec("formatblock","<"+t+">").hideMenu()}})})}),e.clickToolbar("fontname",function(){var t=e.cmd.val("fontname"),n=e.createMenu({name:"fontname",width:150});_each(e.lang("fontname.fontName"),function(i,r){n.addItem({title:'<span style="font-family: '+i+';" unselectable="on">'+r+"</span>",checked:t===i.toLowerCase()||t===r.toLowerCase(),click:function(){e.exec("fontname",i).hideMenu()}})})}),e.clickToolbar("fontsize",function(){var t=e.cmd.val("fontsize"),n=e.createMenu({name:"fontsize",width:150});_each(e.fontSizeTable,function(i,r){n.addItem({title:'<span style="font-size:'+r+';" unselectable="on">'+r+"</span>",height:_removeUnit(r)+12,checked:t===r,click:function(){e.exec("fontsize",r).hideMenu()}})})}),_each("forecolor,hilitecolor".split(","),function(t,n){e.clickToolbar(n,function(){e.createMenu({name:n,selectedColor:e.cmd.val(n)||"default",colors:e.colorTable,click:function(t){e.exec(n,t).hideMenu()}})})}),_each("cut,copy,paste".split(","),function(t,n){e.clickToolbar(n,function(){e.focus();try{e.exec(n,null)}catch(t){alert(e.lang(n+"Error"))}})}),e.clickToolbar("about",function(){var t='<div style="margin:20px;"><div>KindEditor '+_VERSION+'</div><div>Copyright &copy; <a href="http://www.kindsoft.net/" target="_blank">kindsoft.net</a> All rights reserved.</div></div>';e.createDialog({name:"about",width:350,title:e.lang("about"),body:t})}),e.plugin.getSelectedLink=function(){return e.cmd.commonAncestor("a")},e.plugin.getSelectedImage=function(){return _getImageFromRange(e.edit.cmd.range,function(t){return!/^ke-\w+$/i.test(t[0].className)})},e.plugin.getSelectedFlash=function(){return _getImageFromRange(e.edit.cmd.range,function(t){return"ke-flash"==t[0].className})},e.plugin.getSelectedMedia=function(){return _getImageFromRange(e.edit.cmd.range,function(t){return"ke-media"==t[0].className||"ke-rm"==t[0].className})},e.plugin.getSelectedAnchor=function(){return _getImageFromRange(e.edit.cmd.range,function(t){return"ke-anchor"==t[0].className})},_each("link,image,flash,media,anchor".split(","),function(t,n){var i=n.charAt(0).toUpperCase()+n.substr(1);_each("edit,delete".split(","),function(t,r){e.addContextmenu({title:e.lang(r+i),click:function(){e.loadPlugin(n,function(){e.plugin[n][r](),e.hideMenu()})},cond:e.plugin["getSelected"+i],width:150,iconClass:"edit"==r?"ke-icon-"+n:undefined})}),e.addContextmenu({title:"-"})}),e.plugin.getSelectedTable=function(){return e.cmd.commonAncestor("table")},e.plugin.getSelectedRow=function(){return e.cmd.commonAncestor("tr")},e.plugin.getSelectedCell=function(){return e.cmd.commonAncestor("td")},_each("prop,cellprop,colinsertleft,colinsertright,rowinsertabove,rowinsertbelow,rowmerge,colmerge,rowsplit,colsplit,coldelete,rowdelete,insert,delete".split(","),function(t,n){var i=_inArray(n,["prop","delete"])<0?e.plugin.getSelectedCell:e.plugin.getSelectedTable;e.addContextmenu({title:e.lang("table"+n),click:function(){e.loadPlugin("table",function(){e.plugin.table[n](),e.hideMenu()})},cond:i,width:170,iconClass:"ke-icon-table"+n})}),e.addContextmenu({title:"-"}),_each("selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript,hr,print,bold,italic,underline,strikethrough,removeformat,unlink".split(","),function(t,i){n[i]&&e.afterCreate(function(){_ctrl(this.edit.doc,n[i],function(){e.cmd.selection(),e.clickToolbar(i)})}),e.clickToolbar(i,function(){e.focus().exec(i,null)})}),e.afterCreate(function(){function n(){i.range.moveToBookmark(r),i.select(),_WEBKIT&&(t("div."+s,o).each(function(){t(this).after("<br />").remove(!0)}),t("span.Apple-style-span",o).remove(!0),t("span.Apple-tab-span",o).remove(!0),t("span[style]",o).each(function(){"nowrap"==t(this).css("white-space")&&t(this).remove(!0)}),t("meta",o).remove());var n=o[0].innerHTML;o.remove(),""!==n&&(_WEBKIT&&(n=n.replace(/(<br>)\1/gi,"$1")),2===e.pasteType&&(n=n.replace(/(<(?:p|p\s[^>]*)>) *(<\/p>)/gi,""),/schemas-microsoft-com|worddocument|mso-\w+/i.test(n)?n=_clearMsWord(n,e.filterMode?e.htmlTags:t.options.htmlTags):(n=_formatHtml(n,e.filterMode?e.htmlTags:null),n=e.beforeSetHtml(n))),1===e.pasteType&&(n=n.replace(/&nbsp;/gi," "),n=n.replace(/\n\s*\n/g,"\n"),n=n.replace(/<br[^>]*>/gi,"\n"),n=n.replace(/<\/p><p[^>]*>/gi,"\n"),n=n.replace(/<[^>]+>/g,""),n=n.replace(/ {2}/g," &nbsp;"),"p"==e.newlineTag?/\n/.test(n)&&(n=n.replace(/^/,"<p>").replace(/$/,"<br /></p>").replace(/\n/g,"<br /></p><p>")):n=n.replace(/\n/g,"<br />$&")),e.insertHtml(n,!0))}var i,r,o,a=e.edit.doc,s="__kindeditor_paste__",l=!1;t(a.body).bind("paste",function(c){if(0===e.pasteType)return c.stop(),void 0;if(!l){if(l=!0,t("div."+s,a).remove(),i=e.cmd.selection(),r=i.range.createBookmark(),o=t('<div class="'+s+'"></div>',a).css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",left:"-1981px",top:t(r.start).pos().y+"px","white-space":"nowrap"}),t(a.body).append(o),_IE){var d=i.range.get(!0);d.moveToElementText(o[0]),d.select(),d.execCommand("paste"),c.preventDefault()}else i.range.selectNodeContents(o[0]),i.select();setTimeout(function(){n(),l=!1},0)}})}),e.beforeGetHtml(function(t){return _IE&&8>=_V&&(t=t.replace(/<div\s+[^>]*data-ke-input-tag="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi,function(t,e){return unescape(e)}),t=t.replace(/(<input)((?:\s+[^>]*)?>)/gi,function(t,e,n){return/\s+type="[^"]+"/i.test(t)?t:e+' type="text"'+n})),t.replace(/(<(?:noscript|noscript\s[^>]*)>)([\s\S]*?)(<\/noscript>)/gi,function(t,e,n,i){return e+_unescape(n).replace(/\s+/g," ")+i}).replace(/<img[^>]*class="?ke-(flash|rm|media)"?[^>]*>/gi,function(t){var e=_getAttrList(t),n=_getCssList(e.style||""),i=_mediaAttrs(e["data-ke-tag"]);return i.width=_undef(e.width,_removeUnit(_undef(n.width,""))),i.height=_undef(e.height,_removeUnit(_undef(n.height,""))),_mediaEmbed(i)}).replace(/<img[^>]*class="?ke-anchor"?[^>]*>/gi,function(t){var e=_getAttrList(t);return'<a name="'+unescape(e["data-ke-name"])+'"></a>'}).replace(/<div\s+[^>]*data-ke-script-attr="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi,function(t,e,n){return"<script"+unescape(e)+">"+unescape(n)+"</script>"
}).replace(/<div\s+[^>]*data-ke-noscript-attr="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi,function(t,e,n){return"<noscript"+unescape(e)+">"+unescape(n)+"</noscript>"}).replace(/(<[^>]*)data-ke-src="([^"]*)"([^>]*>)/gi,function(t,e,n){return t=t.replace(/(\s+(?:href|src)=")[^"]*(")/i,function(t,e,i){return e+_unescape(n)+i}),t=t.replace(/\s+data-ke-src="[^"]*"/i,"")}).replace(/(<[^>]+\s)data-ke-(on\w+="[^"]*"[^>]*>)/gi,function(t,e,n){return e+n})}),e.beforeSetHtml(function(t){return _IE&&8>=_V&&(t=t.replace(/<input[^>]*>|<(select|button)[^>]*>[\s\S]*?<\/\1>/gi,function(t){var e=_getAttrList(t),n=_getCssList(e.style||"");return"none"==n.display?'<div class="ke-display-none" data-ke-input-tag="'+escape(t)+'"></div>':t})),t.replace(/<embed[^>]*type="([^"]+)"[^>]*>(?:<\/embed>)?/gi,function(t){var n=_getAttrList(t);return n.src=_undef(n.src,""),n.width=_undef(n.width,0),n.height=_undef(n.height,0),_mediaImg(e.themesPath+"common/blank.gif",n)}).replace(/<a[^>]*name="([^"]+)"[^>]*>(?:<\/a>)?/gi,function(t){var n=_getAttrList(t);return n.href!==undefined?t:'<img class="ke-anchor" src="'+e.themesPath+'common/anchor.gif" data-ke-name="'+escape(n.name)+'" />'}).replace(/<script([^>]*)>([\s\S]*?)<\/script>/gi,function(t,e,n){return'<div class="ke-script" data-ke-script-attr="'+escape(e)+'">'+escape(n)+"</div>"}).replace(/<noscript([^>]*)>([\s\S]*?)<\/noscript>/gi,function(t,e,n){return'<div class="ke-noscript" data-ke-noscript-attr="'+escape(e)+'">'+escape(n)+"</div>"}).replace(/(<[^>]*)(href|src)="([^"]*)"([^>]*>)/gi,function(t,e,n,i,r){return t.match(/\sdata-ke-src="[^"]*"/i)?t:t=e+n+'="'+i+'" data-ke-src="'+_escape(i)+'"'+r}).replace(/(<[^>]+\s)(on\w+="[^"]*"[^>]*>)/gi,function(t,e,n){return e+"data-ke-"+n}).replace(/<table[^>]*\s+border="0"[^>]*>/gi,function(t){return t.indexOf("ke-zeroborder")>=0?t:_addClassToTag(t,"ke-zeroborder")})})})}}(window),function(){function t(t,e){var n;t||(t={});for(n in e)t[n]=e[n];return t}function e(){var t,e=arguments.length,n={},i=function(t,e){var n,r;"object"!=typeof t&&(t={});for(r in e)e.hasOwnProperty(r)&&(n=e[r],t[r]=n&&"object"==typeof n&&"[object Array]"!==Object.prototype.toString.call(n)&&"number"!=typeof n.nodeType?i(t[r]||{},n):e[r]);return t};for(t=0;e>t;t++)n=i(n,arguments[t]);return n}function n(){for(var t=0,e=arguments,n=e.length,i={};n>t;t++)i[e[t++]]=e[t];return i}function i(t,e){return parseInt(t,e||10)}function r(t){return"string"==typeof t}function o(t){return"object"==typeof t}function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t){return"number"==typeof t}function l(t){return me.log(t)/me.LN10}function c(t){return me.pow(10,t)}function d(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}}function u(t){return t!==V&&null!==t}function h(t,e,n){var i,a,s="setAttribute";if(r(e))u(n)?t[s](e,n):t&&t.getAttribute&&(a=t.getAttribute(e));else if(u(e)&&o(e))for(i in e)t[s](i,e[i]);return a}function p(t){return a(t)?t:[t]}function f(){var t,e,n=arguments,i=n.length;for(t=0;i>t;t++)if(e=n[t],"undefined"!=typeof e&&null!==e)return e}function g(e,n){Me&&n&&n.opacity!==V&&(n.filter="alpha(opacity="+100*n.opacity+")"),t(e.style,n)}function m(e,n,i,r,o){var a=fe.createElement(e);return n&&t(a,n),o&&g(a,{padding:0,border:Qe,margin:0}),i&&g(a,i),r&&r.appendChild(a),a}function v(e,n){var i=function(){};return i.prototype=new e,t(i.prototype,n),i}function y(t,e,n,r){var o=Z.lang,a=+t||0,s=-1===e?(a.toString().split(".")[1]||"").length:isNaN(e=ke(e))?2:e,l=void 0===n?o.decimalPoint:n,c=void 0===r?o.thousandsSep:r,d=0>a?"-":"",u=String(i(a=ke(a).toFixed(s))),h=u.length>3?u.length%3:0;return d+(h?u.substr(0,h)+c:"")+u.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+c)+(s?l+ke(a-u).toFixed(s).slice(2):"")}function b(t,e){return new Array((e||2)+1-String(t).length).join(0)+t}function x(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(i),n.apply(this,t)}}function _(t,e){var n,i=/f$/,r=/\.([0-9])/,o=Z.lang;return i.test(t)?(n=t.match(r),n=n?n[1]:-1,e=y(e,n,o.decimalPoint,t.indexOf(",")>-1?o.thousandsSep:"")):e=Q(t,e),e}function k(t,e){for(var n,i,r,o,a,s,l,c="{",d=!1,u=[];-1!==(l=t.indexOf(c));){if(n=t.slice(0,l),d){for(i=n.split(":"),r=i.shift().split("."),a=r.length,s=e,o=0;a>o;o++)s=s[r[o]];i.length&&(s=_(i.join(":"),s)),u.push(s)}else u.push(n);t=t.slice(l+1),d=!d,c=d?"}":"{"}return u.push(t),u.join("")}function w(t){return me.pow(10,ye(me.log(t)/me.LN10))}function C(t,e,n,i){var r,o;for(n=f(n,1),r=t/n,e||(e=[1,2,2.5,5,10],i&&i.allowDecimals===!1&&(1===n?e=[1,2,5,10]:.1>=n&&(e=[1/n]))),o=0;o<e.length&&(t=e[o],!(r<=(e[o]+(e[o+1]||e[o]))/2));o++);return t*=n}function T(t,e){var n,i,r=e||[[an,[1,2,5,10,20,25,50,100,200,500]],[sn,[1,2,5,10,15,30]],[ln,[1,2,5,10,15,30]],[cn,[1,2,3,4,6,8,12]],[dn,[1,2]],[un,[1,2]],[hn,[1,2,3,4,6]],[pn,null]],o=r[r.length-1],a=ee[o[0]],s=o[1];for(i=0;i<r.length;i++)if(o=r[i],a=ee[o[0]],s=o[1],r[i+1]){var l=(a*s[s.length-1]+ee[r[i+1][0]])/2;if(l>=t)break}return a===ee[pn]&&5*a>t&&(s=[1,2,5]),n=C(t/a,s,o[0]===pn?xe(w(t/a),1):1),{unitRange:a,count:n,unitName:o[0]}}function S(e,n,i,r){var o,a,s=[],l={},c=Z.global.useUTC,d=new Date(n),h=e.unitRange,p=e.count;if(u(n)){h>=ee[sn]&&(d.setMilliseconds(0),d.setSeconds(h>=ee[ln]?0:p*ye(d.getSeconds()/p))),h>=ee[ln]&&d[ce](h>=ee[cn]?0:p*ye(d[ie]()/p)),h>=ee[cn]&&d[de](h>=ee[dn]?0:p*ye(d[re]()/p)),h>=ee[dn]&&d[ue](h>=ee[hn]?1:p*ye(d[ae]()/p)),h>=ee[hn]&&(d[he](h>=ee[pn]?0:p*ye(d[se]()/p)),a=d[le]()),h>=ee[pn]&&(a-=a%p,d[pe](a)),h===ee[un]&&d[ue](d[ae]()-d[oe]()+f(r,1)),o=1,a=d[le]();for(var g=d.getTime(),m=d[se](),v=d[ae](),y=c?0:(864e5+60*d.getTimezoneOffset()*1e3)%864e5;i>g;)s.push(g),h===ee[pn]?g=ne(a+o*p,0):h===ee[hn]?g=ne(a,m+o*p):c||h!==ee[dn]&&h!==ee[un]?g+=h*p:g=ne(a,m,v+o*p*(h===ee[dn]?1:7)),o++;s.push(g),_n(kn(s,function(t){return h<=ee[cn]&&t%ee[dn]===y}),function(t){l[t]=dn})}return s.info=t(e,{higherRanks:l,totalRange:h*p}),s}function A(){this.color=0,this.symbol=0}function D(t,e){var n,i,r=t.length;for(i=0;r>i;i++)t[i].ss_i=i;for(t.sort(function(t,i){return n=e(t,i),0===n?t.ss_i-i.ss_i:n}),i=0;r>i;i++)delete t[i].ss_i}function M(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n}function E(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n}function N(t,e){var n;for(n in t)t[n]&&t[n]!==e&&t[n].destroy&&t[n].destroy(),delete t[n]}function L(t){q||(q=m(Xe)),t&&q.appendChild(t),q.innerHTML=""}function P(t,e){var n="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw n;ge.console&&console.log(n)}function I(t){return parseFloat(t.toPrecision(14))}function O(t,e){J=f(t,e.animation)}function K(){var t=Z.global.useUTC,e=t?"getUTC":"get",n=t?"setUTC":"set";ne=t?Date.UTC:function(t,e,n,i,r,o){return new Date(t,e,f(n,1),f(i,0),f(r,0),f(o,0)).getTime()},ie=e+"Minutes",re=e+"Hours",oe=e+"Day",ae=e+"Date",se=e+"Month",le=e+"FullYear",ce=n+"Minutes",de=n+"Hours",ue=n+"Date",he=n+"Month",pe=n+"FullYear"}function R(t){return Z=e(Z,t),K(),Z}function B(){return Z}function H(){}function F(t,e,n,i){this.axis=t,this.pos=e,this.type=n||"",this.isNew=!0,n||i||this.addLabel()}function z(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)}function W(t,e,n,i,r,o){var a=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=r,this.percent="percent"===o,this.alignOptions={align:e.align||(a?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(a?"middle":n?"bottom":"top"),y:f(e.y,a?4:n?14:-6),x:f(e.x,a?n?-6:6:0)},this.textAlign=e.textAlign||(a?n?"right":"left":"center")}function j(){this.init.apply(this,arguments)}function Y(){this.init.apply(this,arguments)}function X(t,e){this.init(t,e)}function G(t,e){this.init(t,e)}function $(){this.init.apply(this,arguments)}var V,U,q,Z,Q,J,te,ee,ne,ie,re,oe,ae,se,le,ce,de,ue,he,pe,fe=document,ge=window,me=Math,ve=me.round,ye=me.floor,be=me.ceil,xe=me.max,_e=me.min,ke=me.abs,we=me.cos,Ce=me.sin,Te=me.PI,Se=2*Te/360,Ae=navigator.userAgent,De=ge.opera,Me=/msie/i.test(Ae)&&!De,Ee=8===fe.documentMode,Ne=/AppleWebKit/.test(Ae),Le=/Firefox/.test(Ae),Pe=/(Mobile|Android|Windows Phone)/.test(Ae),Ie="http://www.w3.org/2000/svg",Oe=!!fe.createElementNS&&!!fe.createElementNS(Ie,"svg").createSVGRect,Ke=Le&&parseInt(Ae.split("Firefox/")[1],10)<4,Re=!Oe&&!Me&&!!fe.createElement("canvas").getContext,Be=fe.documentElement.ontouchstart!==V,He={},Fe=0,ze=function(){},We=[],je="Highcharts",Ye="3.0.7",Xe="div",Ge="absolute",$e="relative",Ve="hidden",Ue="highcharts-",qe="visible",Ze="px",Qe="none",Je="M",tn="L",en="rgba(192,192,192,"+(Oe?1e-4:.002)+")",nn="",rn="hover",on="select",an="millisecond",sn="second",ln="minute",cn="hour",dn="day",un="week",hn="month",pn="year",fn="stroke-width",gn={};ge.Highcharts=ge.Highcharts?P(16,!0):{},Q=function(e,n,i){if(!u(n)||isNaN(n))return"Invalid date";e=f(e,"%Y-%m-%d %H:%M:%S");var r,o=new Date(n),a=o[re](),s=o[oe](),l=o[ae](),c=o[se](),d=o[le](),h=Z.lang,p=h.weekdays,g=t({a:p[s].substr(0,3),A:p[s],d:b(l),e:l,b:h.shortMonths[c],B:h.months[c],m:b(c+1),y:d.toString().substr(2,2),Y:d,H:b(a),I:b(a%12||12),l:a%12||12,M:b(o[ie]()),p:12>a?"AM":"PM",P:12>a?"am":"pm",S:b(o.getSeconds()),L:b(ve(n%1e3),3)},Highcharts.dateFormats);for(r in g)for(;-1!==e.indexOf("%"+r);)e=e.replace("%"+r,"function"==typeof g[r]?g[r](n):g[r]);return i?e.substr(0,1).toUpperCase()+e.substr(1):e},A.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},ee=n(an,1,sn,1e3,ln,6e4,cn,36e5,dn,864e5,un,6048e5,hn,26784e5,pn,31556952e3),te={init:function(t,e,n){e=e||"";var i,r,o,a,s,l=t.shift,c=e.indexOf("C")>-1,d=c?7:3,u=e.split(" "),h=[].concat(n),p=function(t){for(o=t.length;o--;)t[o]===Je&&t.splice(o+1,0,t[o+1],t[o+2],t[o+1],t[o+2])};if(c&&(p(u),p(h)),t.isArea&&(a=u.splice(u.length-6,6),s=h.splice(h.length-6,6)),l<=h.length/d&&u.length===h.length)for(;l--;)h=[].concat(h).splice(0,d).concat(h);if(t.shift=0,u.length)for(i=h.length;u.length<i;)r=[].concat(u).splice(u.length-d,d),c&&(r[d-6]=r[d-2],r[d-5]=r[d-1]),u=u.concat(r);return a&&(u=u.concat(a),h=h.concat(s)),[u,h]},step:function(t,e,n,i){var r,o=[],a=t.length;if(1===n)o=i;else if(a===e.length&&1>n)for(;a--;)r=parseFloat(t[a]),o[a]=isNaN(r)?t[a]:n*parseFloat(e[a]-r)+r;else o=e;return o}},function(e){ge.HighchartsAdapter=ge.HighchartsAdapter||e&&{init:function(t){var n,i=e.fx,o=i.step,a=e.Tween,s=a&&a.propHooks,l=e.cssHooks.opacity;e.extend(e.easing,{easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n}}),e.each(["cur","_default","width","height","opacity"],function(t,e){var n,r,l=o;"cur"===e?l=i.prototype:"_default"===e&&a&&(l=s[e],e="set"),n=l[e],n&&(l[e]=function(i){return i=t?i:this,"align"!==i.prop?(r=i.elem,r.attr?r.attr(i.prop,"cur"===e?V:i.now):n.apply(this,arguments)):void 0})}),x(l,"get",function(t,e,n){return e.attr?e.opacity||0:t.call(this,e,n)}),n=function(e){var n,i=e.elem;e.started||(n=t.init(i,i.d,i.toD),e.start=n[0],e.end=n[1],e.started=!0),i.attr("d",t.step(e.start,e.end,e.pos,i.toD))},a?s.d={set:n}:o.d=n,this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){for(var n=0,i=t.length;i>n;n++)if(e.call(t[n],t[n],n,t)===!1)return n},e.fn.highcharts=function(){var t,e,n,i="Chart",o=arguments;return r(o[0])&&(i=o[0],o=Array.prototype.slice.call(o,1)),t=o[0],t!==V&&(t.chart=t.chart||{},t.chart.renderTo=this[0],n=new Highcharts[i](t,o[1]),e=this),t===V&&(e=We[h(this[0],"data-highcharts-chart")]),e}},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,n){return e(t)[n]()},grep:e.grep,map:function(t,e){for(var n=[],i=0,r=t.length;r>i;i++)n[i]=e.call(t[i],t[i],i,t);return n},offset:function(t){return e(t).offset()},addEvent:function(t,n,i){e(t).bind(n,i)},removeEvent:function(t,n,i){var r=fe.removeEventListener?"removeEventListener":"detachEvent";fe[r]&&t&&!t[r]&&(t[r]=function(){}),e(t).unbind(n,i)},fireEvent:function(n,i,r,o){var a,s=e.Event(i),l="detached"+i;!Me&&r&&(delete r.layerX,delete r.layerY),t(s,r),n[i]&&(n[l]=n[i],n[i]=null),e.each(["preventDefault","stopPropagation"],function(t,e){var n=s[e];s[e]=function(){try{n.call(s)}catch(t){"preventDefault"===e&&(a=!0)}}}),e(n).trigger(s),n[l]&&(n[i]=n[l],n[l]=null),!o||s.isDefaultPrevented()||a||o(s)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===V&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(t,n,i){var r=e(t);t.style||(t.style={}),n.d&&(t.toD=n.d,n.d=1),r.stop(),n.opacity!==V&&t.attr&&(n.opacity+="px"),r.animate(n,i)},stop:function(t){e(t).stop()}}}(ge.jQuery);var mn=ge.HighchartsAdapter,vn=mn||{};mn&&mn.init.call(mn,te);var yn=vn.adapterRun,bn=vn.getScript,xn=vn.inArray,_n=vn.each,kn=vn.grep,wn=vn.offset,Cn=vn.map,Tn=vn.addEvent,Sn=vn.removeEvent,An=vn.fireEvent,Dn=vn.washMouseEvent,Mn=vn.animate,En=vn.stop,Nn={enabled:!0,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"}};Z={colors:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/3.0.7/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.7/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:e(Nn,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":y(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:Ge,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:Ge,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:$e,top:"1em"},style:{position:Ge,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Oe,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:Pe?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var Ln=Z.plotOptions,Pn=Ln.line;K();var In=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,On=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,Kn=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,Rn=function(t){function n(t){t&&t.stops?c=Cn(t.stops,function(t){return Rn(t[1])}):(l=In.exec(t),l?d=[i(l[1]),i(l[2]),i(l[3]),parseFloat(l[4],10)]:(l=On.exec(t),l?d=[i(l[1],16),i(l[2],16),i(l[3],16),1]:(l=Kn.exec(t),l&&(d=[i(l[1]),i(l[2]),i(l[3]),1]))))}function r(n){var i;return c?(i=e(t),i.stops=[].concat(i.stops),_n(c,function(t,e){i.stops[e]=[i.stops[e][0],t.get(n)]})):i=d&&!isNaN(d[0])?"rgb"===n?"rgb("+d[0]+","+d[1]+","+d[2]+")":"a"===n?d[3]:"rgba("+d.join(",")+")":t,i}function o(t){if(c)_n(c,function(e){e.brighten(t)});else if(s(t)&&0!==t){var e;for(e=0;3>e;e++)d[e]+=i(255*t),d[e]<0&&(d[e]=0),d[e]>255&&(d[e]=255)}return this}function a(t){return d[3]=t,this}var l,c,d=[];return n(t),{get:r,brighten:o,rgba:d,setOpacity:a}};H.prototype={init:function(t,e){var n=this;n.element="span"===e?m(e):fe.createElementNS(Ie,e),n.renderer=t,n.attrSetters={}},opacity:1,animate:function(t,n,i){var r=f(n,J,!0);En(this),r?(r=e(r),i&&(r.complete=i),Mn(this,t,r)):(this.attr(t),i&&i())},attr:function(t,e){var n,o,a,s,l,c,d,p,g,m=this,v=m.element,y=v.nodeName.toLowerCase(),b=m.renderer,x=m.attrSetters,_=m.shadows,k=m;if(r(t)&&u(e)&&(n=t,t={},t[n]=e),r(t))n=t,"circle"===y?n={x:"cx",y:"cy"}[n]||n:"strokeWidth"===n&&(n="stroke-width"),k=h(v,n)||m[n]||0,"d"!==n&&"visibility"!==n&&"fill"!==n&&(k=parseFloat(k));else{for(n in t)if(c=!1,o=t[n],a=x[n]&&x[n].call(m,o,n),a!==!1){if(a!==V&&(o=a),"d"===n)o&&o.join&&(o=o.join(" ")),/(NaN| {2}|^$)/.test(o)&&(o="M 0 0");else if("x"===n&&"text"===y)for(s=0;s<v.childNodes.length;s++)l=v.childNodes[s],h(l,"x")===h(v,"x")&&h(l,"x",o);else if(!m.rotation||"x"!==n&&"y"!==n)if("fill"===n)o=b.color(o,v,n);else if("circle"!==y||"x"!==n&&"y"!==n)if("rect"===y&&"r"===n)h(v,{rx:o,ry:o}),c=!0;else if("translateX"===n||"translateY"===n||"rotation"===n||"verticalAlign"===n||"scaleX"===n||"scaleY"===n)g=!0,c=!0;else if("stroke"===n)o=b.color(o,v,n);else if("dashstyle"===n){if(n="stroke-dasharray",o=o&&o.toLowerCase(),"solid"===o)o=Qe;else if(o){for(o=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),s=o.length;s--;)o[s]=i(o[s])*f(t["stroke-width"],m["stroke-width"]);o=o.join(",")}}else"width"===n?o=i(o):"align"===n?(n="text-anchor",o={left:"start",center:"middle",right:"end"}[o]):"title"===n&&(d=v.getElementsByTagName("title")[0],d||(d=fe.createElementNS(Ie,"title"),v.appendChild(d)),d.textContent=o);else n={x:"cx",y:"cy"}[n]||n;else g=!0;if("strokeWidth"===n&&(n="stroke-width"),("stroke-width"===n||"stroke"===n)&&(m[n]=o,m.stroke&&m["stroke-width"]?(h(v,"stroke",m.stroke),h(v,"stroke-width",m["stroke-width"]),m.hasStroke=!0):"stroke-width"===n&&0===o&&m.hasStroke&&(v.removeAttribute("stroke"),m.hasStroke=!1),c=!0),m.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(p||(m.symbolAttr(t),p=!0),c=!0),_&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n))for(s=_.length;s--;)h(_[s],n,"height"===n?xe(o-(_[s].cutHeight||0),0):o);("width"===n||"height"===n)&&"rect"===y&&0>o&&(o=0),m[n]=o,"text"===n?(o!==m.textStr&&delete m.bBox,m.textStr=o,m.added&&b.buildText(m)):c||h(v,n,o)}g&&m.updateTransform()}return k},addClass:function(t){var e=this.element,n=h(e,"class")||"";return-1===n.indexOf(t)&&h(e,"class",n+" "+t),this},symbolAttr:function(t){var e=this;_n(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(n){e[n]=f(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Qe)},crisp:function(t,e,n,i,r){var o,a,s=this,l={},c={};t=t||s.strokeWidth||s.attr&&s.attr("stroke-width")||0,a=ve(t)%2/2,c.x=ye(e||s.x||0)+a,c.y=ye(n||s.y||0)+a,c.width=ye((i||s.width||0)-2*a),c.height=ye((r||s.height||0)-2*a),c.strokeWidth=t;for(o in c)s[o]!==c[o]&&(s[o]=l[o]=c[o]);return l},css:function(e){var n,r=this,o=r.element,a=r.textWidth=e&&e.width&&"text"===o.nodeName.toLowerCase()&&i(e.width),s="",l=function(t,e){return"-"+e.toLowerCase()};if(e&&e.color&&(e.fill=e.color),e=t(r.styles,e),r.styles=e,a&&delete e.width,Me&&!Oe)g(r.element,e);else{for(n in e)s+=n.replace(/([A-Z])/g,l)+":"+e[n]+";";h(o,"style",s)}return a&&r.added&&r.renderer.buildText(r),r},on:function(t,e){var n=this,i=n.element;return Be&&"click"===t?(i.ontouchstart=function(t){n.touchEventFired=Date.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(-1===Ae.indexOf("Android")||Date.now()-(n.touchEventFired||0)>1100)&&e.call(i,t)}):i["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){var t=this;return t.inverted=!0,t.updateTransform(),t},htmlCss:function(e){var n=this,i=n.element,r=e&&"SPAN"===i.tagName&&e.width;return r&&(delete e.width,n.textWidth=r,n.updateTransform()),n.styles=t(n.styles,e),g(n.element,e),n},htmlGetBBox:function(){var t=this,e=t.element,n=t.bBox;return n||("text"===e.nodeName&&(e.style.position=Ge),n=t.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),n},htmlUpdateTransform:function(){if(!this.added)return this.alignOnAdd=!0,void 0;var t=this,e=t.renderer,n=t.element,r=t.translateX||0,o=t.translateY||0,a=t.x||0,s=t.y||0,l=t.textAlign||"left",c={left:0,center:.5,right:1}[l],d=l&&"left"!==l,h=t.shadows;if(g(n,{marginLeft:r,marginTop:o}),h&&_n(h,function(t){g(t,{marginLeft:r+1,marginTop:o+1})}),t.inverted&&_n(n.childNodes,function(t){e.invertChild(t,n)}),"SPAN"===n.tagName){var p,m,v,y,b=t.rotation,x=0,_=1,k=0,w=i(t.textWidth),C=t.xCorr||0,T=t.yCorr||0,S=[b,l,n.innerHTML,t.textWidth].join(",");S!==t.cTT&&(u(b)&&(x=b*Se,_=we(x),k=Ce(x),t.setSpanRotation(b,k,_)),p=f(t.elemWidth,n.offsetWidth),m=f(t.elemHeight,n.offsetHeight),p>w&&/[ \-]/.test(n.textContent||n.innerText)&&(g(n,{width:w+Ze,display:"block",whiteSpace:"normal"}),p=w),v=e.fontMetrics(n.style.fontSize).b,C=0>_&&-p,T=0>k&&-m,y=0>_*k,C+=k*v*(y?1-c:c),T-=_*v*(b?y?c:1-c:1),d&&(C-=p*c*(0>_?-1:1),b&&(T-=m*c*(0>k?-1:1)),g(n,{textAlign:l})),t.xCorr=C,t.yCorr=T),g(n,{left:a+C+Ze,top:s+T+Ze}),Ne&&(m=n.offsetHeight),t.cTT=S}},setSpanRotation:function(t){var e={},n=Me?"-ms-transform":Ne?"-webkit-transform":Le?"MozTransform":De?"-o-transform":"";e[n]=e.transform="rotate("+t+"deg)",g(this.element,e)},updateTransform:function(){var t,e=this,n=e.translateX||0,i=e.translateY||0,r=e.scaleX,o=e.scaleY,a=e.inverted,s=e.rotation;a&&(n+=e.attr("width"),i+=e.attr("height")),t=["translate("+n+","+i+")"],a?t.push("rotate(90) scale(-1,1)"):s&&t.push("rotate("+s+" "+(e.x||0)+" "+(e.y||0)+")"),(u(r)||u(o))&&t.push("scale("+f(r,1)+" "+f(o,1)+")"),t.length&&h(e.element,"transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var i,o,a,s,l,c={},u=this.renderer,h=u.alignedObjects;return t?(this.alignOptions=t,this.alignByTranslate=e,(!n||r(n))&&(this.alignTo=l=n||"renderer",d(h,this),h.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,l=this.alignTo),n=f(n,u[l],u),i=t.align,o=t.verticalAlign,a=(n.x||0)+(t.x||0),s=(n.y||0)+(t.y||0),("right"===i||"center"===i)&&(a+=(n.width-(t.width||0))/{right:1,center:2}[i]),c[e?"translateX":"x"]=ve(a),("bottom"===o||"middle"===o)&&(s+=(n.height-(t.height||0))/({bottom:1,middle:2}[o]||1)),c[e?"translateY":"y"]=ve(s),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(){var e,n,i=this,r=i.bBox,o=i.renderer,a=i.rotation,s=i.element,l=i.styles,c=a*Se;if(!r){if(s.namespaceURI===Ie||o.forExport){try{r=s.getBBox?t({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight}}catch(d){}(!r||r.width<0)&&(r={width:0,height:0})}else r=i.htmlGetBBox();o.isSVG&&(e=r.width,n=r.height,Me&&l&&"11px"===l.fontSize&&"22.7"===n.toPrecision(3)&&(r.height=n=14),a&&(r.width=ke(n*Ce(c))+ke(e*we(c)),r.height=ke(n*we(c))+ke(e*Ce(c)))),i.bBox=r}return r},show:function(){return this.attr({visibility:qe})},hide:function(){return this.attr({visibility:Ve})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.hide()}})},add:function(t){var e,n,r,o,a=this.renderer,s=t||a,l=s.element||a.box,c=l.childNodes,d=this.element,p=h(d,"zIndex");if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&a.buildText(this),p&&(s.handleZ=!0,p=i(p)),s.handleZ)for(r=0;r<c.length;r++)if(e=c[r],n=h(e,"zIndex"),e!==d&&(i(n)>p||!u(p)&&u(n))){l.insertBefore(d,e),o=!0;break}return o||l.appendChild(d),this.added=!0,An(this,"add"),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,n,i=this,r=i.element||{},o=i.shadows,a=i.renderer.isSVG&&"SPAN"===r.nodeName&&i.parentGroup;if(r.onclick=r.onmouseout=r.onmouseover=r.onmousemove=r.point=null,En(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(n=0;n<i.stops.length;n++)i.stops[n]=i.stops[n].destroy();i.stops=null}for(i.safeRemoveChild(r),o&&_n(o,function(t){i.safeRemoveChild(t)});a&&0===a.div.childNodes.length;)t=a.parentGroup,i.safeRemoveChild(a.div),delete a.div,a=t;i.alignTo&&d(i.renderer.alignedObjects,i);for(e in i)delete i[e];return null},shadow:function(t,e,n){var i,r,o,a,s,l,c=[],d=this.element;if(t){for(a=f(t.width,3),s=(t.opacity||.15)/a,l=this.parentInverted?"(-1,-1)":"("+f(t.offsetX,1)+", "+f(t.offsetY,1)+")",i=1;a>=i;i++)r=d.cloneNode(0),o=2*a+1-2*i,h(r,{isShadow:"true",stroke:t.color||"black","stroke-opacity":s*i,"stroke-width":o,transform:"translate"+l,fill:Qe}),n&&(h(r,"height",xe(h(r,"height")-o,0)),r.cutHeight=o),e?e.element.appendChild(r):d.parentNode.insertBefore(r,d),c.push(r);this.shadows=c}return this}};var Bn=function(){this.init.apply(this,arguments)};Bn.prototype={Element:H,init:function(t,e,n,i){var r,o,a,s=this,l=location;r=s.createElement("svg").attr({version:"1.1"}),o=r.element,t.appendChild(o),-1===t.innerHTML.indexOf("xmlns")&&h(o,"xmlns",Ie),s.isSVG=!0,s.box=o,s.boxWrapper=r,s.alignedObjects=[],s.url=(Le||Ne)&&fe.getElementsByTagName("base").length?l.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",a=this.createElement("desc").add(),a.element.appendChild(fe.createTextNode("Created with "+je+" "+Ye)),s.defs=this.createElement("defs").add(),s.forExport=i,s.gradients={},s.setSize(e,n,!1);var c,d;Le&&t.getBoundingClientRect&&(s.subPixelFix=c=function(){g(t,{left:0,top:0}),d=t.getBoundingClientRect(),g(t,{left:be(d.left)-d.left+Ze,top:be(d.top)-d.top+Ze})},c(),Tn(ge,"resize",c))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,e=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),N(t.gradients||{}),t.gradients=null,e&&(t.defs=e.destroy()),t.subPixelFix&&Sn(ge,"resize",t.subPixelFix),t.alignedObjects=null,null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var e=t.element,n=this,r=n.forExport,o=f(t.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),a=e.childNodes,s=/style="([^"]+)"/,l=/href="(http[^"]+)"/,c=h(e,"x"),d=t.styles,u=t.textWidth,p=d&&d.lineHeight,m=a.length;m--;)e.removeChild(a[m]);u&&!t.added&&this.box.appendChild(e),""===o[o.length-1]&&o.pop(),_n(o,function(o,a){var f,m=0;o=o.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),f=o.split("|||"),_n(f,function(o){if(""!==o||1===f.length){var v,y={},b=fe.createElementNS(Ie,"tspan");if(s.test(o)&&(v=o.match(s)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),h(b,"style",v)),l.test(o)&&!r&&(h(b,"onclick",'location.href="'+o.match(l)[1]+'"'),g(b,{cursor:"pointer"})),o=(o.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==o&&(b.appendChild(fe.createTextNode(o)),m?y.dx=0:y.x=c,h(b,y),!m&&a&&(!Oe&&r&&g(b,{display:"block"}),h(b,"dy",p||n.fontMetrics(/px$/.test(b.style.fontSize)?b.style.fontSize:d.fontSize).h,Ne&&b.offsetHeight)),e.appendChild(b),m++,u))for(var x,_,k,w=o.replace(/([^\^])-/g,"$1- ").split(" "),C=t._clipHeight,T=[],S=i(p||16),A=1;w.length||T.length;)delete t.bBox,k=t.getBBox(),_=k.width,!Oe&&n.forExport&&(_=n.measureSpanWidth(b.firstChild.data,t.styles)),x=_>u,x&&1!==w.length?(b.removeChild(b.firstChild),T.unshift(w.pop())):(w=T,T=[],w.length&&(A++,C&&A*S>C?(w=["..."],t.attr("title",t.textStr)):(b=fe.createElementNS(Ie,"tspan"),h(b,{dy:S,x:c}),v&&h(b,"style",v),e.appendChild(b),_>u&&(u=_)))),w.length&&b.appendChild(fe.createTextNode(w.join(" ").replace(/- /g,"-")))}})})},button:function(n,i,r,o,a,s,l,c,d){var u,h,p,f,g,m,v=this.label(n,i,r,d,null,null,null,null,"button"),y=0,b="style",x={x1:0,y1:0,x2:0,y2:1};return a=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:x,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},a),p=a[b],delete a[b],s=e(a,{stroke:"#68A",fill:{linearGradient:x,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),f=s[b],delete s[b],l=e(a,{stroke:"#68A",fill:{linearGradient:x,stops:[[0,"#9BD"],[1,"#CDF"]]}},l),g=l[b],delete l[b],c=e(a,{style:{color:"#CCC"}},c),m=c[b],delete c[b],Tn(v.element,Me?"mouseover":"mouseenter",function(){3!==y&&v.attr(s).css(f)}),Tn(v.element,Me?"mouseout":"mouseleave",function(){3!==y&&(u=[a,s,l][y],h=[p,f,g][y],v.attr(u).css(h))}),v.setState=function(t){v.state=y=t,t?2===t?v.attr(l).css(g):3===t&&v.attr(c).css(m):v.attr(a).css(p)},v.on("click",function(){3!==y&&o.call(v)}).attr(a).css(t({cursor:"default"},p))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=ve(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=ve(t[2])+e%2/2),t},path:function(e){var n={fill:Qe};return a(e)?n.d=e:o(e)&&t(n,e),this.createElement("path").attr(n)},circle:function(t,e,n){var i=o(t)?t:{x:t,y:e,r:n};return this.createElement("circle").attr(i)},arc:function(t,e,n,i,r,a){var s;return o(t)&&(e=t.y,n=t.r,i=t.innerR,r=t.start,a=t.end,t=t.x),s=this.symbol("arc",t||0,e||0,n||0,n||0,{innerR:i||0,start:r||0,end:a||0}),s.r=n,s},rect:function(t,e,n,i,r,a){r=o(t)?t.r:r;var s=this.createElement("rect").attr({rx:r,ry:r,fill:Qe});return s.attr(o(t)?t:s.crisp(a,t,e,xe(n,0),xe(i,0)))},setSize:function(t,e,n){var i=this,r=i.alignedObjects,o=r.length;for(i.width=t,i.height=e,i.boxWrapper[f(n,!0)?"animate":"attr"]({width:t,height:e});o--;)r[o].align()},g:function(t){var e=this.createElement("g");return u(t)?e.attr({"class":Ue+t}):e},image:function(e,n,i,r,o){var a,s={preserveAspectRatio:Qe};return arguments.length>1&&t(s,{x:n,y:i,width:r,height:o}),a=this.createElement("image").attr(s),a.element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):a.element.setAttribute("hc-svg-href",e),a},symbol:function(e,n,i,r,o,a){var s,l,c,d,u,h=this.symbols[e],p=h&&h(ve(n),ve(i),r,o,a),f=/^url\((.*?)\)$/;return p?(s=this.path(p),t(s,{symbolName:e,x:n,y:i,width:r,height:o}),a&&t(s,a)):f.test(e)&&(u=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(ve((r-e[0])/2),ve((o-e[1])/2)))},c=e.match(f)[1],d=He[c],s=this.image(c).attr({x:n,y:i}),s.isImg=!0,d?u(s,d):(s.attr({width:0,height:0}),l=m("img",{onload:function(){u(s,He[c]=[this.width,this.height])},src:c}))),s},symbols:{circle:function(t,e,n,i){var r=.166*n;return[Je,t+n/2,e,"C",t+n+r,e,t+n+r,e+i,t+n/2,e+i,"C",t-r,e+i,t-r,e,t+n/2,e,"Z"]},square:function(t,e,n,i){return[Je,t,e,tn,t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return[Je,t+n/2,e,tn,t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return[Je,t,e,tn,t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return[Je,t+n/2,e,tn,t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var o=r.start,a=r.r||n||i,s=r.end-.001,l=r.innerR,c=r.open,d=we(o),u=Ce(o),h=we(s),p=Ce(s),f=r.end-o<Te?0:1;return[Je,t+a*d,e+a*u,"A",a,a,0,f,1,t+a*h,e+a*p,c?Je:tn,t+l*h,e+l*p,"A",l,l,0,f,0,t+l*d,e+l*u,c?"":"Z"]}},clipRect:function(t,e,n,i){var r,o=Ue+Fe++,a=this.createElement("clipPath").attr({id:o}).add(this.defs);return r=this.rect(t,e,n,i,0).add(a),r.id=o,r.clipPath=a,r},color:function(t,n,i){var r,o,s,l,c,d,p,f,g,m,v,y=this,b=/^rgba/,x=[];if(t&&t.linearGradient?o="linearGradient":t&&t.radialGradient&&(o="radialGradient"),o){s=t[o],l=y.gradients,d=t.stops,g=n.radialReference,a(s)&&(t[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&g&&!u(s.gradientUnits)&&(s=e(s,{cx:g[0]-g[2]/2+s.cx*g[2],cy:g[1]-g[2]/2+s.cy*g[2],r:s.r*g[2],gradientUnits:"userSpaceOnUse"}));
for(m in s)"id"!==m&&x.push(m,s[m]);for(m in d)x.push(d[m]);return x=x.join(","),l[x]?v=l[x].id:(s.id=v=Ue+Fe++,l[x]=c=y.createElement(o).attr(s).add(y.defs),c.stops=[],_n(d,function(t){var e;b.test(t[1])?(r=Rn(t[1]),p=r.get("rgb"),f=r.get("a")):(p=t[1],f=1),e=y.createElement("stop").attr({offset:t[0],"stop-color":p,"stop-opacity":f}).add(c),c.stops.push(e)})),"url("+y.url+"#"+v+")"}return b.test(t)?(r=Rn(t),h(n,i+"-opacity",r.get("a")),r.get("rgb")):(n.removeAttribute(i+"-opacity"),t)},text:function(t,e,n,i){var r,o=this,a=Z.chart.style,s=Re||!Oe&&o.forExport;return i&&!o.forExport?o.html(t,e,n):(e=ve(f(e,0)),n=ve(f(n,0)),r=o.createElement("text").attr({x:e,y:n,text:t}).css({fontFamily:a.fontFamily,fontSize:a.fontSize}),s&&r.css({position:Ge}),r.x=e,r.y=n,r)},html:function(e,n,i){var r=Z.chart.style,o=this.createElement("span"),a=o.attrSetters,s=o.element,l=o.renderer;return a.text=function(t){return t!==s.innerHTML&&delete this.bBox,s.innerHTML=t,!1},a.x=a.y=a.align=function(t,e){return"align"===e&&(e="textAlign"),o[e]=t,o.htmlUpdateTransform(),!1},o.attr({text:e,x:ve(n),y:ve(i)}).css({position:Ge,whiteSpace:"nowrap",fontFamily:r.fontFamily,fontSize:r.fontSize}),o.css=o.htmlCss,l.isSVG&&(o.add=function(e){var n,i,r=l.box.parentNode,a=[];if(this.parentGroup=e,e){if(n=e.div,!n){for(i=e;i;)a.push(i),i=i.parentGroup;_n(a.reverse(),function(e){var i;n=e.div=e.div||m(Xe,{className:h(e.element,"class")},{position:Ge,left:(e.translateX||0)+Ze,top:(e.translateY||0)+Ze},n||r),i=n.style,t(e.attrSetters,{translateX:function(t){i.left=t+Ze},translateY:function(t){i.top=t+Ze},visibility:function(t,e){i[e]=t}})})}}else n=r;return n.appendChild(s),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o},fontMetrics:function(t){t=i(t||11);var e=24>t?t+4:ve(1.2*t),n=ve(.8*e);return{h:e,b:n}},label:function(n,i,r,o,a,s,l,c,d){function h(){var t,n,i=S.element.style;v=(void 0===y||void 0===b||T.styles.textAlign)&&S.getBBox(),T.width=(y||v.width||0)+2*D+M,T.height=(b||v.height||0)+2*D,k=D+C.fontMetrics(i&&i.fontSize).b,w&&(m||(t=ve(-A*D),n=c?-k:0,T.box=m=o?C.symbol(o,t,n,T.width,T.height,N):C.rect(t,n,T.width,T.height,0,N[fn]),m.add(T)),m.isImg||m.attr(e({width:T.width,height:T.height},N)),N=null)}function p(){var t,e=T.styles,n=e&&e.textAlign,i=M+D*(1-A);t=c?0:k,!u(y)||"center"!==n&&"right"!==n||(i+={center:.5,right:1}[n]*(y-v.width)),(i!==S.x||t!==S.y)&&S.attr({x:i,y:t}),S.x=i,S.y=t}function f(t,e){m?m.attr(t,e):N[t]=e}function g(){S.add(T),T.attr({text:n,x:i,y:r}),m&&u(a)&&T.attr({anchorX:a,anchorY:s})}var m,v,y,b,x,_,k,w,C=this,T=C.g(d),S=C.text("",0,0,l).attr({zIndex:1}),A=0,D=3,M=0,E=0,N={},L=T.attrSetters;Tn(T,"add",g),L.width=function(t){return y=t,!1},L.height=function(t){return b=t,!1},L.padding=function(t){return u(t)&&t!==D&&(D=t,p()),!1},L.paddingLeft=function(t){return u(t)&&t!==M&&(M=t,p()),!1},L.align=function(t){return A={left:0,center:.5,right:1}[t],!1},L.text=function(t,e){return S.attr(e,t),h(),p(),!1},L[fn]=function(t,e){return w=!0,E=t%2/2,f(e,t),!1},L.stroke=L.fill=L.r=function(t,e){return"fill"===e&&(w=!0),f(e,t),!1},L.anchorX=function(t,e){return a=t,f(e,t+E-x),!1},L.anchorY=function(t,e){return s=t,f(e,t-_),!1},L.x=function(t){return T.x=t,t-=A*((y||v.width)+D),x=ve(t),T.attr("translateX",x),!1},L.y=function(t){return _=T.y=ve(t),T.attr("translateY",_),!1};var P=T.css;return t(T,{css:function(t){if(t){var n={};t=e(t),_n(["fontSize","fontWeight","fontFamily","color","lineHeight","width","textDecoration","textShadow"],function(e){t[e]!==V&&(n[e]=t[e],delete t[e])}),S.css(n)}return P.call(T,t)},getBBox:function(){return{width:v.width+2*D,height:v.height+2*D,x:v.x-D,y:v.y-D}},shadow:function(t){return m&&m.shadow(t),T},destroy:function(){Sn(T,"add",g),Sn(T.element,"mouseenter"),Sn(T.element,"mouseleave"),S&&(S=S.destroy()),m&&(m=m.destroy()),H.prototype.destroy.call(T),T=C=h=p=f=g=null}})}},U=Bn;var Hn,Fn;if(!Oe&&!Re){Highcharts.VMLElement=Fn={init:function(t,e){var n=this,i=["<",e,' filled="f" stroked="f"'],r=["position: ",Ge,";"],o=e===Xe;("shape"===e||o)&&r.push("left:0;top:0;width:1px;height:1px;"),r.push("visibility: ",o?Ve:qe),i.push(' style="',r.join(""),'"/>'),e&&(i=o||"span"===e||"img"===e?i.join(""):t.prepVML(i),n.element=m(i)),n.renderer=t,n.attrSetters={}},add:function(t){var e=this,n=e.renderer,i=e.element,r=n.box,o=t&&t.inverted,a=t?t.element||t:r;return o&&n.invertChild(i,a),a.appendChild(i),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),An(e,"add"),e},updateTransform:H.prototype.htmlUpdateTransform,setSpanRotation:function(t,e,n){g(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",n,", M12=",-e,", M21=",e,", M22=",n,", sizingMethod='auto expand')"].join(""):Qe})},pathToVML:function(t){for(var e,n=t.length,i=[];n--;)s(t[n])?i[n]=ve(10*t[n])-5:"Z"===t[n]?i[n]="x":(i[n]=t[n],!t.isArc||"wa"!==t[n]&&"at"!==t[n]||(e="wa"===t[n]?1:-1,i[n+5]===i[n+7]&&(i[n+7]-=e),i[n+6]===i[n+8]&&(i[n+8]-=e)));return i.join(" ")||"x"},attr:function(t,e){var n,i,o,a,l,c,d=this,p=d.element||{},f=p.style,g=p.nodeName,v=d.renderer,y=d.symbolName,b=d.shadows,x=d.attrSetters,_=d;if(r(t)&&u(e)&&(n=t,t={},t[n]=e),r(t))n=t,_="strokeWidth"===n||"stroke-width"===n?d.strokeweight:d[n];else for(n in t)if(i=t[n],c=!1,a=x[n]&&x[n].call(d,i,n),a!==!1&&null!==i){if(a!==V&&(i=a),y&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(n))l||(d.symbolAttr(t),l=!0),c=!0;else if("d"===n){if(i=i||[],d.d=i.join(" "),p.path=i=d.pathToVML(i),b)for(o=b.length;o--;)b[o].path=b[o].cutOff?this.cutOffPath(i,b[o].cutOff):i;c=!0}else if("visibility"===n){if(b)for(o=b.length;o--;)b[o].style[n]=i;"DIV"===g&&(i=i===Ve?"-999em":0,Ee||(f[n]=i?qe:Ve),n="top"),f[n]=i,c=!0}else if("zIndex"===n)i&&(f[n]=i),c=!0;else if(-1!==xn(n,["x","y","width","height"]))d[n]=i,"x"===n||"y"===n?n={x:"left",y:"top"}[n]:i=xe(0,i),d.updateClipping?(d[n]=i,d.updateClipping()):f[n]=i,c=!0;else if("class"===n&&"DIV"===g)p.className=i;else if("stroke"===n)i=v.color(i,p,n),n="strokecolor";else if("stroke-width"===n||"strokeWidth"===n)p.stroked=i?!0:!1,n="strokeweight",d[n]=i,s(i)&&(i+=Ze);else if("dashstyle"===n){var k=p.getElementsByTagName("stroke")[0]||m(v.prepVML(["<stroke/>"]),null,null,p);k[n]=i||"solid",d.dashstyle=i,c=!0}else"fill"===n?"SPAN"===g?f.color=i:"IMG"!==g&&(p.filled=i!==Qe?!0:!1,i=v.color(i,p,n,d),n="fillcolor"):"opacity"===n?c=!0:"shape"===g&&"rotation"===n?(d[n]=p.style[n]=i,p.style.left=-ve(Ce(i*Se)+1)+Ze,p.style.top=ve(we(i*Se))+Ze):"translateX"===n||"translateY"===n||"rotation"===n?(d[n]=i,d.updateTransform(),c=!0):"text"===n&&(this.bBox=null,p.innerHTML=i,c=!0);c||(Ee?p[n]=i:h(p,n,i))}return _},clip:function(t){var e,n,i=this;return t?(e=t.members,d(e,i),e.push(i),i.destroyClip=function(){d(e,i)},n=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),n={clip:Ee?"inherit":"rect(auto)"}),i.css(n)},css:H.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&L(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),H.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=ge.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var n;return t=t.split(/[ ,]/),n=t.length,(9===n||11===n)&&(t[n-4]=t[n-2]=i(t[n-2])-10*e),t.join(" ")},shadow:function(t,e,n){var r,o,a,s,l,c,d,u=[],h=this.element,p=this.renderer,g=h.style,v=h.path;if(v&&"string"!=typeof v.value&&(v="x"),l=v,t){for(c=f(t.width,3),d=(t.opacity||.15)/c,r=1;3>=r;r++)s=2*c+1-2*r,n&&(l=this.cutOffPath(v.value,s+.5)),a=['<shape isShadow="true" strokeweight="',s,'" filled="false" path="',l,'" coordsize="10 10" style="',h.style.cssText,'" />'],o=m(p.prepVML(a),null,{left:i(g.left)+f(t.offsetX,1),top:i(g.top)+f(t.offsetY,1)}),n&&(o.cutOff=s+1),a=['<stroke color="',t.color||"black",'" opacity="',d*r,'"/>'],m(p.prepVML(a),null,null,o),e?e.element.appendChild(o):h.parentNode.insertBefore(o,h),u.push(o);this.shadows=u}return this}},Fn=v(H,Fn);var zn={Element:Fn,isIE8:Ae.indexOf("MSIE 8.0")>-1,init:function(t,e,n){var i,r,o,a=this;if(a.alignedObjects=[],i=a.createElement(Xe),r=i.element,r.style.position=$e,t.appendChild(i.element),a.isVML=!0,a.box=r,a.boxWrapper=i,a.setSize(e,n,!1),!fe.namespaces.hcv){fe.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),o="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{fe.createStyleSheet().cssText=o}catch(s){fe.styleSheets[0].cssText+=o}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,n,i,r){var a=this.createElement(),s=o(e);return t(a,{members:[],left:(s?e.x:e)+1,top:(s?e.y:n)+1,width:(s?e.width:i)-1,height:(s?e.height:r)-1,getCSS:function(e){var n=e.element,i=n.nodeName,r="shape"===i,o=e.inverted,a=this,s=a.top-(r?n.offsetTop:0),l=a.left,c=l+a.width,d=s+a.height,u={clip:"rect("+ve(o?l:s)+"px,"+ve(o?d:c)+"px,"+ve(o?c:d)+"px,"+ve(o?s:l)+"px)"};return!o&&Ee&&"DIV"===i&&t(u,{width:c+Ze,height:d+Ze}),u},updateClipping:function(){_n(a.members,function(t){t.css(a.getCSS(t))})}})},color:function(t,e,n,i){var r,o,a,s=this,l=/^rgba/,c=Qe;if(t&&t.linearGradient?a="gradient":t&&t.radialGradient&&(a="pattern"),a){var d,u,h,p,f,g,v,y,b,x,_,k,w=t.linearGradient||t.radialGradient,C="",T=t.stops,S=[],A=function(){o=['<fill colors="'+S.join(",")+'" opacity="',y,'" o:opacity2="',v,'" type="',a,'" ',C,'focus="100%" method="any" />'],m(s.prepVML(o),null,null,e)};if(_=T[0],k=T[T.length-1],_[0]>0&&T.unshift([0,_[1]]),k[0]<1&&T.push([1,k[1]]),_n(T,function(t,e){l.test(t[1])?(r=Rn(t[1]),d=r.get("rgb"),u=r.get("a")):(d=t[1],u=1),S.push(100*t[0]+"% "+d),e?(y=u,b=d):(v=u,x=d)}),"fill"===n)if("gradient"===a)h=w.x1||w[0]||0,p=w.y1||w[1]||0,f=w.x2||w[2]||0,g=w.y2||w[3]||0,C='angle="'+(90-180*me.atan((g-p)/(f-h))/Te)+'"',A();else{var D,M=w.r,E=2*M,N=2*M,L=w.cx,P=w.cy,I=e.radialReference,O=function(){I&&(D=i.getBBox(),L+=(I[0]-D.x)/D.width-.5,P+=(I[1]-D.y)/D.height-.5,E*=I[2]/D.width,N*=I[2]/D.height),C='src="'+Z.global.VMLRadialGradientURL+'" size="'+E+","+N+'" origin="0.5,0.5" position="'+L+","+P+'" color2="'+x+'" ',A()};i.added?O():Tn(i,"add",O),c=b}else c=d}else if(l.test(t)&&"IMG"!==e.tagName)r=Rn(t),o=["<",n,' opacity="',r.get("a"),'"/>'],m(this.prepVML(o),null,null,e),c=r.get("rgb");else{var K=e.getElementsByTagName(n);K.length&&(K[0].opacity=1,K[0].type="solid"),c=t}return c},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",n=this.isIE8;return t=t.join(""),n?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="'+e+'" />'):t.replace('style="','style="'+e)):t=t.replace("<","<hcv:"),t},text:Bn.prototype.html,path:function(e){var n={coordsize:"10 10"};return a(e)?n.d=e:o(e)&&t(n,e),this.createElement("shape").attr(n)},circle:function(t,e,n){var i=this.symbol("circle");return o(t)&&(n=t.r,e=t.y,t=t.x),i.isCircle=!0,i.r=n,i.attr({x:t,y:e})},g:function(t){var e,n;return t&&(n={className:Ue+t,"class":Ue+t}),e=this.createElement(Xe).attr(n)},image:function(t,e,n,i,r){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.attr({x:e,y:n,width:i,height:r}),o},rect:function(t,e,n,i,r,a){var s=this.symbol("rect");return s.r=o(t)?t.r:r,s.attr(o(t)?t:s.crisp(a,t,e,xe(n,0),xe(i,0)))},invertChild:function(t,e){var n=e.style;g(t,{flip:"x",left:i(n.width)-1,top:i(n.height)-1,rotation:-90})},symbols:{arc:function(t,e,n,i,r){var o,a=r.start,s=r.end,l=r.r||n||i,c=r.innerR,d=we(a),u=Ce(a),h=we(s),p=Ce(s);return s-a===0?["x"]:(o=["wa",t-l,e-l,t+l,e+l,t+l*d,e+l*u,t+l*h,e+l*p],r.open&&!c&&o.push("e",Je,t,e),o.push("at",t-c,e-c,t+c,e+c,t+c*h,e+c*p,t+c*d,e+c*u,"x","e"),o.isArc=!0,o)},circle:function(t,e,n,i,r){return r&&(n=i=2*r.r),r&&r.isCircle&&(t-=n/2,e-=i/2),["wa",t,e,t+n,e+i,t+n,e+i/2,t+n,e+i/2,"e"]},rect:function(t,e,n,i,r){var o,a,s=t+n,l=e+i;return u(r)&&r.r?(a=_e(r.r,n,i),o=[Je,t+a,e,tn,s-a,e,"wa",s-2*a,e,s,e+2*a,s-a,e,s,e+a,tn,s,l-a,"wa",s-2*a,l-2*a,s,l,s,l-a,s-a,l,tn,t+a,l,"wa",t,l-2*a,t+2*a,l,t+a,l,t,l-a,tn,t,e+a,"wa",t,e,t+2*a,e+2*a,t,e+a,t+a,e,"x","e"]):o=Bn.prototype.symbols.square.apply(0,arguments),o}}};Highcharts.VMLRenderer=Hn=function(){this.init.apply(this,arguments)},Hn.prototype=e(Bn.prototype,zn),U=Hn}Bn.prototype.measureSpanWidth=function(t,e){var n=fe.createElement("span"),i=fe.createTextNode(t);return n.appendChild(i),g(n,e),this.box.appendChild(n),n.offsetWidth};var Wn,jn;Re&&(Highcharts.CanVGRenderer=Wn=function(){Ie="http://www.w3.org/1999/xhtml"},Wn.prototype.symbols={},jn=function(){function t(){var t,n=e.length;for(t=0;n>t;t++)e[t]();e=[]}var e=[];return{push:function(n,i){0===e.length&&bn(i,t),e.push(n)}}}(),U=Wn),F.prototype={addLabel:function(){var e,n,i,r,o=this,a=o.axis,l=a.options,d=a.chart,h=a.horiz,p=a.categories,g=a.names,m=o.pos,v=l.labels,y=a.tickPositions,b=h&&p&&!v.step&&!v.staggerLines&&!v.rotation&&d.plotWidth/y.length||!h&&(d.margin[3]||.33*d.chartWidth),x=m===y[0],_=m===y[y.length-1],k=p?f(p[m],g[m],m):m,w=o.label,C=y.info;a.isDatetimeAxis&&C&&(r=l.dateTimeLabelFormats[C.higherRanks[m]||C.unitName]),o.isFirst=x,o.isLast=_,e=a.labelFormatter.call({axis:a,chart:d,isFirst:x,isLast:_,dateTimeLabelFormat:r,value:a.isLog?I(c(k)):k}),n=b&&{width:xe(1,ve(b-2*(v.padding||10)))+Ze},n=t(n,v.style),u(w)?w&&w.attr({text:e}).css(n):(i={align:a.labelAlign},s(v.rotation)&&(i.rotation=v.rotation),b&&v.ellipsis&&(i._clipHeight=a.len/y.length),o.label=u(e)&&v.enabled?d.renderer.text(e,0,0,v.useHTML).attr(i).css(n).add(a.labelGroup):null)},getLabelSize:function(){var t=this.label,e=this.axis;return t?(this.labelBBox=t.getBBox())[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.labelBBox,e=this.axis,n=e.options,i=n.labels,r=t.width,o=r*{left:0,center:.5,right:1}[e.labelAlign]-i.x;return[-o,r-o]},handleOverflow:function(t,e){var n=!0,i=this.axis,r=i.chart,o=this.isFirst,a=this.isLast,s=e.x,l=i.reversed,c=i.tickPositions;if(o||a){var d=this.getLabelSides(),u=d[0],h=d[1],p=r.plotLeft,f=p+i.len,g=i.ticks[c[t+(o?1:-1)]],m=g&&g.label.xy&&g.label.xy.x+g.getLabelSides()[o?0:1];o&&!l||a&&l?p>s+u&&(s=p-u,g&&s+h>m&&(n=!1)):s+h>f&&(s=f-h,g&&m>s+u&&(n=!1)),e.x=s}return n},getPosition:function(t,e,n,i){var r=this.axis,o=r.chart,a=i&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+n,null,null,i)+r.transB:r.left+r.offset+(r.opposite?(i&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?a-r.bottom+r.offset-(r.opposite?r.height:0):a-r.translate(e+n,null,null,i)-r.transB}},getLabelPosition:function(t,e,n,i,r,o,a,s){var l=this.axis,c=l.transA,d=l.reversed,h=l.staggerLines,p=l.chart.renderer.fontMetrics(r.style.fontSize).b,f=r.rotation;return t=t+r.x-(o&&i?o*c*(d?-1:1):0),e=e+r.y-(o&&!i?o*c*(d?1:-1):0),f&&2===l.side&&(e-=p-p*we(f*Se)),u(r.y)||f||(e+=p-n.getBBox().height/2),h&&(e+=a/(s||1)%h*(l.labelOffset/h)),{x:t,y:e}},getMarkPath:function(t,e,n,i,r,o){return o.crispLine([Je,t,e,tn,t+(r?0:-n),e+(r?n:0)],i)},render:function(t,e,n){var i,r,o,a=this,s=a.axis,l=s.options,c=s.chart,d=c.renderer,u=s.horiz,h=a.type,p=a.label,g=a.pos,m=l.labels,v=a.gridLine,y=h?h+"Grid":"grid",b=h?h+"Tick":"tick",x=l[y+"LineWidth"],_=l[y+"LineColor"],k=l[y+"LineDashStyle"],w=l[b+"Length"],C=l[b+"Width"]||0,T=l[b+"Color"],S=l[b+"Position"],A=a.mark,D=m.step,M=!0,E=s.tickmarkOffset,N=a.getPosition(u,g,E,e),L=N.x,P=N.y,I=u&&L===s.pos+s.len||!u&&P===s.pos?-1:1,O=s.staggerLines;this.isActive=!0,x&&(i=s.getPlotLinePath(g+E,x*I,e,!0),v===V&&(o={stroke:_,"stroke-width":x},k&&(o.dashstyle=k),h||(o.zIndex=1),e&&(o.opacity=0),a.gridLine=v=x?d.path(i).attr(o).add(s.gridGroup):null),!e&&v&&i&&v[a.isNew?"attr":"animate"]({d:i,opacity:n})),C&&w&&("inside"===S&&(w=-w),s.opposite&&(w=-w),r=a.getMarkPath(L,P,w,C*I,u,d),A?A.animate({d:r,opacity:n}):a.mark=d.path(r).attr({stroke:T,"stroke-width":C,opacity:n}).add(s.axisGroup)),p&&!isNaN(L)&&(p.xy=N=a.getLabelPosition(L,P,p,u,m,E,t,D),a.isFirst&&!a.isLast&&!f(l.showFirstLabel,1)||a.isLast&&!a.isFirst&&!f(l.showLastLabel,1)?M=!1:O||!u||"justify"!==m.overflow||a.handleOverflow(t,N)||(M=!1),D&&t%D&&(M=!1),M&&!isNaN(N.y)?(N.opacity=n,p[a.isNew?"attr":"animate"](N),a.isNew=!1):p.attr("y",-9999))},destroy:function(){N(this,this.axis)}},z.prototype={render:function(){var t,n,i,r,o,a,s,c=this,d=c.axis,h=d.horiz,p=(d.pointRange||0)/2,g=c.options,m=g.label,v=c.label,y=g.width,b=g.to,x=g.from,_=u(x)&&u(b),k=g.value,w=g.dashStyle,C=c.svgElem,T=[],S=g.color,A=g.zIndex,D=g.events,N=d.chart.renderer;if(d.isLog&&(x=l(x),b=l(b),k=l(k)),y)T=d.getPlotLinePath(k,y),s={stroke:S,"stroke-width":y},w&&(s.dashstyle=w);else{if(!_)return;x=xe(x,d.min-p),b=_e(b,d.max+p),T=d.getPlotBandPath(x,b,g),s={fill:S},g.borderWidth&&(s.stroke=g.borderColor,s["stroke-width"]=g.borderWidth)}if(u(A)&&(s.zIndex=A),C)T?C.animate({d:T},null,C.onGetPath):(C.hide(),C.onGetPath=function(){C.show()},v&&(c.label=v=v.destroy()));else if(T&&T.length&&(c.svgElem=C=N.path(T).attr(s).add(),D)){t=function(t){C.on(t,function(e){D[t].apply(c,[e])})};for(n in D)t(n)}return m&&u(m.text)&&T&&T.length&&d.width>0&&d.height>0?(m=e({align:h&&_&&"center",x:h?!_&&4:10,verticalAlign:!h&&_&&"middle",y:h?_?16:10:_?6:-4,rotation:h&&!_&&90},m),v||(c.label=v=N.text(m.text,0,0,m.useHTML).attr({align:m.textAlign||m.align,rotation:m.rotation,zIndex:A}).css(m.style).add()),i=[T[1],T[4],f(T[6],T[1])],r=[T[2],T[5],f(T[7],T[2])],o=M(i),a=M(r),v.align(m,!1,{x:o,y:a,width:E(i)-o,height:E(r)-a}),v.show()):v&&v.hide(),c},destroy:function(){d(this.axis.plotLinesAndBands,this),delete this.axis,N(this)}},W.prototype={destroy:function(){N(this,this.axis)},render:function(t){var e=this.options,n=e.format,i=n?k(n,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:Ve}):this.label=this.axis.chart.renderer.text(i,0,0,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:Ve}).add(t)},setOffset:function(t,e){var n,i=this,r=i.axis,o=r.chart,a=o.inverted,s=this.isNegative,l=r.translate(this.percent?100:this.total,0,0,0,1),c=r.translate(0),d=ke(l-c),u=o.xAxis[0].translate(this.x)+t,h=o.plotHeight,p={x:a?s?l:l-d:u,y:a?h-u-e:s?h-l-d:h-l,width:a?d:e,height:a?e:d},f=this.label;f&&(f.align(this.alignOptions,null,p),n=f.alignAttr,f.attr({visibility:this.options.crop===!1||o.isInsidePlot(n.x,n.y)?Oe?"inherit":qe:Ve}))}},j.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Nn,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return y(this.total,-1)},style:Nn.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},title:{rotation:0}},init:function(t,e){var n=e.isX,i=this;i.horiz=t.inverted?!n:n,i.isXAxis=n,i.xOrY=n?"x":"y",i.opposite=e.opposite,i.side=i.horiz?i.opposite?0:2:i.opposite?1:3,i.setOptions(e);var r=this.options,o=r.type,a="datetime"===o;i.labelFormatter=r.labels.formatter||i.defaultLabelFormatter,i.userOptions=e,i.minPixelPadding=0,i.chart=t,i.reversed=r.reversed,i.zoomEnabled=r.zoomEnabled!==!1,i.categories=r.categories||"category"===o,i.names=[],i.isLog="logarithmic"===o,i.isDatetimeAxis=a,i.isLinked=u(r.linkedTo),i.tickmarkOffset=i.categories&&"between"===r.tickmarkPlacement?.5:0,i.ticks={},i.minorTicks={},i.plotLinesAndBands=[],i.alternateBands={},i.len=0,i.minRange=i.userMinRange=r.minRange||r.maxZoom,i.range=r.range,i.offset=r.offset||0,i.stacks={},i.oldStacks={},i.stackExtremes={},i.max=null,i.min=null;var s,d=i.options.events;-1===xn(i,t.axes)&&(t.axes.push(i),t[n?"xAxis":"yAxis"].push(i)),i.series=i.series||[],t.inverted&&n&&i.reversed===V&&(i.reversed=!0),i.removePlotBand=i.removePlotBandOrLine,i.removePlotLine=i.removePlotBandOrLine;for(s in d)Tn(i,s,d[s]);i.isLog&&(i.val2lin=l,i.lin2val=c)},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(Z[this.isXAxis?"xAxis":"yAxis"],t))},update:function(n,i){var r=this.chart;n=r.options[this.xOrY+"Axis"][this.options.index]=e(this.userOptions,n),this.destroy(!0),this._addedPlotLB=this.userMin=this.userMax=V,this.init(r,t(n,{events:V})),r.isDirtyBox=!0,f(i,!0)&&r.redraw()},remove:function(t){var e=this.chart,n=this.xOrY+"Axis";_n(this.series,function(t){t.remove(!1)}),d(e.axes,this),d(e[n],this),e.options[n].splice(this.options.index,1),_n(e[n],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,f(t,!0)&&e.redraw()},defaultLabelFormatter:function(){var t,e,n=this.axis,i=this.value,r=n.categories,o=this.dateTimeLabelFormat,a=Z.lang.numericSymbols,s=a&&a.length,l=n.options.labels.format,c=n.isLog?i:n.tickInterval;if(l)e=k(l,this);else if(r)e=i;else if(o)e=Q(o,i);else if(s&&c>=1e3)for(;s--&&e===V;)t=Math.pow(1e3,s+1),c>=t&&null!==a[s]&&(e=y(i/t,-1)+a[s]);return e===V&&(e=i>=1e3?y(i,0):y(i,-1)),e},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=null,t.stackExtremes={},t.buildStacks(),_n(t.series,function(n){if(n.visible||!e.options.chart.ignoreHiddenSeries){var i,r,o,a=n.options,s=a.threshold;t.hasVisibleSeries=!0,t.isLog&&0>=s&&(s=null),t.isXAxis?(i=n.xData,i.length&&(t.dataMin=_e(f(t.dataMin,i[0]),M(i)),t.dataMax=xe(f(t.dataMax,i[0]),E(i)))):(n.getExtremes(),o=n.dataMax,r=n.dataMin,u(r)&&u(o)&&(t.dataMin=_e(f(t.dataMin,r),r),t.dataMax=xe(f(t.dataMax,o),o)),u(s)&&(t.dataMin>=s?(t.dataMin=s,t.ignoreMinPadding=!0):t.dataMax<s&&(t.dataMax=s,t.ignoreMaxPadding=!0)))}})},translate:function(t,e,n,i,r,o){var a,l=this,c=l.len,d=1,u=0,h=i?l.oldTransA:l.transA,p=i?l.oldMin:l.min,f=l.minPixelPadding,g=(l.options.ordinal||l.isLog&&r)&&l.lin2val;return h||(h=l.transA),n&&(d*=-1,u=c),l.reversed&&(d*=-1,u-=d*c),e?(t=t*d+u,t-=f,a=t/h+p,g&&(a=l.lin2val(a))):(g&&(t=l.val2lin(t)),"between"===o&&(o=.5),a=d*(t-p)*h+u+d*f+(s(o)?h*o*l.pointRange:0)),a},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i){var r,o,a,s,l,c=this,d=c.chart,u=c.left,h=c.top,p=c.translate(t,null,null,n),f=n&&d.oldChartHeight||d.chartHeight,g=n&&d.oldChartWidth||d.chartWidth,m=c.transB;return r=a=ve(p+m),o=s=ve(f-p-m),isNaN(p)?l=!0:c.horiz?(o=h,s=f-c.bottom,(u>r||r>u+c.width)&&(l=!0)):(r=u,a=g-c.right,(h>o||o>h+c.height)&&(l=!0)),l&&!i?null:d.renderer.crispLine([Je,r,o,tn,a,s],e||0)},getPlotBandPath:function(t,e){var n=this.getPlotLinePath(e),i=this.getPlotLinePath(t);return i&&n?i.push(n[4],n[5],n[1],n[2]):i=null,i},getLinearTickPositions:function(t,e,n){var i,r,o=I(ye(e/t)*t),a=I(be(n/t)*t),s=[];for(i=o;a>=i&&(s.push(i),i=I(i+t),i!==r);)r=i;return s},getLogTickPositions:function(t,e,n,i){var r=this,o=r.options,a=r.len,s=[];if(i||(r._minorAutoInterval=null),t>=.5)t=ve(t),s=r.getLinearTickPositions(t,e,n);else if(t>=.08){var d,u,h,p,g,m,v,y=ye(e);for(d=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],u=y;n+1>u&&!v;u++)for(p=d.length,h=0;p>h&&!v;h++)g=l(c(u)*d[h]),g>e&&(!i||n>=m)&&s.push(m),m>n&&(v=!0),m=g}else{var b=c(e),x=c(n),_=o[i?"minorTickInterval":"tickInterval"],k="auto"===_?null:_,T=o.tickPixelInterval/(i?5:1),S=i?a/r.tickPositions.length:a;t=f(k,r._minorAutoInterval,(x-b)*T/(S||1)),t=C(t,null,w(t)),s=Cn(r.getLinearTickPositions(t,b,x),l),i||(r._minorAutoInterval=t/5)}return i||(r.tickInterval=t),s},getMinorTickPositions:function(){var t,e,n,i=this,r=i.options,o=i.tickPositions,a=i.minorTickInterval,s=[];if(i.isLog)for(n=o.length,e=1;n>e;e++)s=s.concat(i.getLogTickPositions(a,o[e-1],o[e],!0));else if(i.isDatetimeAxis&&"auto"===r.minorTickInterval)s=s.concat(S(T(a),i.min,i.max,r.startOfWeek)),s[0]<i.min&&s.shift();else for(t=i.min+(o[0]-i.min)%a;t<=i.max;t+=a)s.push(t);return s},adjustForMinRange:function(){var t,e,n,i,r,o,a,s,l=this,c=l.options,d=l.min,h=l.max,p=l.dataMax-l.dataMin>=l.minRange;if(l.isXAxis&&l.minRange===V&&!l.isLog&&(u(c.min)||u(c.max)?l.minRange=null:(_n(l.series,function(t){for(r=t.xData,o=t.xIncrement?1:r.length-1,n=o;n>0;n--)i=r[n]-r[n-1],(e===V||e>i)&&(e=i)}),l.minRange=_e(5*e,l.dataMax-l.dataMin))),h-d<l.minRange){var g=l.minRange;t=(g-h+d)/2,a=[d-t,f(c.min,d-t)],p&&(a[2]=l.dataMin),d=E(a),s=[d+g,f(c.max,d+g)],p&&(s[2]=l.dataMax),h=M(s),g>h-d&&(a[0]=h-g,a[1]=f(c.min,h-g),d=E(a))}l.min=d,l.max=h},setAxisTranslation:function(t){var e,n,i=this,o=i.max-i.min,a=0,s=0,l=0,c=i.linkedParent,d=i.transA;i.isXAxis&&(c?(s=c.minPointOffset,l=c.pointRangePadding):_n(i.series,function(t){var n=t.pointRange,i=t.options.pointPlacement,c=t.closestPointRange;n>o&&(n=0),a=xe(a,n),s=xe(s,r(i)?0:n/2),l=xe(l,"on"===i?0:n),!t.noSharedTooltip&&u(c)&&(e=u(e)?_e(e,c):c)}),n=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=s*=n,i.pointRangePadding=l*=n,i.pointRange=_e(a,o),i.closestPointRange=e),t&&(i.oldTransA=d),i.translationSlope=i.transA=d=i.len/(o+l||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=d*s},setTickPositions:function(t){var e,n,i,r,o=this,a=o.chart,s=o.options,c=o.isLog,d=o.isDatetimeAxis,h=o.isXAxis,p=o.isLinked,g=o.options.tickPositioner,m=s.maxPadding,v=s.minPadding,y=s.tickInterval,b=s.minTickInterval,x=s.tickPixelInterval,_=o.categories;if(p?(o.linkedParent=a[h?"xAxis":"yAxis"][s.linkedTo],n=o.linkedParent.getExtremes(),o.min=f(n.min,n.dataMin),o.max=f(n.max,n.dataMax),s.type!==o.linkedParent.options.type&&P(11,1)):(o.min=f(o.userMin,s.min,o.dataMin),o.max=f(o.userMax,s.max,o.dataMax)),c&&(!t&&_e(o.min,f(o.dataMin,o.min))<=0&&P(10,1),o.min=I(l(o.min)),o.max=I(l(o.max))),o.range&&(o.userMin=o.min=xe(o.min,o.max-o.range),o.userMax=o.max,t&&(o.range=null)),o.beforePadding&&o.beforePadding(),o.adjustForMinRange(),_||o.usePercentage||p||!u(o.min)||!u(o.max)||(e=o.max-o.min,e&&(u(s.min)||u(o.userMin)||!v||!(o.dataMin<0)&&o.ignoreMinPadding||(o.min-=e*v),u(s.max)||u(o.userMax)||!m||!(o.dataMax>0)&&o.ignoreMaxPadding||(o.max+=e*m))),o.min===o.max||void 0===o.min||void 0===o.max?o.tickInterval=1:p&&!y&&x===o.linkedParent.options.tickPixelInterval?o.tickInterval=o.linkedParent.tickInterval:(o.tickInterval=f(y,_?1:(o.max-o.min)*x/xe(o.len,x)),!u(y)&&o.len<x&&!this.isRadial&&(r=!0,o.tickInterval/=4)),h&&!t&&_n(o.series,function(t){t.processData(o.min!==o.oldMin||o.max!==o.oldMax)}),o.setAxisTranslation(!0),o.beforeSetTickPositions&&o.beforeSetTickPositions(),o.postProcessTickInterval&&(o.tickInterval=o.postProcessTickInterval(o.tickInterval)),o.pointRange&&(o.tickInterval=xe(o.pointRange,o.tickInterval)),!y&&o.tickInterval<b&&(o.tickInterval=b),d||c||y||(o.tickInterval=C(o.tickInterval,null,w(o.tickInterval),s)),o.minorTickInterval="auto"===s.minorTickInterval&&o.tickInterval?o.tickInterval/5:s.minorTickInterval,o.tickPositions=i=s.tickPositions?[].concat(s.tickPositions):g&&g.apply(o,[o.min,o.max]),i||(!o.ordinalPositions&&(o.max-o.min)/o.tickInterval>xe(2*o.len,200)&&P(19,!0),i=d?(o.getNonLinearTimeTicks||S)(T(o.tickInterval,s.units),o.min,o.max,s.startOfWeek,o.ordinalPositions,o.closestPointRange,!0):c?o.getLogTickPositions(o.tickInterval,o.min,o.max):o.getLinearTickPositions(o.tickInterval,o.min,o.max),r&&i.splice(1,i.length-2),o.tickPositions=i),!p){var k,A=i[0],D=i[i.length-1],M=o.minPointOffset||0;s.startOnTick?o.min=A:o.min-M>A&&i.shift(),s.endOnTick?o.max=D:o.max+M<D&&i.pop(),1===i.length&&(k=.001,o.min-=k,o.max+=k)}},setMaxTicks:function(){var t=this.chart,e=t.maxTicks||{},n=this.tickPositions,i=this._maxTicksKey=[this.xOrY,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&n&&n.length>(e[i]||0)&&this.options.alignTicks!==!1&&(e[i]=n.length),t.maxTicks=e},adjustTickAmount:function(){var t=this,e=t.chart,n=t._maxTicksKey,i=t.tickPositions,r=e.maxTicks;if(r&&r[n]&&!t.isDatetimeAxis&&!t.categories&&!t.isLinked&&t.options.alignTicks!==!1){var o,a=t.tickAmount,s=i.length;if(t.tickAmount=o=r[n],o>s){for(;i.length<o;)i.push(I(i[i.length-1]+t.tickInterval));t.transA*=(s-1)/(o-1),t.max=i[i.length-1]}u(a)&&o!==a&&(t.isDirty=!0)}},setScale:function(){var t,e,n,i,r=this,o=r.stacks;if(r.oldMin=r.min,r.oldMax=r.max,r.oldAxisLength=r.len,r.setAxisSize(),i=r.len!==r.oldAxisLength,_n(r.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(n=!0)}),i||n||r.isLinked||r.forceRedraw||r.userMin!==r.oldUserMin||r.userMax!==r.oldUserMax){if(!r.isXAxis)for(t in o)for(e in o[t])o[t][e].total=null,o[t][e].cum=0;r.forceRedraw=!1,r.getSeriesExtremes(),r.setTickPositions(),r.oldUserMin=r.userMin,r.oldUserMax=r.userMax,r.isDirty||(r.isDirty=i||r.min!==r.oldMin||r.max!==r.oldMax)}else if(!r.isXAxis){r.oldStacks&&(o=r.stacks=r.oldStacks);for(t in o)for(e in o[t])o[t][e].cum=o[t][e].total}r.setMaxTicks()},setExtremes:function(e,n,i,r,o){var a=this,s=a.chart;i=f(i,!0),o=t(o,{min:e,max:n}),An(a,"setExtremes",o,function(){a.userMin=e,a.userMax=n,a.eventArgs=o,a.isDirtyExtremes=!0,i&&s.redraw(r)})},zoom:function(t,e){return this.allowZoomOutside||(u(this.dataMin)&&t<=this.dataMin&&(t=V),u(this.dataMax)&&e>=this.dataMax&&(e=V)),this.displayBtn=t!==V||e!==V,this.setExtremes(t,e,!1,V,{trigger:"zoom"}),!0},setAxisSize:function(){var t,e,n,i,r=this.chart,o=this.options,a=o.offsetLeft||0,s=o.offsetRight||0,l=this.horiz;this.left=i=f(o.left,r.plotLeft+a),this.top=n=f(o.top,r.plotTop),this.width=t=f(o.width,r.plotWidth-a+s),this.height=e=f(o.height,r.plotHeight),this.bottom=r.chartHeight-e-n,this.right=r.chartWidth-t-i,this.len=xe(l?t:e,0),this.pos=l?i:n},getExtremes:function(){var t=this,e=t.isLog;return{min:e?I(c(t.min)):t.min,max:e?I(c(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,n=e.isLog,i=n?c(e.min):e.min,r=n?c(e.max):e.max;return i>t||null===t?t=i:t>r&&(t=r),e.translate(t,0,1,0,1)},addPlotBand:function(t){this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var n=new z(this,t).render(),i=this.userOptions;return n&&(e&&(i[e]=i[e]||[],i[e].push(t)),this.plotLinesAndBands.push(n)),n},autoLabelAlign:function(t){var e,n=(f(t,0)-90*this.side+720)%360;return e=n>15&&165>n?"right":n>195&&345>n?"left":"center"},getOffset:function(){var t,e,n,i,r,o,a,s,l,c,d,h,p,g=this,m=g.chart,v=m.renderer,y=g.options,b=g.tickPositions,x=g.ticks,_=g.horiz,k=g.side,w=m.inverted?[1,0,3,2][k]:k,C=0,T=0,S=y.title,A=y.labels,D=0,M=m.axisOffset,E=m.clipOffset,N=[-1,1,1,-1][k],L=1,P=f(A.maxStaggerLines,5);if(g.hasData=t=g.hasVisibleSeries||u(g.min)&&u(g.max)&&!!b,g.showAxis=e=t||f(y.showEmpty,!0),g.staggerLines=g.horiz&&A.staggerLines,g.axisGroup||(g.gridGroup=v.g("grid").attr({zIndex:y.gridZIndex||1}).add(),g.axisGroup=v.g("axis").attr({zIndex:y.zIndex||2}).add(),g.labelGroup=v.g("axis-labels").attr({zIndex:A.zIndex||7}).add()),t||g.isLinked){if(g.labelAlign=f(A.align||g.autoLabelAlign(A.rotation)),_n(b,function(t){x[t]?x[t].addLabel():x[t]=new F(g,t)}),g.horiz&&!g.staggerLines&&P&&!A.rotation){for(o=g.reversed?[].concat(b).reverse():b;P>L;){for(a=[],s=!1,r=0;r<o.length;r++)l=o[r],c=x[l].label&&x[l].label.getBBox(),h=c?c.width:0,p=r%L,h&&(d=g.translate(l),a[p]!==V&&d<a[p]&&(s=!0),a[p]=d+h);if(!s)break;L++}L>1&&(g.staggerLines=L)}_n(b,function(t){(0===k||2===k||{1:"left",3:"right"}[k]===g.labelAlign)&&(D=xe(x[t].getLabelSize(),D))}),g.staggerLines&&(D*=g.staggerLines,g.labelOffset=D)}else for(i in x)x[i].destroy(),delete x[i];S&&S.text&&S.enabled!==!1&&(g.axisTitle||(g.axisTitle=v.text(S.text,0,0,S.useHTML).attr({zIndex:7,rotation:S.rotation||0,align:S.textAlign||{low:"left",middle:"center",high:"right"}[S.align]}).css(S.style).add(g.axisGroup),g.axisTitle.isNew=!0),e&&(C=g.axisTitle.getBBox()[_?"height":"width"],T=f(S.margin,_?5:10),n=S.offset),g.axisTitle[e?"show":"hide"]()),g.offset=N*f(y.offset,M[k]),g.axisTitleMargin=f(n,D+T+(2!==k&&D&&N*y.labels[_?"y":"x"])),M[k]=xe(M[k],g.axisTitleMargin+C+N*g.offset),E[w]=xe(E[w],2*ye(y.lineWidth/2))},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i,a=e.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(t*=-1),e.renderer.crispLine([Je,r?this.left:o,r?a:this.top,tn,r?e.chartWidth-this.right:o,r?a:e.chartHeight-this.bottom],t)
},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,r=this.len,o=this.options.title,a=t?e:n,s=this.opposite,l=this.offset,c=i(o.style.fontSize||12),d={low:a+(t?0:r),middle:a+r/2,high:a+(t?r:0)}[o.align],u=(t?n+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:t?d:u+(s?this.width:0)+l+(o.x||0),y:t?u-(s?this.height:0)+l:d+(o.y||0)}},render:function(){var t,e,n,i=this,r=i.chart,o=r.renderer,a=i.options,s=i.isLog,l=i.isLinked,d=i.tickPositions,h=i.axisTitle,p=i.stacks,f=i.ticks,g=i.minorTicks,m=i.alternateBands,v=a.stackLabels,y=a.alternateGridColor,b=i.tickmarkOffset,x=a.lineWidth,_=r.hasRendered,k=_&&u(i.oldMin)&&!isNaN(i.oldMin),w=i.hasData,C=i.showAxis;if(_n([f,g,m],function(t){var e;for(e in t)t[e].isActive=!1}),(w||l)&&(i.minorTickInterval&&!i.categories&&_n(i.getMinorTickPositions(),function(t){g[t]||(g[t]=new F(i,t,"minor")),k&&g[t].isNew&&g[t].render(null,!0),g[t].render(null,!1,1)}),d.length&&(_n(d.slice(1).concat([d[0]]),function(t,e){e=e===d.length-1?0:e+1,(!l||t>=i.min&&t<=i.max)&&(f[t]||(f[t]=new F(i,t)),k&&f[t].isNew&&f[t].render(e,!0),f[t].render(e,!1,1))}),b&&0===i.min&&(f[-1]||(f[-1]=new F(i,-1,null,!0)),f[-1].render(-1))),y&&_n(d,function(t,r){r%2===0&&t<i.max&&(m[t]||(m[t]=new z(i)),e=t+b,n=d[r+1]!==V?d[r+1]+b:i.max,m[t].options={from:s?c(e):e,to:s?c(n):n,color:y},m[t].render(),m[t].isActive=!0)}),i._addedPlotLB||(_n((a.plotLines||[]).concat(a.plotBands||[]),function(t){i.addPlotBandOrLine(t)}),i._addedPlotLB=!0)),_n([f,g,m],function(t){var e,n,i=[],o=J?J.duration||500:0,a=function(){for(n=i.length;n--;)t[i[n]]&&!t[i[n]].isActive&&(t[i[n]].destroy(),delete t[i[n]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,i.push(e));t!==m&&r.hasRendered&&o?o&&setTimeout(a,o):a()}),x&&(t=i.getLinePath(x),i.axisLine?i.axisLine.animate({d:t}):i.axisLine=o.path(t).attr({stroke:a.lineColor,"stroke-width":x,zIndex:7}).add(i.axisGroup),i.axisLine[C?"show":"hide"]()),h&&C&&(h[h.isNew?"attr":"animate"](i.getTitlePosition()),h.isNew=!1),v&&v.enabled){var T,S,A,D=i.stackTotalGroup;D||(i.stackTotalGroup=D=o.g("stack-labels").attr({visibility:qe,zIndex:6}).add()),D.translate(r.plotLeft,r.plotTop);for(T in p){S=p[T];for(A in S)S[A].render(D)}}i.isDirty=!1},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();_n([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&d(e,e[r])})},setTitle:function(t,e){this.update({title:t},e)},redraw:function(){var t=this,e=t.chart,n=e.pointer;n.reset&&n.reset(!0),t.render(),_n(t.plotLinesAndBands,function(t){t.render()}),_n(t.series,function(t){t.isDirty=!0})},buildStacks:function(){var t=this.series,e=t.length;if(!this.isXAxis){for(;e--;)t[e].setStackedPoints();if(this.usePercentage)for(e=0;e<t.length;e++)t[e].setPercentStacks()}},setCategories:function(t,e){this.update({categories:t},e)},destroy:function(t){var e,n,i=this,r=i.stacks,o=i.plotLinesAndBands;t||Sn(i);for(e in r)N(r[e]),r[e]=null;for(_n([i.ticks,i.minorTicks,i.alternateBands],function(t){N(t)}),n=o.length;n--;)o[n].destroy();_n(["stackTotalGroup","axisLine","axisGroup","gridGroup","labelGroup","axisTitle"],function(t){i[t]&&(i[t]=i[t].destroy())})}},Y.prototype={init:function(t,e){var n=e.borderWidth,r=e.style,o=i(r.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape,null,null,e.useHTML,null,"tooltip").attr({padding:o,fill:e.backgroundColor,"stroke-width":n,r:e.borderRadius,zIndex:8}).css(r).css({padding:0}).add().attr({y:-999}),Re||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){_n(this.crosshairs,function(t){t&&t.destroy()}),this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,n,i,r){var o=this,a=o.now,s=o.options.animation!==!1&&!o.isHidden;t(a,{x:s?(2*a.x+e)/3:e,y:s?(a.y+n)/2:n,anchorX:s?(2*a.anchorX+i)/3:i,anchorY:s?(a.anchorY+r)/2:r}),o.label.attr(a),s&&(ke(e-a.x)>1||ke(n-a.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(e,n,i,r)},32))},hide:function(){var t,e=this;clearTimeout(this.hideTimer),this.isHidden||(t=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},f(this.options.hideDelay,500)),t&&_n(t,function(t){t.setState()}),this.chart.hoverPoints=null)},hideCrosshairs:function(){_n(this.crosshairs,function(t){t&&t.hide()})},getAnchor:function(t,e){var n,i,r=this.chart,o=r.inverted,a=r.plotTop,s=0,l=0;return t=p(t),n=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===V&&(e=r.pointer.normalize(e)),n=[e.chartX-r.plotLeft,e.chartY-a]),n||(_n(t,function(t){i=t.series.yAxis,s+=t.plotX,l+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!o&&i?i.top-a:0)}),s/=t.length,l/=t.length,n=[o?r.plotWidth-l:s,this.shared&&!o&&t.length>1&&e?e.chartY-a:o?r.plotHeight-s:l]),Cn(n,ve)},getPosition:function(t,e,n){var i,r=this.chart,o=r.plotLeft,a=r.plotTop,s=r.plotWidth,l=r.plotHeight,c=f(this.options.distance,12),d=n.plotX,u=n.plotY,h=d+o+(r.inverted?c:-t-c),p=u-e+a+15;return 7>h&&(h=o+xe(d,0)+c),h+t>o+s&&(h-=h+t-(o+s),p=u-e+a-c,i=!0),a+5>p&&(p=a+5,i&&u>=p&&p+e>=u&&(p=u+a+c)),p+e>a+l&&(p=xe(a,a+l-e-c)),{x:h,y:p}},defaultFormatter:function(t){var e,n=this.points||p(this),i=n[0].series;return e=[i.tooltipHeaderFormatter(n[0])],_n(n,function(t){i=t.series,e.push(i.tooltipFormatter&&i.tooltipFormatter(t)||t.point.tooltipFormatter(i.tooltipOptions.pointFormat))}),e.push(t.options.footerFormat||""),e.join("")},refresh:function(t,e){var n,i,r,o,a,s,c=this,d=c.chart,u=c.label,h=c.options,g={},m=[],v=h.formatter||c.defaultFormatter,y=d.hoverPoints,b=h.crosshairs,x=c.shared;if(clearTimeout(this.hideTimer),c.followPointer=p(t)[0].series.tooltipOptions.followPointer,r=c.getAnchor(t,e),n=r[0],i=r[1],!x||t.series&&t.series.noSharedTooltip?g=t.getLabelConfig():(d.hoverPoints=t,y&&_n(y,function(t){t.setState()}),_n(t,function(t){t.setState(rn),m.push(t.getLabelConfig())}),g={x:t[0].category,y:t[0].y},g.points=m,t=t[0]),o=v.call(g,c),s=t.series,o===!1?this.hide():(c.isHidden&&(En(u),u.attr("opacity",1).show()),u.attr({text:o}),a=h.borderColor||t.color||s.color||"#606060",u.attr({stroke:a}),c.updatePosition({plotX:n,plotY:i}),this.isHidden=!1),b){b=p(b);for(var _,k,w,C,T,S=b.length;S--;)T=t.series,w=T[S?"yAxis":"xAxis"],b[S]&&w&&(C=S?f(t.stackY,t.y):t.x,w.isLog&&(C=l(C)),1===S&&T.modifyValue&&(C=T.modifyValue(C)),_=w.getPlotLinePath(C,1),c.crosshairs[S]?c.crosshairs[S].attr({d:_,visibility:qe}):(k={"stroke-width":b[S].width||1,stroke:b[S].color||"#C0C0C0",zIndex:b[S].zIndex||2},b[S].dashStyle&&(k.dashstyle=b[S].dashStyle),c.crosshairs[S]=d.renderer.path(_).attr(k).add()))}An(d,"tooltipRefresh",{text:o,x:n+d.plotLeft,y:i+d.plotTop,borderColor:a})},updatePosition:function(t){var e=this.chart,n=this.label,i=(this.options.positioner||this.getPosition).call(this,n.width,n.height,t);this.move(ve(i.x),ve(i.y),t.plotX+e.plotLeft,t.plotY+e.plotTop)}},X.prototype={init:function(t,e){var n,i,r=e.chart,o=r.events,a=Re?"":r.zoomType,s=t.inverted;this.options=e,this.chart=t,this.zoomX=n=/x/.test(a),this.zoomY=i=/y/.test(a),this.zoomHor=n&&!s||i&&s,this.zoomVert=i&&!s||n&&s,this.runChartClick=o&&!!o.click,this.pinchDown=[],this.lastValidTouch={},e.tooltip.enabled&&(t.tooltip=new Y(t,e.tooltip)),this.setDOMEvents()},normalize:function(e,n){var i,r,o;return e=e||ge.event,e.target||(e.target=e.srcElement),e=Dn(e),o=e.touches?e.touches.item(0):e,n||(this.chartPosition=n=wn(this.chart.container)),o.pageX===V?(i=xe(e.x,e.clientX-n.left),r=e.y):(i=o.pageX-n.left,r=o.pageY-n.top),t(e,{chartX:ve(i),chartY:ve(r)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return _n(this.chart.axes,function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})}),e},getIndex:function(t){var e=this.chart;return e.inverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},runPointActions:function(t){var e,n,i,r,o,a=this,s=a.chart,l=s.series,c=s.tooltip,d=s.hoverPoint,u=s.hoverSeries,h=s.chartWidth,p=a.getIndex(t);if(c&&a.options.tooltip.shared&&(!u||!u.noSharedTooltip)){for(n=[],i=l.length,r=0;i>r;r++)l[r].visible&&l[r].options.enableMouseTracking!==!1&&!l[r].noSharedTooltip&&l[r].tooltipPoints.length&&(e=l[r].tooltipPoints[p],e&&e.series&&(e._dist=ke(p-e.clientX),h=_e(h,e._dist),n.push(e)));for(i=n.length;i--;)n[i]._dist>h&&n.splice(i,1);n.length&&n[0].clientX!==a.hoverX&&(c.refresh(n,t),a.hoverX=n[0].clientX)}u&&u.tracker?(e=u.tooltipPoints[p],e&&e!==d&&e.onMouseOver(t)):c&&c.followPointer&&!c.isHidden&&(o=c.getAnchor([{}],t),c.updatePosition({plotX:o[0],plotY:o[1]}))},reset:function(t){var e=this,n=e.chart,i=n.hoverSeries,r=n.hoverPoint,o=n.tooltip,a=o&&o.shared?n.hoverPoints:r;t=t&&o&&a,t&&p(a)[0].plotX===V&&(t=!1),t?o.refresh(a):(r&&r.onMouseOut(),i&&i.onMouseOut(),o&&(o.hide(),o.hideCrosshairs()),e.hoverX=null)},scaleGroups:function(t,e){var n,i=this.chart;_n(i.series,function(r){n=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(e?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(e||i.clipBox)},pinchTranslate:function(t,e,n,i,r,o,a,s){t&&this.pinchTranslateDirection(!0,n,i,r,o,a,s),e&&this.pinchTranslateDirection(!1,n,i,r,o,a,s)},pinchTranslateDirection:function(t,e,n,i,r,o,a,s){var l,c,d,u,h,p,f=this.chart,g=t?"x":"y",m=t?"X":"Y",v="chart"+m,y=t?"width":"height",b=f["plot"+(t?"Left":"Top")],x=s||1,_=f.inverted,k=f.bounds[t?"h":"v"],w=1===e.length,C=e[0][v],T=n[0][v],S=!w&&e[1][v],A=!w&&n[1][v],D=function(){!w&&ke(C-S)>20&&(x=s||ke(T-A)/ke(C-S)),d=(b-T)/x+C,l=f["plot"+(t?"Width":"Height")]/x};D(),c=d,c<k.min?(c=k.min,u=!0):c+l>k.max&&(c=k.max-l,u=!0),u?(T-=.8*(T-a[g][0]),w||(A-=.8*(A-a[g][1])),D()):a[g]=[T,A],_||(o[g]=d-b,o[y]=l),p=_?t?"scaleY":"scaleX":"scale"+m,h=_?1/x:x,r[y]=l,r[g]=c,i[p]=x,i["translate"+m]=h*b+(T-h*C)},pinch:function(e){var n=this,i=n.chart,r=n.pinchDown,o=i.tooltip&&i.tooltip.options.followTouchMove,a=e.touches,s=a.length,l=n.lastValidTouch,c=n.zoomHor||n.pinchHor,d=n.zoomVert||n.pinchVert,u=c||d,h=n.selectionMarker,p={},f=1===s&&(n.inClass(e.target,Ue+"tracker")&&i.runTrackerClick||i.runChartClick),g={};!u&&!o||f||e.preventDefault(),Cn(a,function(t){return n.normalize(t)}),"touchstart"===e.type?(_n(a,function(t,e){r[e]={chartX:t.chartX,chartY:t.chartY}}),l.x=[r[0].chartX,r[1]&&r[1].chartX],l.y=[r[0].chartY,r[1]&&r[1].chartY],_n(i.axes,function(t){if(t.zoomEnabled){var e=i.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,r=t.toPixels(t.dataMin),o=t.toPixels(t.dataMax),a=_e(r,o),s=xe(r,o);e.min=_e(t.pos,a-n),e.max=xe(t.pos+t.len,s+n)}})):r.length&&(h||(n.selectionMarker=h=t({destroy:ze},i.plotBox)),n.pinchTranslate(c,d,r,a,p,h,g,l),n.hasPinched=u,n.scaleGroups(p,g),!u&&o&&1===s&&this.runPointActions(n.normalize(e)))},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n,i=this.chart,r=i.options.chart,o=t.chartX,a=t.chartY,s=this.zoomHor,l=this.zoomVert,c=i.plotLeft,d=i.plotTop,u=i.plotWidth,h=i.plotHeight,p=this.mouseDownX,f=this.mouseDownY;c>o?o=c:o>c+u&&(o=c+u),d>a?a=d:a>d+h&&(a=d+h),this.hasDragged=Math.sqrt(Math.pow(p-o,2)+Math.pow(f-a,2)),this.hasDragged>10&&(e=i.isInsidePlot(p-c,f-d),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&(this.selectionMarker||(this.selectionMarker=i.renderer.rect(c,d,s?1:u,l?1:h,0).attr({fill:r.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),this.selectionMarker&&s&&(n=o-p,this.selectionMarker.attr({width:ke(n),x:(n>0?0:n)+p})),this.selectionMarker&&l&&(n=a-f,this.selectionMarker.attr({height:ke(n),y:(n>0?0:n)+f})),e&&!this.selectionMarker&&r.panning&&i.pan(t,r.panning))},drop:function(e){var n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,o={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},a=this.selectionMarker,s=a.x,l=a.y;(this.hasDragged||i)&&(_n(n.axes,function(t){if(t.zoomEnabled){var e=t.horiz,n=t.toValue(e?s:l),i=t.toValue(e?s+a.width:l+a.height);isNaN(n)||isNaN(i)||(o[t.xOrY+"Axis"].push({axis:t,min:_e(n,i),max:xe(n,i)}),r=!0)}}),r&&An(n,"selection",o,function(e){n.zoom(t(e,i?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),i&&this.scaleGroups()}n&&(g(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){this.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition,i=e.hoverSeries;t=this.normalize(t,n),n&&i&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset(),this.chartPosition=null},onContainerMouseMove:function(t){var e=this.chart;t=this.normalize(t),t.returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||e.openMenu||this.runPointActions(t)},inClass:function(t,e){for(var n;t;){if(n=h(t,"class")){if(-1!==n.indexOf(e))return!0;if(-1!==n.indexOf(Ue+"container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;!e||e.options.stickyTracking||this.inClass(t.toElement||t.relatedTarget,Ue+"tooltip")||e.onMouseOut()},onContainerClick:function(e){var n,i,r,o=this.chart,a=o.hoverPoint,s=o.plotLeft,l=o.plotTop,c=o.inverted;e=this.normalize(e),e.cancelBubble=!0,o.cancelClick||(a&&this.inClass(e.target,Ue+"tracker")?(n=this.chartPosition,i=a.plotX,r=a.plotY,t(a,{pageX:n.left+s+(c?o.plotWidth-r:i),pageY:n.top+l+(c?o.plotHeight-i:r)}),An(a.series,"click",t(e,{point:a})),o.hoverPoint&&a.firePointEvent("click",e)):(t(e,this.getCoordinates(e)),o.isInsidePlot(e.chartX-s,e.chartY-l)&&An(o,"click",e)))},onContainerTouchStart:function(t){var e=this.chart;1===t.touches.length?(t=this.normalize(t),e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)?(this.runPointActions(t),this.pinch(t)):this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchMove:function(t){(1===t.touches.length||2===t.touches.length)&&this.pinch(t)},onDocumentTouchEnd:function(t){this.drop(t)},setDOMEvents:function(){var t,e=this,n=e.chart.container;this._events=t=[[n,"onmousedown","onContainerMouseDown"],[n,"onmousemove","onContainerMouseMove"],[n,"onclick","onContainerClick"],[n,"mouseleave","onContainerMouseLeave"],[fe,"mousemove","onDocumentMouseMove"],[fe,"mouseup","onDocumentMouseUp"]],Be&&t.push([n,"ontouchstart","onContainerTouchStart"],[n,"ontouchmove","onContainerTouchMove"],[fe,"touchend","onDocumentTouchEnd"]),_n(t,function(t){e["_"+t[2]]=function(n){e[t[2]](n)},0===t[1].indexOf("on")?t[0][t[1]]=e["_"+t[2]]:Tn(t[0],t[1],e["_"+t[2]])})},destroy:function(){var t=this;_n(t._events,function(e){0===e[1].indexOf("on")?e[0][e[1]]=null:Sn(e[0],e[1],t["_"+e[2]])}),delete t._events,clearInterval(t.tooltipTimeout)}},G.prototype={init:function(t,n){var r=this,o=n.itemStyle,a=f(n.padding,8),s=n.itemMarginTop||0;this.options=n,n.enabled&&(r.baseline=i(o.fontSize)+3+s,r.itemStyle=o,r.itemHiddenStyle=e(o,n.itemHiddenStyle),r.itemMarginTop=s,r.padding=a,r.initialItemX=a,r.initialItemY=a-5,r.maxItemWidth=0,r.chart=t,r.itemHeight=0,r.lastLineHeight=0,r.render(),Tn(r.chart,"endResize",function(){r.positionCheckboxes()}))},colorizeItem:function(t,e){var n,i,r=this,o=r.options,a=t.legendItem,s=t.legendLine,l=t.legendSymbol,c=r.itemHiddenStyle.color,d=e?o.itemStyle.color:c,u=e?t.color:c,h=t.options&&t.options.marker,p={stroke:u,fill:u};if(a&&a.css({fill:d,color:d}),s&&s.attr({stroke:u}),l){if(h&&l.isMarker){h=t.convertAttribs(h);for(n in h)i=h[n],i!==V&&(p[n]=i)}l.attr(p)}},positionItem:function(t){var e=this,n=e.options,i=n.symbolPadding,r=!n.rtl,o=t._legendItemPos,a=o[0],s=o[1],l=t.checkbox;t.legendGroup&&t.legendGroup.translate(r?a:e.legendWidth-a-2*i-4,s),l&&(l.x=a,l.y=s)},destroyItem:function(t){var e=t.checkbox;_n(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&L(t.checkbox)},destroy:function(){var t=this,e=t.group,n=t.box;n&&(t.box=n.destroy()),e&&(t.group=e.destroy())},positionCheckboxes:function(t){var e,n=this.group.alignAttr,i=this.clipHeight||this.legendHeight;n&&(e=n.translateY,_n(this.allItems,function(r){var o,a=r.checkbox;a&&(o=e+a.y+(t||0)+3,g(a,{left:n.translateX+r.legendItemWidth+a.x-20+Ze,top:o+Ze,display:o>e-6&&e+i-6>o?"":Qe}))}))},renderTitle:function(){var t,e=this.options,n=this.padding,i=e.title,r=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,n-3,n-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),t=this.title.getBBox(),r=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},renderItem:function(t){var n,i,r,o=this,a=o.chart,s=a.renderer,l=o.options,c="horizontal"===l.layout,d=l.symbolWidth,u=l.symbolPadding,h=o.itemStyle,p=o.itemHiddenStyle,g=o.padding,v=c?f(l.itemDistance,8):0,y=!l.rtl,b=l.width,x=l.itemMarginBottom||0,_=o.itemMarginTop,w=o.initialItemX,C=t.legendItem,T=t.series||t,S=T.options,A=S.showCheckbox,D=l.useHTML;C||(t.legendGroup=s.g("legend-item").attr({zIndex:1}).add(o.scrollGroup),T.drawLegendSymbol(o,t),t.legendItem=C=s.text(l.labelFormat?k(l.labelFormat,t):l.labelFormatter.call(t),y?d+u:-u,o.baseline,D).css(e(t.visible?h:p)).attr({align:y?"left":"right",zIndex:2}).add(t.legendGroup),(D?C:t.legendGroup).on("mouseover",function(){t.setState(rn),C.css(o.options.itemHoverStyle)}).on("mouseout",function(){C.css(t.visible?h:p),t.setState()}).on("click",function(e){var n="legendItemClick",i=function(){t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent(n,e,i):An(t,n,e,i)}),o.colorizeItem(t,t.visible),S&&A&&(t.checkbox=m("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},l.itemCheckboxStyle,a.container),Tn(t.checkbox,"click",function(e){var n=e.target;An(t,"checkboxClick",{checked:n.checked},function(){t.select()})}))),i=C.getBBox(),r=t.legendItemWidth=l.itemWidth||d+u+i.width+v+(A?20:0),o.itemHeight=n=i.height,c&&o.itemX-w+r>(b||a.chartWidth-2*g-w)&&(o.itemX=w,o.itemY+=_+o.lastLineHeight+x,o.lastLineHeight=0),o.maxItemWidth=xe(o.maxItemWidth,r),o.lastItemY=_+o.itemY+x,o.lastLineHeight=xe(n,o.lastLineHeight),t._legendItemPos=[o.itemX,o.itemY],c?o.itemX+=r:(o.itemY+=_+n+x,o.lastLineHeight=n),o.offsetWidth=b||xe((c?o.itemX-w-v:r)+g,o.offsetWidth)},render:function(){var e,n,i,r,o=this,a=o.chart,s=a.renderer,l=o.group,c=o.box,d=o.options,u=o.padding,h=d.borderWidth,p=d.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,l||(o.group=l=s.g("legend").attr({zIndex:7}).add(),o.contentGroup=s.g().attr({zIndex:1}).add(l),o.scrollGroup=s.g().add(o.contentGroup)),o.renderTitle(),e=[],_n(a.series,function(t){var n=t.options;f(n.showInLegend,n.linkedTo===V?V:!1,!0)&&(e=e.concat(t.legendItems||("point"===n.legendType?t.data:t)))}),D(e,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),d.reversed&&e.reverse(),o.allItems=e,o.display=n=!!e.length,_n(e,function(t){o.renderItem(t)}),i=d.width||o.offsetWidth,r=o.lastItemY+o.lastLineHeight+o.titleHeight,r=o.handleOverflow(r),(h||p)&&(i+=u,r+=u,c?i>0&&r>0&&(c[c.isNew?"attr":"animate"](c.crisp(null,null,null,i,r)),c.isNew=!1):(o.box=c=s.rect(0,0,i,r,d.borderRadius,h||0).attr({stroke:d.borderColor,"stroke-width":h||0,fill:p||Qe}).add(l).shadow(d.shadow),c.isNew=!0),c[n?"show":"hide"]()),o.legendWidth=i,o.legendHeight=r,_n(e,function(t){o.positionItem(t)}),n&&l.align(t({width:i,height:r},d),!0,"spacingBox"),a.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,n,i=this,r=this.chart,o=r.renderer,a=this.options,s=a.y,l="top"===a.verticalAlign,c=r.spacingBox.height+(l?-s:s)-this.padding,d=a.maxHeight,u=this.clipRect,h=a.navigation,p=f(h.animation,!0),g=h.arrowSize||12,m=this.nav;return"horizontal"===a.layout&&(c/=2),d&&(c=_e(c,d)),t>c&&!a.useHTML?(this.clipHeight=n=c-20-this.titleHeight,this.pageCount=e=be(t/n),this.currentPage=f(this.currentPage,1),this.fullHeight=t,u||(u=i.clipRect=o.clipRect(0,0,9999,0),i.contentGroup.clip(u)),u.attr({height:n}),m||(this.nav=m=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,g,g).on("click",function(){i.scroll(-1,p)}).add(m),this.pager=o.text("",15,10).css(h.style).add(m),this.down=o.symbol("triangle-down",0,0,g,g).on("click",function(){i.scroll(1,p)}).add(m)),i.scroll(0),t=c):m&&(u.attr({height:r.chartHeight}),m.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n,i=this.pageCount,r=this.currentPage+t,o=this.clipHeight,a=this.options.navigation,s=a.activeColor,l=a.inactiveColor,c=this.pager,d=this.padding;r>i&&(r=i),r>0&&(e!==V&&O(e,this.chart),this.nav.attr({translateX:d,translateY:o+7+this.titleHeight,visibility:qe}),this.up.attr({fill:1===r?l:s}).css({cursor:1===r?"default":"pointer"}),c.attr({text:r+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:r===i?l:s}).css({cursor:r===i?"default":"pointer"}),n=-_e(o*(r-1),this.fullHeight-o+d)+1,this.scrollGroup.animate({translateY:n}),c.attr({text:r+"/"+i}),this.currentPage=r,this.positionCheckboxes(n))}},/Trident\/7\.0/.test(Ae)&&x(G.prototype,"positionItem",function(t,e){var n=this,i=function(){t.call(n,e)};n.chart.renderer.forExport?i():setTimeout(i)}),$.prototype={init:function(t,n){var i,r=t.series;t.series=null,i=e(Z,t),i.series=t.series=r;var o=i.chart;this.margin=this.splashArray("margin",o),this.spacing=this.splashArray("spacing",o);var a=o.events;this.bounds={h:{},v:{}},this.callback=n,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.hasCartesianSeries=o.showAxes;var s,l=this;if(l.index=We.length,We.push(l),o.reflow!==!1&&Tn(l,"load",function(){l.initReflow()}),a)for(s in a)Tn(l,s,a[s]);l.xAxis=[],l.yAxis=[],l.animation=Re?!1:f(o.animation,!0),l.pointCount=0,l.counters=new A,l.firstRender()},initSeries:function(t){var e,n=this,i=n.options.chart,r=t.type||i.type||i.defaultSeriesType,o=gn[r];return o||P(17,!0),e=new o,e.init(this,t),e},addSeries:function(t,e,n){var i,r=this;return t&&(e=f(e,!0),An(r,"addSeries",{options:t},function(){i=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(n)})),i},addAxis:function(t,n,i,r){var o,a=n?"xAxis":"yAxis",s=this.options;o=new j(this,e(t,{index:this[a].length,isX:n})),s[a]=p(s[a]||{}),s[a].push(t),f(i,!0)&&this.redraw(r)},isInsidePlot:function(t,e,n){var i=n?e:t,r=n?t:e;return i>=0&&i<=this.plotWidth&&r>=0&&r<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&_n(this.axes,function(t){t.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var n,i,r,o=this,a=o.axes,s=o.series,l=o.pointer,c=o.legend,d=o.isDirtyLegend,u=o.isDirtyBox,h=s.length,p=h,f=o.renderer,g=f.isHidden(),m=[];for(O(e,o),g&&o.cloneRenderTo(),o.layOutTitles();p--;)if(r=s[p],r.options.stacking&&(n=!0,r.isDirty)){i=!0;break}if(i)for(p=h;p--;)r=s[p],r.options.stacking&&(r.isDirty=!0);_n(s,function(t){t.isDirty&&"point"===t.options.legendType&&(d=!0)}),d&&c.options.enabled&&(c.render(),o.isDirtyLegend=!1),n&&o.getStacks(),o.hasCartesianSeries&&(o.isResizing||(o.maxTicks=null,_n(a,function(t){t.setScale()})),o.adjustTickAmounts(),o.getMargins(),_n(a,function(t){t.isDirty&&(u=!0)}),_n(a,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,m.push(function(){An(e,"afterSetExtremes",t(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(u||n)&&e.redraw()})),u&&o.drawChartBox(),_n(s,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),l&&l.reset&&l.reset(!0),f.draw(),An(o,"redraw"),g&&o.cloneRenderTo(!0),_n(m,function(t){t.call()})},showLoading:function(e){var n=this,i=n.options,r=n.loadingDiv,o=i.loading;r||(n.loadingDiv=r=m(Xe,{className:Ue+"loading"},t(o.style,{zIndex:10,display:Qe}),n.container),n.loadingSpan=m("span",null,o.labelStyle,r)),n.loadingSpan.innerHTML=e||i.lang.loading,n.loadingShown||(g(r,{opacity:0,display:"",left:n.plotLeft+Ze,top:n.plotTop+Ze,width:n.plotWidth+Ze,height:n.plotHeight+Ze}),Mn(r,{opacity:o.style.opacity},{duration:o.showDuration||0}),n.loadingShown=!0)},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&Mn(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){g(e,{display:Qe})}}),this.loadingShown=!1},get:function(t){var e,n,i,r=this,o=r.axes,a=r.series;for(e=0;e<o.length;e++)if(o[e].options.id===t)return o[e];for(e=0;e<a.length;e++)if(a[e].options.id===t)return a[e];for(e=0;e<a.length;e++)for(i=a[e].points||[],n=0;n<i.length;n++)if(i[n].id===t)return i[n];return null},getAxes:function(){var t,e,n=this,i=this.options,r=i.xAxis=p(i.xAxis||{}),o=i.yAxis=p(i.yAxis||{});_n(r,function(t,e){t.index=e,t.isX=!0}),_n(o,function(t,e){t.index=e}),t=r.concat(o),_n(t,function(t){e=new j(n,t)}),n.adjustTickAmounts()},getSelectedPoints:function(){var t=[];return _n(this.series,function(e){t=t.concat(kn(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return kn(this.series,function(t){return t.selected})},getStacks:function(){var t=this;_n(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),_n(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+f(e.options.stack,""))})},showResetZoom:function(){var t=this,e=Z.lang,n=t.options.chart.resetZoomButton,i=n.theme,r=i.states,o="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},i,r&&r.hover).attr({align:n.position.align,title:e.resetZoomTitle}).add().align(n.position,!1,o)},zoomOut:function(){var t=this;An(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,n,i=this,r=i.pointer,a=!1;!t||t.resetSelection?_n(i.axes,function(t){e=t.zoom()}):_n(t.xAxis.concat(t.yAxis),function(t){var n=t.axis,i=n.isXAxis;(r[i?"zoomX":"zoomY"]||r[i?"pinchX":"pinchY"])&&(e=n.zoom(t.min,t.max),n.displayBtn&&(a=!0))}),n=i.resetZoomButton,a&&!n?i.showResetZoom():!a&&o(n)&&(i.resetZoomButton=n.destroy()),e&&i.redraw(f(i.options.chart.animation,t&&t.animation,i.pointCount<100))},pan:function(t,e){var n,i=this,r=i.hoverPoints;r&&_n(r,function(t){t.setState()}),_n("xy"===e?[1,0]:[1],function(e){var r=t[e?"chartX":"chartY"],o=i[e?"xAxis":"yAxis"][0],a=i[e?"mouseDownX":"mouseDownY"],s=(o.pointRange||0)/2,l=o.getExtremes(),c=o.toValue(a-r,!0)+s,d=o.toValue(a+i[e?"plotWidth":"plotHeight"]-r,!0)-s;o.series.length&&c>_e(l.dataMin,l.min)&&d<xe(l.dataMax,l.max)&&(o.setExtremes(c,d,!1,!1,{trigger:"pan"}),n=!0),i[e?"mouseDownX":"mouseDownY"]=r}),n&&i.redraw(!1),g(i.container,{cursor:"move"})},setTitle:function(t,n){var i,r,o=this,a=o.options;i=a.title=e(a.title,t),r=a.subtitle=e(a.subtitle,n),_n([["title",t,i],["subtitle",n,r]],function(t){var e=t[0],n=o[e],i=t[1],r=t[2];n&&i&&(o[e]=n=n.destroy()),r&&r.text&&!n&&(o[e]=o.renderer.text(r.text,0,0,r.useHTML).attr({align:r.align,"class":Ue+e,zIndex:r.zIndex||4}).css(r.style).add())}),o.layOutTitles()},layOutTitles:function(){var e=0,n=this.title,i=this.subtitle,r=this.options,o=r.title,a=r.subtitle,s=this.spacingBox.width-44;n&&(n.css({width:(o.width||s)+Ze}).align(t({y:15},o),!1,"spacingBox"),o.floating||o.verticalAlign||(e=n.getBBox().height,e>=18&&25>=e&&(e=15))),i&&(i.css({width:(a.width||s)+Ze}).align(t({y:e+o.margin},a),!1,"spacingBox"),a.floating||a.verticalAlign||(e=be(e+i.getBBox().height))),this.titleOffset=e},getChartSize:function(){var t=this,e=t.options.chart,n=t.renderToClone||t.renderTo;t.containerWidth=yn(n,"width"),t.containerHeight=yn(n,"height"),t.chartWidth=xe(0,e.width||t.containerWidth||600),t.chartHeight=xe(0,f(e.height,t.containerHeight>19?t.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,n=this.container;t?e&&(this.renderTo.appendChild(n),L(e),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=e=this.renderTo.cloneNode(0),g(e,{position:Ge,top:"-9999px",display:"block"}),fe.body.appendChild(e),n&&e.appendChild(n))},getContainer:function(){var e,n,o,a,s,l,c=this,d=c.options.chart,u="data-highcharts-chart";c.renderTo=a=d.renderTo,l=Ue+Fe++,r(a)&&(c.renderTo=a=fe.getElementById(a)),a||P(13,!0),s=i(h(a,u)),!isNaN(s)&&We[s]&&We[s].destroy(),h(a,u,c.index),a.innerHTML="",a.offsetWidth||c.cloneRenderTo(),c.getChartSize(),n=c.chartWidth,o=c.chartHeight,c.container=e=m(Xe,{className:Ue+"container"+(d.className?" "+d.className:""),id:l},t({position:$e,overflow:Ve,width:n+Ze,height:o+Ze,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},d.style),c.renderToClone||a),c._cursor=e.style.cursor,c.renderer=d.forExport?new Bn(e,n,o,!0):new U(e,n,o),Re&&c.renderer.create(c,e,n,o)},getMargins:function(){var t,e=this,n=e.spacing,i=e.legend,r=e.margin,o=e.options.legend,a=f(o.margin,10),s=o.x,l=o.y,c=o.align,d=o.verticalAlign,h=e.titleOffset;e.resetMargins(),t=e.axisOffset,h&&!u(r[0])&&(e.plotTop=xe(e.plotTop,h+e.options.title.margin+n[0])),i.display&&!o.floating&&("right"===c?u(r[1])||(e.marginRight=xe(e.marginRight,i.legendWidth-s+a+n[1])):"left"===c?u(r[3])||(e.plotLeft=xe(e.plotLeft,i.legendWidth+s+a+n[3])):"top"===d?u(r[0])||(e.plotTop=xe(e.plotTop,i.legendHeight+l+a+n[0])):"bottom"===d&&(u(r[2])||(e.marginBottom=xe(e.marginBottom,i.legendHeight-l+a+n[2])))),e.extraBottomMargin&&(e.marginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),e.hasCartesianSeries&&_n(e.axes,function(t){t.getOffset()}),u(r[3])||(e.plotLeft+=t[3]),u(r[0])||(e.plotTop+=t[0]),u(r[2])||(e.marginBottom+=t[2]),u(r[1])||(e.marginRight+=t[1]),e.setChartSize()},initReflow:function(){function t(t){var o=i.width||yn(r,"width"),a=i.height||yn(r,"height"),s=t?t.target:ge;n.hasUserSize||!o||!a||s!==ge&&s!==fe||((o!==n.containerWidth||a!==n.containerHeight)&&(clearTimeout(e),n.reflowTimeout=e=setTimeout(function(){n.container&&(n.setSize(o,a,!1),n.hasUserSize=null)},100)),n.containerWidth=o,n.containerHeight=a)}var e,n=this,i=n.options.chart,r=n.renderTo;n.reflow=t,Tn(ge,"resize",t),Tn(n,"destroy",function(){Sn(ge,"resize",t)})},setSize:function(t,e,n){var i,r,o,a=this;a.isResizing+=1,o=function(){a&&An(a,"endResize",null,function(){a.isResizing-=1})},O(n,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,u(t)&&(a.chartWidth=i=xe(0,ve(t)),a.hasUserSize=!!i),u(e)&&(a.chartHeight=r=xe(0,ve(e))),g(a.container,{width:i+Ze,height:r+Ze}),a.setChartSize(!0),a.renderer.setSize(i,r,n),a.maxTicks=null,_n(a.axes,function(t){t.isDirty=!0,t.setScale()}),_n(a.series,function(t){t.isDirty=!0}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.getMargins(),a.redraw(n),a.oldChartHeight=null,An(a,"resize"),J===!1?o():setTimeout(o,J&&J.duration||500)},setChartSize:function(t){var e,n,i,r,o,a,s,l=this,c=l.inverted,d=l.renderer,u=l.chartWidth,h=l.chartHeight,p=l.options.chart,f=l.spacing,g=l.clipOffset;l.plotLeft=i=ve(l.plotLeft),l.plotTop=r=ve(l.plotTop),l.plotWidth=o=xe(0,ve(u-i-l.marginRight)),l.plotHeight=a=xe(0,ve(h-r-l.marginBottom)),l.plotSizeX=c?a:o,l.plotSizeY=c?o:a,l.plotBorderWidth=p.plotBorderWidth||0,l.spacingBox=d.spacingBox={x:f[3],y:f[0],width:u-f[3]-f[1],height:h-f[0]-f[2]},l.plotBox=d.plotBox={x:i,y:r,width:o,height:a},s=2*ye(l.plotBorderWidth/2),e=be(xe(s,g[3])/2),n=be(xe(s,g[0])/2),l.clipBox={x:e,y:n,width:ye(l.plotSizeX-xe(s,g[1])/2-e),height:ye(l.plotSizeY-xe(s,g[2])/2-n)},t||_n(l.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.spacing,n=t.margin;t.plotTop=f(n[0],e[0]),t.marginRight=f(n[1],e[1]),t.marginBottom=f(n[2],e[2]),t.plotLeft=f(n[3],e[3]),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,n=this,i=n.options.chart,r=n.renderer,o=n.chartWidth,a=n.chartHeight,s=n.chartBackground,l=n.plotBackground,c=n.plotBorder,d=n.plotBGImage,u=i.borderWidth||0,h=i.backgroundColor,p=i.plotBackgroundColor,f=i.plotBackgroundImage,g=i.plotBorderWidth||0,m=n.plotLeft,v=n.plotTop,y=n.plotWidth,b=n.plotHeight,x=n.plotBox,_=n.clipRect,k=n.clipBox;t=u+(i.shadow?8:0),(u||h)&&(s?s.animate(s.crisp(null,null,null,o-t,a-t)):(e={fill:h||Qe},u&&(e.stroke=i.borderColor,e["stroke-width"]=u),n.chartBackground=r.rect(t/2,t/2,o-t,a-t,i.borderRadius,u).attr(e).add().shadow(i.shadow))),p&&(l?l.animate(x):n.plotBackground=r.rect(m,v,y,b,0).attr({fill:p}).add().shadow(i.plotShadow)),f&&(d?d.animate(x):n.plotBGImage=r.image(f,m,v,y,b).add()),_?_.animate({width:k.width,height:k.height}):n.clipRect=r.clipRect(k),g&&(c?c.animate(c.crisp(null,m,v,y,b)):n.plotBorder=r.rect(m,v,y,b,0,-g).attr({stroke:i.plotBorderColor,"stroke-width":g,zIndex:1}).add()),n.isDirtyBox=!1
},propFromSeries:function(){var t,e,n,i=this,r=i.options.chart,o=i.options.series;_n(["inverted","angular","polar"],function(a){for(t=gn[r.type||r.defaultSeriesType],n=i[a]||r[a]||t&&t.prototype[a],e=o&&o.length;!n&&e--;)t=gn[o[e].type],t&&t.prototype[a]&&(n=!0);i[a]=n})},linkSeries:function(){var t=this,e=t.series;_n(e,function(t){t.linkedSeries.length=0}),_n(e,function(e){var n=e.options.linkedTo;r(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n),n&&(n.linkedSeries.push(e),e.linkedParent=n))})},render:function(){var e,n=this,r=n.axes,o=n.renderer,a=n.options,s=a.labels,l=a.credits;n.setTitle(),n.legend=new G(n,a.legend),n.getStacks(),_n(r,function(t){t.setScale()}),n.getMargins(),n.maxTicks=null,_n(r,function(t){t.setTickPositions(!0),t.setMaxTicks()}),n.adjustTickAmounts(),n.getMargins(),n.drawChartBox(),n.hasCartesianSeries&&_n(r,function(t){t.render()}),n.seriesGroup||(n.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),_n(n.series,function(t){t.translate(),t.setTooltipPoints(),t.render()}),s.items&&_n(s.items,function(e){var r=t(s.style,e.style),a=i(r.left)+n.plotLeft,l=i(r.top)+n.plotTop+12;delete r.left,delete r.top,o.text(e.html,a,l).attr({zIndex:2}).css(r).add()}),l.enabled&&!n.credits&&(e=l.href,n.credits=o.text(l.text,0,0).on("click",function(){e&&(location.href=e)}).attr({align:l.position.align,zIndex:8}).css(l.style).add().align(l.position)),n.hasRendered=!0},destroy:function(){var t,e=this,n=e.axes,i=e.series,r=e.container,o=r&&r.parentNode;for(An(e,"destroy"),We[e.index]=V,e.renderTo.removeAttribute("data-highcharts-chart"),Sn(e),t=n.length;t--;)n[t]=n[t].destroy();for(t=i.length;t--;)i[t]=i[t].destroy();_n(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var n=e[t];n&&n.destroy&&(e[t]=n.destroy())}),r&&(r.innerHTML="",Sn(r),o&&L(r));for(t in e)delete e[t]},isReadyToRender:function(){var t=this;return!Oe&&ge==ge.top&&"complete"!==fe.readyState||Re&&!ge.canvg?(Re?jn.push(function(){t.firstRender()},t.options.global.canvasToolsURL):fe.attachEvent("onreadystatechange",function(){fe.detachEvent("onreadystatechange",t.firstRender),"complete"===fe.readyState&&t.firstRender()}),!1):!0},firstRender:function(){var t=this,e=t.options,n=t.callback;t.isReadyToRender()&&(t.getContainer(),An(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),_n(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),An(t,"beforeRender"),t.pointer=new X(t,e),t.render(),t.renderer.draw(),n&&n.apply(t,[t]),_n(t.callbacks,function(e){e.apply(t,[t])}),t.cloneRenderTo(!0),An(t,"load"))},splashArray:function(t,e){var n=e[t],i=o(n)?n:[n,n,n,n];return[f(e[t+"Top"],i[0]),f(e[t+"Right"],i[1]),f(e[t+"Bottom"],i[2]),f(e[t+"Left"],i[3])]}},$.prototype.callbacks=[];var Yn=function(){};Yn.prototype={init:function(t,e,n){var i,r=this;return r.series=t,r.applyOptions(e,n),r.pointAttr={},t.options.colorByPoint&&(i=t.options.colors||t.chart.options.colors,r.color=r.color||i[t.colorCounter++],t.colorCounter===i.length&&(t.colorCounter=0)),t.chart.pointCount++,r},applyOptions:function(e,n){var i=this,r=i.series,o=r.pointValKey;return e=Yn.prototype.optionsToObject.call(this,e),t(i,e),i.options=i.options?t(i.options,e):e,o&&(i.y=i[o]),i.x===V&&r&&(i.x=n===V?r.autoIncrement():n),i},optionsToObject:function(t){var e,n={},i=this.series,r=i.pointArrayMap||["y"],o=r.length,s=0,l=0;if("number"==typeof t||null===t)n[r[0]]=t;else if(a(t))for(t.length>o&&(e=typeof t[0],"string"===e?n.name=t[0]:"number"===e&&(n.x=t[0]),s++);o>l;)n[r[l++]]=t[s++];else"object"==typeof t&&(n=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return n},destroy:function(){var t,e=this,n=e.series,i=n.chart,r=i.hoverPoints;i.pointCount--,r&&(e.setState(),d(r,e),r.length||(i.hoverPoints=null)),e===i.hoverPoint&&e.onMouseOut(),(e.graphic||e.dataLabel)&&(Sn(e),e.destroyElements()),e.legendItem&&i.legend.destroyItem(e);for(t in e)e[t]=null},destroyElements:function(){for(var t,e=this,n=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],i=6;i--;)t=n[i],e[t]&&(e[t]=e[t].destroy())},getLabelConfig:function(){var t=this;return{x:t.category,y:t.y,key:t.name||t.category,series:t.series,point:t,percentage:t.percentage,total:t.total||t.stackTotal}},select:function(t,e){var n=this,i=n.series,r=i.chart;t=f(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=n.options.selected=t,i.options.data[xn(n,i.data)]=n.options,n.setState(t&&on),e||_n(r.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[xn(t,i.data)]=t.options,t.setState(nn),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this,n=e.series,i=n.chart,r=i.tooltip,o=i.hoverPoint;o&&o!==e&&o.onMouseOut(),e.firePointEvent("mouseOver"),!r||r.shared&&!n.noSharedTooltip||r.refresh(e,t),e.setState(rn),i.hoverPoint=e},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;e&&-1!==xn(this,e)||(this.firePointEvent("mouseOut"),this.setState(),t.hoverPoint=null)},tooltipFormatter:function(t){var e=this.series,n=e.tooltipOptions,i=f(n.valueDecimals,""),r=n.valuePrefix||"",o=n.valueSuffix||"";return _n(e.pointArrayMap||["y"],function(e){e="{point."+e,(r||o)&&(t=t.replace(e+"}",r+e+"}"+o)),t=t.replace(e+"}",e+":,."+i+"f}")}),k(t,{point:this,series:this.series})},update:function(t,e,n){var i,r=this,a=r.series,s=r.graphic,l=a.data,c=a.chart,d=a.options;e=f(e,!0),r.firePointEvent("update",{options:t},function(){r.applyOptions(t),o(t)&&(a.getAttribs(),s&&(t&&t.marker&&t.marker.symbol?r.graphic=s.destroy():s.attr(r.pointAttr[r.state||""]))),i=xn(r,l),a.xData[i]=r.x,a.yData[i]=a.toYData?a.toYData(r):r.y,a.zData[i]=r.z,d.data[i]=r.options,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===d.legendType&&c.legend.destroyItem(r),e&&c.redraw(n)})},remove:function(t,e){var n,i=this,r=i.series,o=r.points,a=r.chart,s=r.data;O(e,a),t=f(t,!0),i.firePointEvent("remove",null,function(){n=xn(i,s),s.length===o.length&&o.splice(n,1),s.splice(n,1),r.options.data.splice(n,1),r.xData.splice(n,1),r.yData.splice(n,1),r.zData.splice(n,1),i.destroy(),r.isDirty=!0,r.isDirtyData=!0,t&&a.redraw()})},firePointEvent:function(t,e,n){var i=this,r=this.series,o=r.options;(o.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&o.allowPointSelect&&(n=function(t){i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),An(this,t,e,n)},importEvents:function(){if(!this.hasImportedEvents){var t,n=this,i=e(n.series.options.point,n.options),r=i.events;n.events=r;for(t in r)Tn(n,t,r[t]);this.hasImportedEvents=!0}},setState:function(t){var n,i,r=this,o=r.plotX,a=r.plotY,s=r.series,l=s.options.states,c=Ln[s.type].marker&&s.options.marker,d=c&&!c.enabled,u=c&&c.states[t],h=u&&u.enabled===!1,p=s.stateMarkerGraphic,f=r.marker||{},g=s.chart,m=r.pointAttr;t=t||nn,t===r.state||r.selected&&t!==on||l[t]&&l[t].enabled===!1||t&&(h||d&&!u.enabled)||t&&f.states&&f.states[t]&&f.states[t].enabled===!1||(r.graphic?(n=c&&r.graphic.symbolName&&m[t].r,r.graphic.attr(e(m[t],n?{x:o-n,y:a-n,width:2*n,height:2*n}:{}))):(t&&u&&(n=u.radius,i=f.symbol||s.symbol,p&&p.currentSymbol!==i&&(p=p.destroy()),p?p.attr({x:o-n,y:a-n}):(s.stateMarkerGraphic=p=g.renderer.symbol(i,o-n,a-n,2*n,2*n).attr(m[t]).add(s.markerGroup),p.currentSymbol=i)),p&&p[t&&g.isInsidePlot(o,a)?"show":"hide"]()),r.state=t)}};var Xn=function(){};Xn.prototype={isCartesian:!0,type:"line",pointClass:Yn,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},colorCounter:0,init:function(e,n){var i,r,o=this,a=e.series;o.chart=e,o.options=n=o.setOptions(n),o.linkedSeries=[],o.bindAxes(),t(o,{name:n.name,state:nn,pointAttr:{},visible:n.visible!==!1,selected:n.selected===!0}),Re&&(n.animation=!1),r=n.events;for(i in r)Tn(o,i,r[i]);(r&&r.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(e.runTrackerClick=!0),o.getColor(),o.getSymbol(),o.setData(n.data,!1),o.isCartesian&&(e.hasCartesianSeries=!0),a.push(o),o._i=a.length-1,D(a,function(t,e){return f(t.options.index,t._i)-f(e.options.index,t._i)}),_n(a,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,n=e.options,i=e.chart;e.isCartesian&&_n(["xAxis","yAxis"],function(r){_n(i[r],function(i){t=i.options,(n[r]===t.index||n[r]!==V&&n[r]===t.id||n[r]===V&&0===t.index)&&(i.series.push(e),e[r]=i,i.isDirty=!0)}),e[r]||P(18,!0)})},autoIncrement:function(){var t=this,e=t.options,n=t.xIncrement;return n=f(n,e.pointStart,0),t.pointInterval=f(t.pointInterval,e.pointInterval,1),t.xIncrement=n+t.pointInterval,n},getSegments:function(){var t,e=this,n=-1,i=[],r=e.points,o=r.length;if(o)if(e.options.connectNulls){for(t=o;t--;)null===r[t].y&&r.splice(t,1);r.length&&(i=[r])}else _n(r,function(t,e){null===t.y?(e>n+1&&i.push(r.slice(n+1,e)),n=e):e===o-1&&i.push(r.slice(n+1,e+1))});e.segments=i},setOptions:function(t){var n,i=this.chart,r=i.options,o=r.plotOptions,a=o[this.type];return this.userOptions=t,n=e(a,o.series,t),this.tooltipOptions=e(r.tooltip,n.tooltip),null===a.marker&&delete n.marker,n},getColor:function(){var t,e,n=this.options,i=this.userOptions,r=this.chart.options.colors,o=this.chart.counters;t=n.color||Ln[this.type].color,t||n.colorByPoint||(u(i._colorIndex)?e=i._colorIndex:(i._colorIndex=o.color,e=o.color++),t=r[e]),this.color=t,o.wrapColor(r.length)},getSymbol:function(){var t,e=this,n=e.userOptions,i=e.options.marker,r=e.chart,o=r.options.symbols,a=r.counters;e.symbol=i.symbol,e.symbol||(u(n._symbolIndex)?t=n._symbolIndex:(n._symbolIndex=a.symbol,t=a.symbol++),e.symbol=o[t]),/^url/.test(e.symbol)&&(i.radius=0),a.wrapSymbol(o.length)},drawLegendSymbol:function(t){var e,n,i,r=this.options,o=r.marker,a=t.options,s=a.symbolWidth,l=this.chart.renderer,c=this.legendGroup,d=t.baseline-ve(.3*l.fontMetrics(a.itemStyle.fontSize).b);r.lineWidth&&(i={"stroke-width":r.lineWidth},r.dashStyle&&(i.dashstyle=r.dashStyle),this.legendLine=l.path([Je,0,d,tn,s,d]).attr(i).add(c)),o&&o.enabled&&(e=o.radius,this.legendSymbol=n=l.symbol(this.symbol,s/2-e,d-e,2*e,2*e).add(c),n.isMarker=!0)},addPoint:function(t,e,n,i){var r,o,a,s,l=this,c=l.options,d=l.data,u=l.graph,h=l.area,p=l.chart,g=l.xData,m=l.yData,v=l.zData,y=l.xAxis&&l.xAxis.names,b=u&&u.shift||0,x=c.data;if(O(i,p),n&&_n([u,h,l.graphNeg,l.areaNeg],function(t){t&&(t.shift=b+1)}),h&&(h.isArea=!0),e=f(e,!0),r={series:l},l.pointClass.prototype.applyOptions.apply(r,[t]),a=r.x,s=g.length,l.requireSorting&&a<g[s-1])for(o=!0;s&&g[s-1]>a;)s--;g.splice(s,0,a),m.splice(s,0,l.toYData?l.toYData(r):r.y),v.splice(s,0,r.z),y&&(y[a]=r.name),x.splice(s,0,t),o&&(l.data.splice(s,0,null),l.processData()),"point"===c.legendType&&l.generatePoints(),n&&(d[0]&&d[0].remove?d[0].remove(!1):(d.shift(),g.shift(),m.shift(),v.shift(),x.shift())),l.isDirty=!0,l.isDirtyData=!0,e&&(l.getAttribs(),p.redraw())},setData:function(t,e){var n,i=this,o=i.points,l=i.options,c=i.chart,d=null,u=i.xAxis,h=u&&u.names;i.xIncrement=null,i.pointRange=u&&u.categories?1:l.pointRange,i.colorCounter=0;var p,g=[],m=[],v=[],y=t?t.length:[],b=f(l.turboThreshold,1e3),x=i.pointArrayMap,_=x&&x.length,k=!!i.toYData;if(b&&y>b){for(n=0;null===d&&y>n;)d=t[n],n++;if(s(d)){var w=f(l.pointStart,0),C=f(l.pointInterval,1);for(n=0;y>n;n++)g[n]=w,m[n]=t[n],w+=C;i.xIncrement=w}else if(a(d))if(_)for(n=0;y>n;n++)p=t[n],g[n]=p[0],m[n]=p.slice(1,_+1);else for(n=0;y>n;n++)p=t[n],g[n]=p[0],m[n]=p[1];else P(12)}else for(n=0;y>n;n++)t[n]!==V&&(p={series:i},i.pointClass.prototype.applyOptions.apply(p,[t[n]]),g[n]=p.x,m[n]=k?i.toYData(p):p.y,v[n]=p.z,h&&p.name&&(h[p.x]=p.name));for(r(m[0])&&P(14,!0),i.data=[],i.options.data=t,i.xData=g,i.yData=m,i.zData=v,n=o&&o.length||0;n--;)o[n]&&o[n].destroy&&o[n].destroy();u&&(u.minRange=u.userMinRange),i.isDirty=i.isDirtyData=c.isDirtyBox=!0,f(e,!0)&&c.redraw(!1)},remove:function(t,e){var n=this,i=n.chart;t=f(t,!0),n.isRemoving||(n.isRemoving=!0,An(n,"remove",null,function(){n.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,i.linkSeries(),t&&i.redraw(e)})),n.isRemoving=!1},processData:function(t){var e,n,i,r,o,a=this,s=a.xData,l=a.yData,c=s.length,d=0,u=a.xAxis,h=a.options,p=h.cropThreshold,f=a.isCartesian;if(f&&!a.isDirty&&!u.isDirty&&!a.yAxis.isDirty&&!t)return!1;if(f&&a.sorted&&(!p||c>p||a.forceCrop)){var g=u.min,m=u.max;s[c-1]<g||s[0]>m?(s=[],l=[]):(s[0]<g||s[c-1]>m)&&(e=this.cropData(a.xData,a.yData,g,m),s=e.xData,l=e.yData,d=e.start,n=!0)}for(o=s.length-1;o>=0;o--)i=s[o]-s[o-1],i>0&&(r===V||r>i)?r=i:0>i&&a.requireSorting&&P(15);a.cropped=n,a.cropStart=d,a.processedXData=s,a.processedYData=l,null===h.pointRange&&(a.pointRange=r||1),a.closestPointRange=r},cropData:function(t,e,n,i){var r,o=t.length,a=0,s=o,l=f(this.cropShoulder,1);for(r=0;o>r;r++)if(t[r]>=n){a=xe(0,r-l);break}for(;o>r;r++)if(t[r]>i){s=r+l;break}return{xData:t.slice(a,s),yData:e.slice(a,s),start:a,end:s}},generatePoints:function(){var t,e,n,i,r=this,o=r.options,a=o.data,s=r.data,l=r.processedXData,c=r.processedYData,d=r.pointClass,u=l.length,h=r.cropStart||0,f=r.hasGroupedData,g=[];if(!s&&!f){var m=[];m.length=a.length,s=r.data=m}for(i=0;u>i;i++)e=h+i,f?g[i]=(new d).init(r,[l[i]].concat(p(c[i]))):(s[e]?n=s[e]:a[e]!==V&&(s[e]=n=(new d).init(r,a[e],l[i])),g[i]=n);if(s&&(u!==(t=s.length)||f))for(i=0;t>i;i++)i!==h||f||(i+=u),s[i]&&(s[i].destroyElements(),s[i].plotX=V);r.data=s,r.points=g},setStackedPoints:function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,n,i,r,o,a,s=this,l=s.processedXData,c=s.processedYData,d=[],u=c.length,h=s.options,p=h.threshold,f=h.stack,g=h.stacking,m=s.stackKey,v="-"+m,y=s.negStacks,b=s.yAxis,x=b.stacks,_=b.oldStacks;for(r=0;u>r;r++)o=l[r],a=c[r],t=y&&p>a,i=t?v:m,x[i]||(x[i]={}),x[i][o]||(_[i]&&_[i][o]?(x[i][o]=_[i][o],x[i][o].total=null):x[i][o]=new W(b,b.options.stackLabels,t,o,f,g)),e=x[i][o],e.points[s.index]=[e.cum||0],"percent"===g?(n=t?m:v,y&&x[n]&&x[n][o]?(n=x[n][o],e.total=n.total=xe(n.total,e.total)+ke(a)||0):e.total+=ke(a)||0):e.total+=a||0,e.cum=(e.cum||0)+(a||0),e.points[s.index].push(e.cum),d[r]=e.cum;"percent"===g&&(b.usePercentage=!0),this.stackedYData=d,b.oldStacks={}}},setPercentStacks:function(){var t=this,e=t.stackKey,n=t.yAxis.stacks;_n([e,"-"+e],function(e){for(var i,r,o,a,s=t.xData.length;s--;)i=t.xData[s],r=n[e]&&n[e][i],o=r&&r.points[t.index],o&&(a=r.total?100/r.total:0,o[0]=I(o[0]*a),o[1]=I(o[1]*a),t.stackedYData[s]=o[1])})},getExtremes:function(){var t,e,n,i,r,o,a,s,l=this.xAxis,c=this.yAxis,d=this.processedXData,u=this.stackedYData||this.processedYData,h=u.length,p=[],g=0,m=l.getExtremes(),v=m.min,y=m.max;for(a=0;h>a;a++)if(r=d[a],o=u[a],t=null!==o&&o!==V&&(!c.isLog||o.length||o>0),e=this.getExtremesFromAll||this.cropped||(d[a+1]||r)>=v&&(d[a-1]||r)<=y,t&&e)if(s=o.length)for(;s--;)null!==o[s]&&(p[g++]=o[s]);else p[g++]=o;this.dataMin=f(n,M(p)),this.dataMax=f(i,E(p))},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e=this,n=e.options,i=n.stacking,r=e.xAxis,o=r.categories,a=e.yAxis,l=e.points,c=l.length,d=!!e.modifyValue,h=n.pointPlacement,p="between"===h||s(h),g=n.threshold;for(t=0;c>t;t++){var m,v,y=l[t],b=y.x,x=y.y,_=y.low,k=a.stacks[(e.negStacks&&g>x?"-":"")+e.stackKey];a.isLog&&0>=x&&(y.y=x=null),y.plotX=r.translate(b,0,0,0,1,h,"flags"===this.type),i&&e.visible&&k&&k[b]&&(m=k[b],v=m.points[e.index],_=v[0],x=v[1],0===_&&(_=f(g,a.min)),a.isLog&&0>=_&&(_=null),y.total=y.stackTotal=m.total,y.percentage="percent"===i&&y.y/m.total*100,y.stackY=x,m.setOffset(e.pointXOffset||0,e.barW||0)),y.yBottom=u(_)?a.translate(_,0,1,0,1):null,d&&(x=e.modifyValue(x,y)),y.plotY="number"==typeof x&&1/0!==x?a.translate(x,0,1,0,1):V,y.clientX=p?r.translate(b,0,0,0,1):y.plotX,y.negative=y.y<(g||0),y.category=o&&o[y.x]!==V?o[y.x]:y.x}e.getSegments()},setTooltipPoints:function(t){var e,n,i,r,o,a,s,l=this,c=[],d=l.xAxis,u=d&&d.getExtremes(),h=d?d.tooltipLen||d.len:l.chart.plotSizeX,p=[];if(l.options.enableMouseTracking!==!1){for(t&&(l.tooltipPoints=null),_n(l.segments||l.points,function(t){c=c.concat(t)}),d&&d.reversed&&(c=c.reverse()),l.orderTooltipPoints&&l.orderTooltipPoints(c),e=c.length,s=0;e>s;s++)if(r=c[s],o=r.x,o>=u.min&&o<=u.max)for(a=c[s+1],n=i===V?0:i+1,i=c[s+1]?_e(xe(0,ye((r.clientX+(a?a.wrappedClientX||a.clientX:h))/2)),h):h;n>=0&&i>=n;)p[n++]=r;l.tooltipPoints=p}},tooltipHeaderFormatter:function(t){var e,n=this,i=n.tooltipOptions,r=i.xDateFormat,o=i.dateTimeLabelFormats,a=n.xAxis,l=a&&"datetime"===a.options.type,c=i.headerFormat,d=a&&a.closestPointRange;if(l&&!r)if(d){for(e in ee)if(ee[e]>=d){r=o[e];break}}else r=o.day;return l&&r&&s(t.key)&&(c=c.replace("{point.key}","{point.key:"+r+"}")),k(c,{point:t,series:n})},onMouseOver:function(){var t=this,e=t.chart,n=e.hoverSeries;n&&n!==t&&n.onMouseOut(),t.options.events.mouseOver&&An(t,"mouseOver"),t.setState(rn),e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,n=t.chart,i=n.tooltip,r=n.hoverPoint;r&&r.onMouseOut(),t&&e.events.mouseOut&&An(t,"mouseOut"),!i||e.stickyTracking||i.shared&&!t.noSharedTooltip||i.hide(),t.setState(),n.hoverSeries=null},animate:function(e){var n,i,r,a=this,s=a.chart,l=s.renderer,c=a.options.animation,d=s.clipBox,u=s.inverted;c&&!o(c)&&(c=Ln[a.type].animation),r="_sharedClip"+c.duration+c.easing,e?(n=s[r],i=s[r+"m"],n||(s[r]=n=l.clipRect(t(d,{width:0})),s[r+"m"]=i=l.clipRect(-99,u?-s.plotLeft:-s.plotTop,99,u?s.chartWidth:s.chartHeight)),a.group.clip(n),a.markerGroup.clip(i),a.sharedClipKey=r):(n=s[r],n&&(n.animate({width:s.plotSizeX},c),s[r+"m"].animate({width:s.plotSizeX+99},c)),a.animate=null,a.animationTimeout=setTimeout(function(){a.afterAnimate()},c.duration))},afterAnimate:function(){var t=this.chart,e=this.sharedClipKey,n=this.group;n&&this.options.clip!==!1&&(n.clip(t.clipRect),this.markerGroup.clip()),setTimeout(function(){e&&t[e]&&(t[e]=t[e].destroy(),t[e+"m"]=t[e+"m"].destroy())},100)},drawPoints:function(){var e,n,i,r,o,a,s,l,c,d,u,h,p=this,g=p.points,m=p.chart,v=p.options,y=v.marker,b=p.markerGroup;if(y.enabled||p._hasPointMarkers)for(r=g.length;r--;)o=g[r],n=ye(o.plotX),i=o.plotY,c=o.graphic,d=o.marker||{},u=y.enabled&&d.enabled===V||d.enabled,h=m.isInsidePlot(ve(n),i,m.inverted),u&&i!==V&&!isNaN(i)&&null!==o.y?(e=o.pointAttr[o.selected?on:nn],a=e.r,s=f(d.symbol,p.symbol),l=0===s.indexOf("url"),c?c.attr({visibility:h?Oe?"inherit":qe:Ve}).animate(t({x:n-a,y:i-a},c.symbolName?{width:2*a,height:2*a}:{})):h&&(a>0||l)&&(o.graphic=c=m.renderer.symbol(s,n-a,i-a,2*a,2*a).attr(e).add(b))):c&&(o.graphic=c.destroy())},convertAttribs:function(t,e,n,i){var r,o,a=this.pointAttrToOptions,s={};t=t||{},e=e||{},n=n||{},i=i||{};for(r in a)o=a[r],s[r]=f(t[o],e[r],n[r],i[r]);return s},getAttribs:function(){var e,n,i,r,o,a,s=this,l=s.options,c=Ln[s.type].marker?l.marker:l,d=c.states,h=d[rn],p=s.color,f={stroke:p,fill:p},g=s.points||[],m=[],v=s.pointAttrToOptions,y=l.negativeColor,b=c.lineColor;for(l.marker?(h.radius=h.radius||c.radius+2,h.lineWidth=h.lineWidth||c.lineWidth+1):h.color=h.color||Rn(h.color||p).brighten(h.brightness).get(),m[nn]=s.convertAttribs(c,f),_n([rn,on],function(t){m[t]=s.convertAttribs(d[t],m[nn])}),s.pointAttr=m,n=g.length;n--;){if(i=g[n],c=i.options&&i.options.marker||i.options,c&&c.enabled===!1&&(c.radius=0),i.negative&&y&&(i.color=i.fillColor=y),o=l.colorByPoint||i.color,i.options)for(a in v)u(c[v[a]])&&(o=!0);o?(c=c||{},r=[],d=c.states||{},e=d[rn]=d[rn]||{},l.marker||(e.color=Rn(e.color||i.color).brighten(e.brightness||h.brightness).get()),r[nn]=s.convertAttribs(t({color:i.color,fillColor:i.color,lineColor:null===b?i.color:V},c),m[nn]),r[rn]=s.convertAttribs(d[rn],m[rn],r[nn]),r[on]=s.convertAttribs(d[on],m[on],r[nn])):r=m,i.pointAttr=r}},update:function(n,i){var r,o=this.chart,a=this.userOptions,s=this.type,l=gn[s].prototype;n=e(a,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},n),this.remove(!1);for(r in l)l.hasOwnProperty(r)&&(this[r]=V);t(this,gn[n.type||s].prototype),this.init(o,n),f(i,!0)&&o.redraw(!1)},destroy:function(){var t,e,n,i,r,o=this,a=o.chart,s=/AppleWebKit\/533/.test(Ae),l=o.data||[];for(An(o,"destroy"),Sn(o),_n(["xAxis","yAxis"],function(t){r=o[t],r&&(d(r.series,o),r.isDirty=r.forceRedraw=!0,r.stacks={})}),o.legendItem&&o.chart.legend.destroyItem(o),e=l.length;e--;)n=l[e],n&&n.destroy&&n.destroy();o.points=null,clearTimeout(o.animationTimeout),_n(["area","graph","dataLabelsGroup","group","markerGroup","tracker","graphNeg","areaNeg","posClip","negClip"],function(e){o[e]&&(t=s&&"group"===e?"hide":"destroy",o[e][t]())}),a.hoverSeries===o&&(a.hoverSeries=null),d(a.series,o);for(i in o)delete o[i]},drawDataLabels:function(){var n,i,r,o,a=this,s=a.options,l=s.cursor,c=s.dataLabels,d=a.points;(c.enabled||a._hasPointLabels)&&(a.dlProcessOptions&&a.dlProcessOptions(c),o=a.plotGroup("dataLabelsGroup","data-labels",a.visible?qe:Ve,c.zIndex||6),i=c,_n(d,function(s){var d,h,p,g,m,v=s.dataLabel,y=s.connector,b=!0;if(n=s.options&&s.options.dataLabels,d=f(n&&n.enabled,i.enabled),v&&!d)s.dataLabel=v.destroy();else if(d){if(c=e(i,n),m=c.rotation,h=s.getLabelConfig(),r=c.format?k(c.format,h):c.formatter.call(h,c),c.style.color=f(c.color,c.style.color,a.color,"black"),v)u(r)?(v.attr({text:r}),b=!1):(s.dataLabel=v=v.destroy(),y&&(s.connector=y.destroy()));else if(u(r)){p={fill:c.backgroundColor,stroke:c.borderColor,"stroke-width":c.borderWidth,r:c.borderRadius||0,rotation:m,padding:c.padding,zIndex:1};for(g in p)p[g]===V&&delete p[g];v=s.dataLabel=a.chart.renderer[m?"text":"label"](r,0,-999,null,null,null,c.useHTML).attr(p).css(t(c.style,l&&{cursor:l})).add(o).shadow(c.shadow)}v&&a.alignDataLabel(s,v,c,null,b)}}))},alignDataLabel:function(e,n,i,r,o){var a,s=this.chart,l=s.inverted,c=f(e.plotX,-999),d=f(e.plotY,-999),u=n.getBBox(),h=this.visible&&s.isInsidePlot(e.plotX,e.plotY,l);h&&(r=t({x:l?s.plotWidth-d:c,y:ve(l?s.plotHeight-c:d),width:0,height:0},r),t(i,{width:u.width,height:u.height}),i.rotation?(a={align:i.align,x:r.x+i.x+r.width/2,y:r.y+i.y+r.height/2},n[o?"attr":"animate"](a)):(n.align(i,null,r),a=n.alignAttr,"justify"===f(i.overflow,"justify")?this.justifyDataLabel(n,i,a,u,r,o):f(i.crop,!0)&&(h=s.isInsidePlot(a.x,a.y)&&s.isInsidePlot(a.x+u.width,a.y+u.height)))),h||n.attr({y:-999})},justifyDataLabel:function(t,e,n,i,r,o){var a,s,l=this.chart,c=e.align,d=e.verticalAlign;a=n.x,0>a&&("right"===c?e.align="left":e.x=-a,s=!0),a=n.x+i.width,a>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-a,s=!0),a=n.y,0>a&&("bottom"===d?e.verticalAlign="top":e.y=-a,s=!0),a=n.y+i.height,a>l.plotHeight&&("top"===d?e.verticalAlign="bottom":e.y=l.plotHeight-a,s=!0),s&&(t.placed=!o,t.align(e,null,r))},getSegmentPath:function(t){var e=this,n=[],i=e.options.step;return _n(t,function(r,o){var a,s=r.plotX,l=r.plotY;e.getPointSpline?n.push.apply(n,e.getPointSpline(t,r,o)):(n.push(o?tn:Je),i&&o&&(a=t[o-1],"right"===i?n.push(a.plotX,l):"center"===i?n.push((a.plotX+s)/2,a.plotY,(a.plotX+s)/2,l):n.push(s,a.plotY)),n.push(r.plotX,r.plotY))}),n},getGraphPath:function(){var t,e=this,n=[],i=[];return _n(e.segments,function(r){t=e.getSegmentPath(r),r.length>1?n=n.concat(t):i.push(r[0])}),e.singlePoints=i,e.graphPath=n,n},drawGraph:function(){var t=this,e=this.options,n=[["graph",e.lineColor||this.color]],i=e.lineWidth,r=e.dashStyle,o="square"!==e.linecap,a=this.getGraphPath(),s=e.negativeColor;s&&n.push(["graphNeg",s]),_n(n,function(n,s){var l,c=n[0],d=t[c];d?(En(d),d.animate({d:a})):i&&a.length&&(l={stroke:n[1],"stroke-width":i,zIndex:1},r?l.dashstyle=r:o&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),t[c]=t.chart.renderer.path(a).attr(l).add(t.group).shadow(!s&&e.shadow))})},clipNeg:function(){var t,e,n,i,r,o=this.options,a=this.chart,s=a.renderer,l=o.negativeColor||o.negativeFillColor,c=this.graph,d=this.area,u=this.posClip,h=this.negClip,p=a.chartWidth,f=a.chartHeight,g=xe(p,f),m=this.yAxis;l&&(c||d)&&(t=ve(m.toPixels(o.threshold||0,!0)),i={x:0,y:0,width:g,height:t},r={x:0,y:t,width:g,height:g},a.inverted&&(i.height=r.y=a.plotWidth-t,s.isVML&&(i={x:a.plotWidth-t-a.plotLeft,y:0,width:p,height:f},r={x:t+a.plotLeft-p,y:0,width:a.plotLeft+t,height:p})),m.reversed?(e=r,n=i):(e=i,n=r),u?(u.animate(e),h.animate(n)):(this.posClip=u=s.clipRect(e),this.negClip=h=s.clipRect(n),c&&this.graphNeg&&(c.clip(u),this.graphNeg.clip(h)),d&&(d.clip(u),this.areaNeg.clip(h))))},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};_n(["group","markerGroup"],function(n){e[n]&&e[n].attr(t).invert()})}var e=this,n=e.chart;e.xAxis&&(Tn(n,"resize",t),Tn(e,"destroy",function(){Sn(n,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,n,i,r){var o=this[t],a=!o;return a&&(this[t]=o=this.chart.renderer.g(e).attr({visibility:n,zIndex:i||.1}).add(r)),o[a?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){return{translateX:this.xAxis?this.xAxis.left:this.chart.plotLeft,translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,n=e.chart,i=e.options,r=i.animation,o=r&&!!e.animate&&n.renderer.isSVG,a=e.visible?qe:Ve,s=i.zIndex,l=e.hasRendered,c=n.seriesGroup;t=e.plotGroup("group","series",a,s,c),e.markerGroup=e.plotGroup("markerGroup","markers",a,s,c),o&&e.animate(!0),e.getAttribs(),t.inverted=e.isCartesian?n.inverted:!1,e.drawGraph&&(e.drawGraph(),e.clipNeg()),e.drawDataLabels(),e.drawPoints(),e.options.enableMouseTracking!==!1&&e.drawTracker(),n.inverted&&e.invertGroups(),i.clip===!1||e.sharedClipKey||l||t.clip(n.clipRect),o?e.animate():l||e.afterAnimate(),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this,e=t.chart,n=t.isDirtyData,i=t.group,r=t.xAxis,o=t.yAxis;i&&(e.inverted&&i.attr({width:e.plotWidth,height:e.plotHeight}),i.animate({translateX:f(r&&r.left,e.plotLeft),translateY:f(o&&o.top,e.plotTop)})),t.translate(),t.setTooltipPoints(!0),t.render(),n&&An(t,"updatedData")},setState:function(t){var e,n=this,i=n.options,r=n.graph,o=n.graphNeg,a=i.states,s=i.lineWidth;if(t=t||nn,n.state!==t){if(n.state=t,a[t]&&a[t].enabled===!1)return;t&&(s=a[t].lineWidth||s+1),r&&!r.dashstyle&&(e={"stroke-width":s},r.attr(e),o&&o.attr(e))}},setVisible:function(t,e){var n,i=this,r=i.chart,o=i.legendItem,a=r.options.chart.ignoreHiddenSeries,s=i.visible;i.visible=t=i.userOptions.visible=t===V?!s:t,n=t?"show":"hide",_n(["group","dataLabelsGroup","markerGroup","tracker"],function(t){i[t]&&i[t][n]()}),r.hoverSeries===i&&i.onMouseOut(),o&&r.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&_n(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),_n(i.linkedSeries,function(e){e.setVisible(t,!1)}),a&&(r.isDirtyBox=!0),e!==!1&&r.redraw(),An(i,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var e=this;e.selected=t=t===V?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),An(e,t?"select":"unselect")},drawTracker:function(){var t,e,n=this,i=n.options,r=i.trackByArea,o=[].concat(r?n.areaPath:n.graphPath),a=o.length,s=n.chart,l=s.pointer,c=s.renderer,d=s.options.tooltip.snap,u=n.tracker,h=i.cursor,p=h&&{cursor:h},f=n.singlePoints,g=function(){s.hoverSeries!==n&&n.onMouseOver()};if(a&&!r)for(e=a+1;e--;)o[e]===Je&&o.splice(e+1,0,o[e+1]-d,o[e+2],tn),(e&&o[e]===Je||e===a)&&o.splice(e,0,tn,o[e-2]+d,o[e-1]);for(e=0;e<f.length;e++)t=f[e],o.push(Je,t.plotX-d,t.plotY,tn,t.plotX+d,t.plotY);u?u.attr({d:o}):(n.tracker=c.path(o).attr({"stroke-linejoin":"round",visibility:n.visible?qe:Ve,stroke:en,fill:r?en:Qe,"stroke-width":i.lineWidth+(r?0:2*d),zIndex:2}).add(n.group),_n([n.tracker,n.markerGroup],function(t){t.addClass(Ue+"tracker").on("mouseover",g).on("mouseout",function(t){l.onTrackerMouseOut(t)}).css(p),Be&&t.on("touchstart",g)}))}};var Gn=v(Xn);gn.line=Gn,Ln.area=e(Pn,{threshold:0});var $n=v(Xn,{type:"area",getSegments:function(){var t,e,n,i,r,o=[],a=[],s=[],l=this.xAxis,c=this.yAxis,d=c.stacks[this.stackKey],u={},h=this.points,p=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(i=0;i<h.length;i++)u[h[i].x]=h[i];for(r in d)null!==d[r].total&&s.push(+r);s.sort(function(t,e){return t-e}),_n(s,function(i){(!p||u[i]&&null!==u[i].y)&&(u[i]?a.push(u[i]):(t=l.translate(i),n=d[i].percent?d[i].total?100*d[i].cum/d[i].total:0:d[i].cum,e=c.toPixels(n,!0),a.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:ze})))}),a.length&&o.push(a)}else Xn.prototype.getSegments.call(this),o=this.segments;this.segments=o},getSegmentPath:function(t){var e,n,i=Xn.prototype.getSegmentPath.call(this,t),r=[].concat(i),o=this.options,a=i.length,s=this.yAxis.getThreshold(o.threshold);if(3===a&&r.push(tn,i[1],i[2]),o.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)n=f(t[e].yBottom,s),e<t.length-1&&o.step&&r.push(t[e+1].plotX,n),r.push(t[e].plotX,n);else this.closeSegment(r,t,s);return this.areaPath=this.areaPath.concat(r),i},closeSegment:function(t,e,n){t.push(tn,e[e.length-1].plotX,n,tn,e[0].plotX,n)},drawGraph:function(){this.areaPath=[],Xn.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,n=this.options,i=n.negativeColor,r=n.negativeFillColor,o=[["area",this.color,n.fillColor]];(i||r)&&o.push(["areaNeg",i,r]),_n(o,function(i){var r=i[0],o=t[r];o?o.animate({d:e}):t[r]=t.chart.renderer.path(e).attr({fill:f(i[2],Rn(i[1]).setOpacity(f(n.fillOpacity,.75)).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:function(t,e){e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,t.options.symbolWidth,12,2).attr({zIndex:3}).add(e.legendGroup)}});gn.area=$n,Ln.spline=e(Pn);var Vn=v(Xn,{type:"spline",getPointSpline:function(t,e,n){var i,r,o,a,s,l=1.5,c=l+1,d=e.plotX,u=e.plotY,h=t[n-1],p=t[n+1];if(h&&p){var f,g=h.plotX,m=h.plotY,v=p.plotX,y=p.plotY;i=(l*d+g)/c,r=(l*u+m)/c,o=(l*d+v)/c,a=(l*u+y)/c,f=(a-r)*(o-d)/(o-i)+u-a,r+=f,a+=f,r>m&&r>u?(r=xe(m,u),a=2*u-r):m>r&&u>r&&(r=_e(m,u),a=2*u-r),a>y&&a>u?(a=xe(y,u),r=2*u-a):y>a&&u>a&&(a=_e(y,u),r=2*u-a),e.rightContX=o,e.rightContY=a}return n?(s=["C",h.rightContX||h.plotX,h.rightContY||h.plotY,i||d,r||u,d,u],h.rightContX=h.rightContY=null):s=[Je,d,u],s}});gn.spline=Vn,Ln.areaspline=e(Ln.area);var Un=$n.prototype,qn=v(Vn,{type:"areaspline",closedStacks:!0,getSegmentPath:Un.getSegmentPath,closeSegment:Un.closeSegment,drawGraph:Un.drawGraph,drawLegendSymbol:Un.drawLegendSymbol});gn.areaspline=qn,Ln.column=e(Pn,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0});var Zn=v(Xn,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Xn.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&_n(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e,n=this,i=n.options,r=n.xAxis,o=n.yAxis,a=r.reversed,s={},l=0;i.grouping===!1?l=1:_n(n.chart.series,function(i){var r=i.options,a=i.yAxis;i.type===n.type&&i.visible&&o.len===a.len&&o.pos===a.pos&&(r.stacking?(t=i.stackKey,s[t]===V&&(s[t]=l++),e=s[t]):r.grouping!==!1&&(e=l++),i.columnIndex=e)});var c=_e(ke(r.transA)*(r.ordinalSlope||i.pointRange||r.closestPointRange||1),r.len),d=c*i.groupPadding,h=c-2*d,p=h/l,g=i.pointWidth,m=u(g)?(p-g)/2:p*i.pointPadding,v=f(g,p-2*m),y=(a?l-(n.columnIndex||0):n.columnIndex)||0,b=m+(d+y*p-c/2)*(a?-1:1);return n.columnMetrics={width:v,offset:b}},translate:function(){var t=this,e=t.chart,n=t.options,i=n.borderWidth,r=t.yAxis,o=n.threshold,a=t.translatedThreshold=r.getThreshold(o),s=f(n.minPointLength,5),l=t.getColumnMetrics(),c=l.width,d=t.barW=be(xe(c,1+2*i)),u=t.pointXOffset=l.offset,h=-(i%2?.5:0),p=i%2?.5:1;e.renderer.isVML&&e.inverted&&(p+=1),Xn.prototype.translate.apply(t),_n(t.points,function(t){var e,n,i,o,l=f(t.yBottom,a),g=_e(xe(-999-l,t.plotY),r.len+999+l),m=t.plotX+u,v=d,y=_e(g,l),b=xe(g,l)-y;ke(b)<s&&s&&(b=s,y=ve(ke(y-a)>s?l-s:a-(r.translate(t.y,0,1,0,1)<=a?s:0))),t.barX=m,t.pointWidth=c,o=ke(m)<.5,e=ve(m+v)+h,m=ve(m)+h,v=e-m,i=ke(y)<.5,n=ve(y+b)+p,y=ve(y)+p,b=n-y,o&&(m+=1,v-=1),i&&(y-=1,b+=1),t.shapeType="rect",t.shapeArgs={x:m,y:y,width:v,height:b}})},getSymbol:ze,drawLegendSymbol:$n.prototype.drawLegendSymbol,drawGraph:ze,drawPoints:function(){var t,n=this,i=n.options,r=n.chart.renderer;_n(n.points,function(o){var a=o.plotY,s=o.graphic;a===V||isNaN(a)||null===o.y?s&&(o.graphic=s.destroy()):(t=o.shapeArgs,s?(En(s),s.animate(e(t))):o.graphic=s=r[o.shapeType](t).attr(o.pointAttr[o.selected?on:nn]).add(n.group).shadow(i.shadow,null,i.stacking&&!i.borderRadius))
})},drawTracker:function(){var t=this,e=t.chart,n=e.pointer,i=t.options.cursor,r=i&&{cursor:i},o=function(n){var i,r=n.target;for(e.hoverSeries!==t&&t.onMouseOver();r&&!i;)i=r.point,r=r.parentNode;i!==V&&i!==e.hoverPoint&&i.onMouseOver(n)};_n(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(_n(t.trackerGroups,function(e){t[e]&&(t[e].addClass(Ue+"tracker").on("mouseover",o).on("mouseout",function(t){n.onTrackerMouseOut(t)}).css(r),Be&&t[e].on("touchstart",o))}),t._hasTracking=!0)},alignDataLabel:function(t,n,i,r,o){var a=this.chart,s=a.inverted,l=t.dlBox||t.shapeArgs,c=t.below||t.plotY>f(this.translatedThreshold,a.plotSizeY),d=f(i.inside,!!this.options.stacking);l&&(r=e(l),s&&(r={x:a.plotWidth-r.y-r.height,y:a.plotHeight-r.x-r.width,width:r.height,height:r.width}),d||(s?(r.x+=c?0:r.width,r.width=0):(r.y+=c?r.height:0,r.height=0))),i.align=f(i.align,!s||d?"center":c?"right":"left"),i.verticalAlign=f(i.verticalAlign,s||d?"middle":c?"top":"bottom"),Xn.prototype.alignDataLabel.call(this,t,n,i,r,o)},animate:function(t){var e,n=this,i=this.yAxis,r=n.options,o=this.chart.inverted,a={};Oe&&(t?(a.scaleY=.001,e=_e(i.pos+i.len,xe(i.pos,i.toPixels(r.threshold))),o?a.translateX=e-i.len:a.translateY=e,n.group.attr(a)):(a.scaleY=1,a[o?"translateX":"translateY"]=i.pos,n.group.animate(a,n.options.animation),n.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&_n(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Xn.prototype.remove.apply(t,arguments)}});gn.column=Zn,Ln.bar=e(Ln.column);var Qn=v(Zn,{type:"bar",inverted:!0});gn.bar=Qn,Ln.scatter=e(Pn,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1});var Jn=v(Xn,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,drawTracker:Zn.prototype.drawTracker,setTooltipPoints:ze});gn.scatter=Jn,Ln.pie=e(Pn,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var ti=v(Yn,{init:function(){Yn.prototype.init.apply(this,arguments);var e,n=this;return n.y<0&&(n.y=null),t(n,{visible:n.visible!==!1,name:f(n.name,"Slice")}),e=function(t){n.slice("select"===t.type)},Tn(n,"select",e),Tn(n,"unselect",e),n},setVisible:function(t){var e,n=this,i=n.series,r=i.chart;n.visible=n.options.visible=t=t===V?!n.visible:t,i.options.data[xn(n,i.data)]=n.options,e=t?"show":"hide",_n(["graphic","dataLabel","connector","shadowGroup"],function(t){n[t]&&n[t][e]()}),n.legendItem&&r.legend.colorizeItem(n,t),!i.isDirty&&i.options.ignoreHiddenPoint&&(i.isDirty=!0,r.redraw())},slice:function(t,e,n){var i,r=this,o=r.series,a=o.chart;O(n,a),e=f(e,!0),r.sliced=r.options.sliced=t=u(t)?t:!r.sliced,o.options.data[xn(r,o.data)]=r.options,i=t?r.slicedTranslation:{translateX:0,translateY:0},r.graphic.animate(i),r.shadowGroup&&r.shadowGroup.animate(i)}}),ei={type:"pie",isCartesian:!1,pointClass:ti,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:ze,animate:function(t){var e=this,n=e.points,i=e.startAngleRad;t||(_n(n,function(t){var n=t.graphic,r=t.shapeArgs;n&&(n.attr({r:e.center[3]/2,start:i,end:i}),n.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}),e.animate=null)},setData:function(t,e){Xn.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),f(e,!0)&&this.chart.redraw()},generatePoints:function(){var t,e,n,i,r=0,o=this.options.ignoreHiddenPoint;for(Xn.prototype.generatePoints.call(this),e=this.points,n=e.length,t=0;n>t;t++)i=e[t],r+=o&&!i.visible?0:i.y;for(this.total=r,t=0;n>t;t++)i=e[t],i.percentage=r>0?i.y/r*100:0,i.total=r},getCenter:function(){var t,e,n=this.options,r=this.chart,o=2*(n.slicedOffset||0),a=r.plotWidth-2*o,s=r.plotHeight-2*o,l=n.center,c=[f(l[0],"50%"),f(l[1],"50%"),n.size||"100%",n.innerSize||0],d=_e(a,s);return Cn(c,function(n,r){return e=/%$/.test(n),t=2>r||2===r&&e,(e?[a,s,d,d][r]*i(n)/100:n)+(t?o:0)})},translate:function(t){this.generatePoints();var e,n,i,r,o,a,s,l=this,c=0,d=1e3,u=l.options,h=u.slicedOffset,p=h+u.borderWidth,f=u.startAngle||0,g=l.startAngleRad=Te/180*(f-90),m=l.endAngleRad=Te/180*((u.endAngle||f+360)-90),v=m-g,y=l.points,b=u.dataLabels.distance,x=u.ignoreHiddenPoint,_=y.length;for(t||(l.center=t=l.getCenter()),l.getX=function(e,n){return i=me.asin((e-t[1])/(t[2]/2+b)),t[0]+(n?-1:1)*we(i)*(t[2]/2+b)},a=0;_>a;a++)s=y[a],e=g+c*v,(!x||s.visible)&&(c+=s.percentage/100),n=g+c*v,s.shapeType="arc",s.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:ve(e*d)/d,end:ve(n*d)/d},i=(n+e)/2,i>.75*v&&(i-=2*Te),s.slicedTranslation={translateX:ve(we(i)*h),translateY:ve(Ce(i)*h)},r=we(i)*t[2]/2,o=Ce(i)*t[2]/2,s.tooltipPos=[t[0]+.7*r,t[1]+.7*o],s.half=-Te/2>i||i>Te/2?1:0,s.angle=i,p=_e(p,b/2),s.labelPos=[t[0]+r+we(i)*b,t[1]+o+Ce(i)*b,t[0]+r+we(i)*p,t[1]+o+Ce(i)*p,t[0]+r,t[1]+o,0>b?"center":s.half?"right":"left",i]},setTooltipPoints:ze,drawGraph:null,drawPoints:function(){var e,n,i,r,o=this,a=o.chart,s=a.renderer,l=o.options.shadow;l&&!o.shadowGroup&&(o.shadowGroup=s.g("shadow").add(o.group)),_n(o.points,function(a){n=a.graphic,r=a.shapeArgs,i=a.shadowGroup,l&&!i&&(i=a.shadowGroup=s.g("shadow").add(o.shadowGroup)),e=a.sliced?a.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(e),n?n.animate(t(r,e)):a.graphic=n=s.arc(r).setRadialReference(o.center).attr(a.pointAttr[a.selected?on:nn]).attr({"stroke-linejoin":"round"}).attr(e).add(o.group).shadow(l,i),a.visible===!1&&a.setVisible(!1)})},sortByAngle:function(t,e){t.sort(function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e})},drawDataLabels:function(){var t,e,n,i,r,o,a,s,l,c,d,u,h,p=this,g=p.data,m=p.chart,v=p.options.dataLabels,y=f(v.connectorPadding,10),b=f(v.connectorWidth,1),x=m.plotWidth,_=m.plotHeight,k=f(v.softConnector,!0),w=v.distance,C=p.center,T=C[2]/2,S=C[1],A=w>0,D=[[],[]],M=[0,0,0,0],N=function(t,e){return e.y-t.y};if(p.visible&&(v.enabled||p._hasPointLabels)){for(Xn.prototype.drawDataLabels.apply(p),_n(g,function(t){t.dataLabel&&D[t.half].push(t)}),u=0;!a&&g[u];)a=g[u]&&g[u].dataLabel&&(g[u].dataLabel.getBBox().height||21),u++;for(u=2;u--;){var L,P,I,O=[],K=[],R=D[u],B=R.length;if(p.sortByAngle(R,u-.5),w>0){for(P=S-T-w;S+T+w>=P;P+=a)O.push(P);if(L=O.length,B>L){for(d=[].concat(R),d.sort(N),h=B;h--;)d[h].rank=h;for(h=B;h--;)R[h].rank>=L&&R.splice(h,1);B=R.length}for(h=0;B>h;h++){t=R[h],o=t.labelPos;var H,F,z=9999;for(F=0;L>F;F++)H=ke(O[F]-o[1]),z>H&&(z=H,I=F);if(h>I&&null!==O[h])I=h;else if(B-h+I>L&&null!==O[h])for(I=L-B+h;null===O[I];)I++;else for(;null===O[I];)I++;K.push({i:I,y:O[I]}),O[I]=null}K.sort(N)}for(h=0;B>h;h++){var W,j;t=R[h],o=t.labelPos,i=t.dataLabel,c=t.visible===!1?Ve:qe,j=o[1],w>0?(W=K.pop(),I=W.i,l=W.y,(j>l&&null!==O[I+1]||l>j&&null!==O[I-1])&&(l=j)):l=j,s=v.justify?C[0]+(u?-1:1)*(T+w):p.getX(0===I||I===O.length-1?j:l,u),i._attr={visibility:c,align:o[6]},i._pos={x:s+v.x+({left:y,right:-y}[o[6]]||0),y:l+v.y-10},i.connX=s,i.connY=l,null===this.options.size&&(r=i.width,y>s-r?M[3]=xe(ve(r-s+y),M[3]):s+r>x-y&&(M[1]=xe(ve(s+r-x+y),M[1])),0>l-a/2?M[0]=xe(ve(-l+a/2),M[0]):l+a/2>_&&(M[2]=xe(ve(l+a/2-_),M[2])))}}(0===E(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),A&&b&&_n(this.points,function(t){e=t.connector,o=t.labelPos,i=t.dataLabel,i&&i._pos?(c=i._attr.visibility,s=i.connX,l=i.connY,n=k?[Je,s+("left"===o[6]?5:-5),l,"C",s,l,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],tn,o[4],o[5]]:[Je,s+("left"===o[6]?5:-5),l,tn,o[2],o[3],tn,o[4],o[5]],e?(e.animate({d:n}),e.attr("visibility",c)):t.connector=e=p.chart.renderer.path(n).attr({"stroke-width":b,stroke:v.connectorColor||t.color||"#606060",visibility:c}).add(p.group)):e&&(t.connector=e.destroy())}))}},verifyDataLabelOverflow:function(t){var e,n=this.center,i=this.options,r=i.center,o=i.minSize||80,a=o;return null!==r[0]?a=xe(n[2]-xe(t[1],t[3]),o):(a=xe(n[2]-t[1]-t[3],o),n[0]+=(t[3]-t[1])/2),null!==r[1]?a=xe(_e(a,n[2]-xe(t[0],t[2])),o):(a=xe(_e(a,n[2]-t[0]-t[2]),o),n[1]+=(t[0]-t[2])/2),a<n[2]?(n[2]=a,this.translate(n),_n(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels()):e=!0,e},placeDataLabels:function(){_n(this.points,function(t){var e,n=t.dataLabel;n&&(e=n._pos,e?(n.attr(n._attr),n[n.moved?"animate":"attr"](e),n.moved=!0):n&&n.attr({y:-999}))})},alignDataLabel:ze,drawTracker:Zn.prototype.drawTracker,drawLegendSymbol:$n.prototype.drawLegendSymbol,getSymbol:ze};ei=v(Xn,ei),gn.pie=ei,t(Highcharts,{Axis:j,Chart:$,Color:Rn,Legend:G,Pointer:X,Point:Yn,Tick:F,Tooltip:Y,Renderer:U,Series:Xn,SVGElement:H,SVGRenderer:Bn,arrayMin:M,arrayMax:E,charts:We,dateFormat:Q,format:k,pathAnim:te,getOptions:B,hasBidiBug:Ke,isTouchDevice:Pe,numberFormat:y,seriesTypes:gn,setOptions:R,addEvent:Tn,removeEvent:Sn,createElement:m,discardElement:L,css:g,each:_n,extend:t,map:Cn,merge:e,pick:f,splat:p,extendClass:v,pInt:i,wrap:x,svg:Oe,canvas:Re,vml:!Oe&&!Re,product:je,version:Ye})}(),function(t,e){function n(t,e,n){this.init.call(this,t,e,n)}function i(t,e,n){t.call(this,e,n),this.chart.polar&&(this.closeSegment=function(t){var e=this.xAxis.center;t.push("L",e[0],e[1])},this.closedStacks=!0)}function r(t,e){var n,i=this.chart,r=this.options.animation,o=this.group,a=this.markerGroup,s=this.xAxis.center,l=i.plotLeft,c=i.plotTop;i.polar?i.renderer.isSVG&&(r===!0&&(r={}),e?(n={translateX:s[0]+l,translateY:s[1]+c,scaleX:.001,scaleY:.001},o.attr(n),a&&(a.attrSetters=o.attrSetters,a.attr(n))):(n={translateX:l,translateY:c,scaleX:1,scaleY:1},o.animate(n,r),a&&a.animate(n,r),this.animate=null)):t.call(this,e)}var o=t.arrayMin,a=t.arrayMax,s=t.each,l=t.extend,c=t.merge,d=t.map,u=t.pick,h=t.pInt,p=t.getOptions().plotOptions,f=t.seriesTypes,g=t.extendClass,m=t.splat,v=t.wrap,y=t.Axis,b=t.Tick,x=t.Series,_=f.column.prototype,k=Math,w=k.round,C=k.floor,T=k.max,S=function(){};l(n.prototype,{init:function(t,e,n){var i,r=this,o=r.defaultOptions;r.chart=e,e.angular&&(o.background={}),r.options=t=c(o,t),i=t.background,i&&s([].concat(m(i)).reverse(),function(t){var e=t.backgroundColor;t=c(r.defaultBackgroundOptions,t),e&&(t.backgroundColor=e),t.color=t.backgroundColor,n.options.plotBands.unshift(t)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:Number.MIN_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var A=y.prototype,D=b.prototype,M={getOffset:S,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:S,setCategories:S,setTitle:S},E={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,plotBands:[],tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,plotBands:[],showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},plotBands:[],showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(t){this.options=c(this.defaultOptions,this.defaultRadialOptions,t)},getOffset:function(){A.getOffset.call(this),this.chart.axisOffset[this.side]=0},getLinePath:function(t,e){var n=this.center;return e=u(e,n[2]/2-this.offset),this.chart.renderer.symbols.arc(this.left+n[0],this.top+n[1],e,e,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){A.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.isXAxis&&(this.minPixelPadding=this.transA*this.minPointOffset+(this.reversed?(this.endAngleRad-this.startAngleRad)/4:0)))},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){A.setAxisSize.call(this),this.isRadial&&(this.center=this.pane.center=f.pie.prototype.getCenter.call(this.pane),this.len=this.width=this.height=this.isCircular?this.center[2]*(this.endAngleRad-this.startAngleRad)/2:this.center[2]/2)},getPosition:function(t,e){return this.isCircular||(e=this.translate(t),t=this.min),this.postTranslate(this.translate(t),u(e,this.center[2]/2)-this.offset)},postTranslate:function(t,e){var n=this.chart,i=this.center;return t=this.startAngleRad+t,{x:n.plotLeft+i[0]+Math.cos(t)*e,y:n.plotTop+i[1]+Math.sin(t)*e}},getPlotBandPath:function(t,e,n){var i,r,o,a,s=this.center,l=this.startAngleRad,c=s[2]/2,p=[u(n.outerRadius,"100%"),n.innerRadius,u(n.thickness,10)],f=/%$/,g=this.isCircular;return"polygon"===this.options.gridLineInterpolation?a=this.getPlotLinePath(t).concat(this.getPlotLinePath(e,!0)):(g||(p[0]=this.translate(t),p[1]=this.translate(e)),p=d(p,function(t){return f.test(t)&&(t=h(t,10)*c/100),t}),"circle"!==n.shape&&g?(i=l+this.translate(t),r=l+this.translate(e)):(i=-Math.PI/2,r=1.5*Math.PI,o=!0),a=this.chart.renderer.symbols.arc(this.left+s[0],this.top+s[1],p[0],p[0],{start:i,end:r,innerR:u(p[1],p[0]-p[2]),open:o})),a},getPlotLinePath:function(t,e){var n,i,r,o,a=this,l=a.center,c=a.chart,d=a.getPosition(t);return a.isCircular?o=["M",l[0]+c.plotLeft,l[1]+c.plotTop,"L",d.x,d.y]:"circle"===a.options.gridLineInterpolation?(t=a.translate(t),t&&(o=a.getLinePath(0,t))):(n=c.xAxis[0],o=[],t=a.translate(t),r=n.tickPositions,n.autoConnect&&(r=r.concat([r[0]])),e&&(r=[].concat(r).reverse()),s(r,function(e,r){i=n.getPosition(e,t),o.push(r?"L":"M",i.x,i.y)})),o},getTitlePosition:function(){var t=this.center,e=this.chart,n=this.options.title;return{x:e.plotLeft+t[0]+(n.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[n.align]*t[2]+(n.y||0)}}};v(A,"init",function(t,i,r){var o,a,s,d,h,p,f=this,g=i.angular,v=i.polar,y=r.isX,b=g&&y,x=i.options,_=r.pane||0;g?(l(this,b?M:E),o=!y,o&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):v&&(l(this,E),o=y,this.defaultRadialOptions=y?this.defaultRadialXOptions:c(this.defaultYAxisOptions,this.defaultRadialYOptions)),t.call(this,i,r),b||!g&&!v||(d=this.options,i.panes||(i.panes=[]),this.pane=h=i.panes[_]=i.panes[_]||new n(m(x.pane)[_],i,f),p=h.options,i.inverted=!1,x.chart.zoomType=null,this.startAngleRad=a=(p.startAngle-90)*Math.PI/180,this.endAngleRad=s=(u(p.endAngle,p.startAngle+360)-90)*Math.PI/180,this.offset=d.offset||0,this.isCircular=o,o&&r.max===e&&s-a===2*Math.PI&&(this.autoConnect=!0))}),v(D,"getPosition",function(t,e,n,i,r){var o=this.axis;return o.getPosition?o.getPosition(n):t.call(this,e,n,i,r)}),v(D,"getLabelPosition",function(t,e,n,i,r,o,a,s,l){var c,d=this.axis,p=o.y,f=o.align,g=(d.translate(this.pos)+d.startAngleRad+Math.PI/2)/Math.PI*180%360;return d.isRadial?(c=d.getPosition(this.pos,d.center[2]/2+u(o.distance,-25)),"auto"===o.rotation?i.attr({rotation:g}):null===p&&(p=.9*h(i.styles.lineHeight)-i.getBBox().height/2),null===f&&(f=d.isCircular?g>20&&160>g?"left":g>200&&340>g?"right":"center":"center",i.attr({align:f})),c.x+=o.x,c.y+=p):c=t.call(this,e,n,i,r,o,a,s,l),c}),v(D,"getMarkPath",function(t,e,n,i,r,o,a){var s,l,c=this.axis;return c.isRadial?(s=c.getPosition(this.pos,c.center[2]/2+i),l=["M",e,n,"L",s.x,s.y]):l=t.call(this,e,n,i,r,o,a),l}),p.arearange=c(p.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0}}),f.arearange=t.extendClass(f.area,{type:"arearange",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"low",getSegments:function(){var t=this;s(t.points,function(e){t.options.connectNulls||null!==e.low&&null!==e.high?null===e.low&&null!==e.high&&(e.y=e.high):e.y=null}),x.prototype.getSegments.call(this)},translate:function(){var t=this,e=t.yAxis;f.area.prototype.translate.apply(t),s(t.points,function(t){var n=t.low,i=t.high,r=t.plotY;null===i&&null===n?t.y=null:null===n?(t.plotLow=t.plotY=null,t.plotHigh=e.translate(i,0,1,0,1)):null===i?(t.plotLow=r,t.plotHigh=null):(t.plotLow=r,t.plotHigh=e.translate(i,0,1,0,1))})},getSegmentPath:function(t){var e,n,i,r,o,a=[],s=t.length,l=x.prototype.getSegmentPath,c=this.options,d=c.step;for(e=HighchartsAdapter.grep(t,function(t){return null!==t.plotLow});s--;)n=t[s],null!==n.plotHigh&&a.push({plotX:n.plotX,plotY:n.plotHigh});return r=l.call(this,e),d&&(d===!0&&(d="left"),c.step={left:"right",center:"center",right:"left"}[d]),o=l.call(this,a),c.step=d,i=[].concat(r,o),o[0]="L",this.areaPath=this.areaPath.concat(r,o),i},drawDataLabels:function(){var t,e,n=this.data,i=n.length,r=[],o=x.prototype,a=this.options.dataLabels,s=this.chart.inverted;if(a.enabled||this._hasPointLabels){for(t=i;t--;)e=n[t],e.y=e.high,e.plotY=e.plotHigh,r[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=!1,s?(a.align="left",a.x=a.xHigh):a.y=a.yHigh;for(o.drawDataLabels.apply(this,arguments),t=i;t--;)e=n[t],e.dataLabelUpper=e.dataLabel,e.dataLabel=r[t],e.y=e.low,e.plotY=e.plotLow,e.below=!0,s?(a.align="right",a.x=a.xLow):a.y=a.yLow;o.drawDataLabels.apply(this,arguments)}},alignDataLabel:f.column.prototype.alignDataLabel,getSymbol:f.column.prototype.getSymbol,drawPoints:S}),p.areasplinerange=c(p.arearange),f.areasplinerange=g(f.arearange,{type:"areasplinerange",getPointSpline:f.spline.prototype.getPointSpline}),p.columnrange=c(p.column,p.arearange,{lineWidth:1,pointRange:null}),f.columnrange=g(f.arearange,{type:"columnrange",translate:function(){var t,e=this,n=e.yAxis;_.translate.apply(e),s(e.points,function(i){var r,o,a,s=i.shapeArgs,l=e.options.minPointLength;i.plotHigh=t=n.translate(i.high,0,1,0,1),i.plotLow=i.plotY,a=t,o=i.plotY-t,l>o&&(r=l-o,o+=r,a-=r/2),s.height=o,s.y=a})},trackerGroups:["group","dataLabels"],drawGraph:S,pointAttrToOptions:_.pointAttrToOptions,drawPoints:_.drawPoints,drawTracker:_.drawTracker,animate:_.animate,getColumnMetrics:_.getColumnMetrics}),p.gauge=c(p.line,{dataLabels:{enabled:!0,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,style:{fontWeight:"bold"},verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1});var N=t.extendClass(t.Point,{setState:function(t){this.state=t}}),L={type:"gauge",pointClass:N,angular:!0,drawGraph:S,fixedBox:!0,trackerGroups:["group","dataLabels"],translate:function(){var t=this,e=t.yAxis,n=t.options,i=e.center;t.generatePoints(),s(t.points,function(t){var r=c(n.dial,t.dial),o=h(u(r.radius,80))*i[2]/200,a=h(u(r.baseLength,70))*o/100,s=h(u(r.rearLength,10))*o/100,l=r.baseWidth||3,d=r.topWidth||1,p=e.startAngleRad+e.translate(t.y,null,null,null,!0);n.wrap===!1&&(p=Math.max(e.startAngleRad,Math.min(e.endAngleRad,p))),p=180*p/Math.PI,t.shapeType="path",t.shapeArgs={d:r.path||["M",-s,-l/2,"L",a,-l/2,o,-d/2,o,d/2,a,l/2,-s,l/2,"z"],translateX:i[0],translateY:i[1],rotation:p},t.plotX=i[0],t.plotY=i[1]})},drawPoints:function(){var t=this,e=t.yAxis.center,n=t.pivot,i=t.options,r=i.pivot,o=t.chart.renderer;s(t.points,function(e){var n=e.graphic,r=e.shapeArgs,a=r.d,s=c(i.dial,e.dial);n?(n.animate(r),r.d=a):e.graphic=o[e.shapeType](r).attr({stroke:s.borderColor||"none","stroke-width":s.borderWidth||0,fill:s.backgroundColor||"black",rotation:r.rotation}).add(t.group)}),n?n.animate({translateX:e[0],translateY:e[1]}):t.pivot=o.circle(0,0,u(r.radius,5)).attr({"stroke-width":r.borderWidth||0,stroke:r.borderColor||"silver",fill:r.backgroundColor||"black"}).translate(e[0],e[1]).add(t.group)},animate:function(t){var e=this;t||(s(e.points,function(t){var n=t.graphic;n&&(n.attr({rotation:180*e.yAxis.startAngleRad/Math.PI}),n.animate({rotation:t.shapeArgs.rotation},e.options.animation))}),e.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),f.pie.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:f.pie.prototype.setData,drawTracker:f.column.prototype.drawTracker};f.gauge=t.extendClass(f.line,L),p.boxplot=c(p.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{series.color};font-weight:bold">{series.name}</span><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2}),f.boxplot=g(f.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(t){return[t.low,t.q1,t.median,t.q3,t.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:S,translate:function(){var t=this,e=t.yAxis,n=t.pointArrayMap;f.column.prototype.translate.apply(t),s(t.points,function(t){s(n,function(n){null!==t[n]&&(t[n+"Plot"]=e.translate(t[n],0,1,0,1))})})},drawPoints:function(){var t,n,i,r,o,a,l,c,d,h,p,f,g,m,v,y,b,x,_,k,T,S,A=this,D=A.points,M=A.options,E=A.chart,N=E.renderer,L=A.doQuartiles!==!1,P=parseInt(A.options.whiskerLength,10)/100;s(D,function(s){d=s.graphic,T=s.shapeArgs,p={},m={},y={},S=s.color||A.color,s.plotY!==e&&(t=s.pointAttr[s.selected?"selected":""],b=T.width,x=C(T.x),_=x+b,k=w(b/2),n=C(L?s.q1Plot:s.lowPlot),i=C(L?s.q3Plot:s.lowPlot),r=C(s.highPlot),o=C(s.lowPlot),p.stroke=s.stemColor||M.stemColor||S,p["stroke-width"]=u(s.stemWidth,M.stemWidth,M.lineWidth),p.dashstyle=s.stemDashStyle||M.stemDashStyle,m.stroke=s.whiskerColor||M.whiskerColor||S,m["stroke-width"]=u(s.whiskerWidth,M.whiskerWidth,M.lineWidth),y.stroke=s.medianColor||M.medianColor||S,y["stroke-width"]=u(s.medianWidth,M.medianWidth,M.lineWidth),y["stroke-linecap"]="round",l=p["stroke-width"]%2/2,c=x+k+l,h=["M",c,i,"L",c,r,"M",c,n,"L",c,o,"z"],L&&(l=t["stroke-width"]%2/2,c=C(c)+l,n=C(n)+l,i=C(i)+l,x+=l,_+=l,f=["M",x,i,"L",x,n,"L",_,n,"L",_,i,"L",x,i,"z"]),P&&(l=m["stroke-width"]%2/2,r+=l,o+=l,g=["M",c-k*P,r,"L",c+k*P,r,"M",c-k*P,o,"L",c+k*P,o]),l=y["stroke-width"]%2/2,a=w(s.medianPlot)+l,v=["M",x,a,"L",_,a,"z"],d?(s.stem.animate({d:h}),P&&s.whiskers.animate({d:g}),L&&s.box.animate({d:f}),s.medianShape.animate({d:v})):(s.graphic=d=N.g().add(A.group),s.stem=N.path(h).attr(p).add(d),P&&(s.whiskers=N.path(g).attr(m).add(d)),L&&(s.box=N.path(f).attr(t).add(d)),s.medianShape=N.path(v).attr(y).add(d)))})}}),p.errorbar=c(p.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:p.arearange.tooltip.pointFormat},whiskerWidth:null}),f.errorbar=g(f.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"high",doQuartiles:!1,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||f.column.prototype.getColumnMetrics.call(this)}}),p.waterfall=c(p.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333"}),f.waterfall=g(f.column,{type:"waterfall",upColorProp:"fill",pointArrayMap:["low","y"],pointValKey:"y",init:function(t,e){e.stacking=!0,f.column.prototype.init.call(this,t,e)},translate:function(){var t,e,n,i,r,o,a,s,l,c=this,d=c.options,u=c.yAxis,h=d.threshold,p=d.borderWidth%2/2;for(f.column.prototype.translate.apply(this),s=h,n=c.points,e=0,t=n.length;t>e;e++)i=n[e],r=i.shapeArgs,o=c.getStack(e),l=o.points[c.index],isNaN(i.y)&&(i.y=c.yData[e]),a=T(s,s+i.y)+l[0],r.y=u.translate(a,0,1),i.isSum||i.isIntermediateSum?(r.y=u.translate(l[1],0,1),r.height=u.translate(l[0],0,1)-r.y):s+=o.total,r.height<0&&(r.y+=r.height,r.height*=-1),i.plotY=r.y=w(r.y)-p,r.height=w(r.height),i.yBottom=r.y+r.height},processData:function(t){var e,n,i,r,o,a,s,l=this,c=l.options,d=l.yData,u=l.points,h=d.length,p=c.threshold||0;for(i=n=r=o=p,s=0;h>s;s++)a=d[s],e=u&&u[s]?u[s]:{},"sum"===a||e.isSum?d[s]=i:"intermediateSum"===a||e.isIntermediateSum?(d[s]=n,n=p):(i+=a,n+=a),r=Math.min(i,r),o=Math.max(i,o);x.prototype.processData.call(this,t),l.dataMin=r,l.dataMax=o},toYData:function(t){return t.isSum?"sum":t.isIntermediateSum?"intermediateSum":t.y},getAttribs:function(){f.column.prototype.getAttribs.apply(this,arguments);var e=this,n=e.options,i=n.states,r=n.upColor||e.color,o=t.Color(r).brighten(.1).get(),a=c(e.pointAttr),l=e.upColorProp;a[""][l]=r,a.hover[l]=i.hover.upColor||o,a.select[l]=i.select.upColor||r,s(e.points,function(t){t.y>0&&!t.color&&(t.pointAttr=a,t.color=r)})},getGraphPath:function(){var t,e,n,i,r=this.data,o=r.length,a=this.options.lineWidth+this.options.borderWidth,s=w(a)%2/2,l=[],c="M",d="L";for(n=1;o>n;n++)e=r[n].shapeArgs,t=r[n-1].shapeArgs,i=[c,t.x+t.width,t.y+s,d,e.x,t.y+s],r[n-1].y<0&&(i[2]+=t.height,i[5]+=t.height),l=l.concat(i);return l},getExtremes:S,getStack:function(t){var e=this.yAxis,n=e.stacks,i=this.stackKey;return this.processedYData[t]<this.options.threshold&&(i="-"+i),n[i][t]},drawGraph:x.prototype.drawGraph}),p.bubble=c(p.scatter,{dataLabels:{inside:!0,style:{color:"white",textShadow:"0px 0px 3px black"},verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0}),f.bubble=g(f.scatter,{type:"bubble",pointArrayMap:["y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(e){var n=this.options.marker,i=u(n.fillOpacity,.5);return e=e||n.fillColor||this.color,1!==i&&(e=t.Color(e).setOpacity(i).get("rgba")),e},convertAttribs:function(){var t=x.prototype.convertAttribs.apply(this,arguments);return t.fill=this.applyOpacity(t.fill),t},getRadii:function(t,e,n,i){var r,o,a,s,l=this.zData,c=[],d="width"!==this.options.sizeBy;for(o=0,r=l.length;r>o;o++)s=e-t,a=s>0?(l[o]-t)/(e-t):.5,d&&(a=Math.sqrt(a)),c.push(k.ceil(n+a*(i-n))/2);this.radii=c},animate:function(t){var e=this.options.animation;t||(s(this.points,function(t){var n=t.graphic,i=t.shapeArgs;n&&i&&(n.attr("r",1),n.animate({r:i.r},e))}),this.animate=null)},translate:function(){var t,n,i,r=this.data,o=this.radii;for(f.scatter.prototype.translate.call(this),t=r.length;t--;)n=r[t],i=o?o[t]:0,n.negative=n.z<(this.options.zThreshold||0),i>=this.minPxSize/2?(n.shapeType="circle",n.shapeArgs={x:n.plotX,y:n.plotY,r:i},n.dlBox={x:n.plotX-i,y:n.plotY-i,width:2*i,height:2*i}):n.shapeArgs=n.plotY=n.dlBox=e},drawLegendSymbol:function(t,e){var n=h(t.itemStyle.fontSize)/2;e.legendSymbol=this.chart.renderer.circle(n,t.baseline-n,n).attr({zIndex:3}).add(e.legendGroup),e.legendSymbol.isMarker=!0},drawPoints:f.column.prototype.drawPoints,alignDataLabel:f.column.prototype.alignDataLabel}),y.prototype.beforePadding=function(){var t=this,n=this.len,i=this.chart,r=0,l=n,c=this.isXAxis,d=c?"xData":"yData",p=this.min,f={},g=k.min(i.plotWidth,i.plotHeight),m=Number.MAX_VALUE,v=-Number.MAX_VALUE,y=this.max-p,b=n/y,x=[];this.tickPositions&&(s(this.series,function(e){var n,i=e.options;e.bubblePadding&&e.visible&&(t.allowZoomOutside=!0,x.push(e),c&&(s(["minSize","maxSize"],function(t){var e=i[t],n=/%$/.test(e);e=h(e),f[t]=n?g*e/100:e}),e.minPxSize=f.minSize,n=e.zData,n.length&&(m=k.min(m,k.max(o(n),i.displayNegative===!1?i.zThreshold:-Number.MAX_VALUE)),v=k.max(v,a(n)))))}),s(x,function(t){var e,n=t[d],i=n.length;if(c&&t.getRadii(m,v,f.minSize,f.maxSize),y>0)for(;i--;)null!==n[i]&&(e=t.radii[i],r=Math.min((n[i]-p)*b-e,r),l=Math.max((n[i]-p)*b+e,l))}),x.length&&y>0&&u(this.options.min,this.userMin)===e&&u(this.options.max,this.userMax)===e&&(l-=n,b*=(n+r-l)/n,this.min+=r/b,this.max+=l/b))};var P=x.prototype,I=t.Pointer.prototype;P.toXY=function(t){var e,n=this.chart,i=t.plotX,r=t.plotY;t.rectPlotX=i,t.rectPlotY=r,t.clientX=(i/Math.PI*180+this.xAxis.pane.options.startAngle)%360,e=this.xAxis.postTranslate(t.plotX,this.yAxis.len-r),t.plotX=t.polarPlotX=e.x-n.plotLeft,t.plotY=t.polarPlotY=e.y-n.plotTop},P.orderTooltipPoints=function(t){this.chart.polar&&(t.sort(function(t,e){return t.clientX-e.clientX}),t[0]&&(t[0].wrappedClientX=t[0].clientX+360,t.push(t[0])))},v(f.area.prototype,"init",i),v(f.areaspline.prototype,"init",i),v(f.spline.prototype,"getPointSpline",function(t,e,n,i){var r,o,a,s,l,c,d,u,h,p,f,g,m,v,y,b,x,_,k=1.5,w=k+1;return this.chart.polar?(o=n.plotX,a=n.plotY,s=e[i-1],l=e[i+1],this.connectEnds&&(s||(s=e[e.length-2]),l||(l=e[1])),s&&l&&(c=s.plotX,d=s.plotY,u=l.plotX,h=l.plotY,p=(k*o+c)/w,f=(k*a+d)/w,g=(k*o+u)/w,m=(k*a+h)/w,v=Math.sqrt(Math.pow(p-o,2)+Math.pow(f-a,2)),y=Math.sqrt(Math.pow(g-o,2)+Math.pow(m-a,2)),b=Math.atan2(f-a,p-o),x=Math.atan2(m-a,g-o),_=Math.PI/2+(b+x)/2,Math.abs(b-_)>Math.PI/2&&(_-=Math.PI),p=o+Math.cos(_)*v,f=a+Math.sin(_)*v,g=o+Math.cos(Math.PI+_)*y,m=a+Math.sin(Math.PI+_)*y,n.rightContX=g,n.rightContY=m),i?(r=["C",s.rightContX||s.plotX,s.rightContY||s.plotY,p||o,f||a,o,a],s.rightContX=s.rightContY=null):r=["M",o,a]):r=t.call(this,e,n,i),r}),v(P,"translate",function(t){if(t.call(this),this.chart.polar&&!this.preventPostTranslate)for(var e=this.points,n=e.length;n--;)this.toXY(e[n])}),v(P,"getSegmentPath",function(t,e){var n=this.points;return this.chart.polar&&this.options.connectEnds!==!1&&e[e.length-1]===n[n.length-1]&&null!==n[0].y&&(this.connectEnds=!0,e=[].concat(e,[n[0]])),t.call(this,e)}),v(P,"animate",r),v(_,"animate",r),v(P,"setTooltipPoints",function(t,e){return this.chart.polar&&l(this.xAxis,{tooltipLen:360}),t.call(this,e)}),v(_,"translate",function(t){var e,n,i,r,o=this.xAxis,a=this.yAxis.len,s=o.center,l=o.startAngleRad,c=this.chart.renderer;if(this.preventPostTranslate=!0,t.call(this),o.isRadial)for(n=this.points,r=n.length;r--;)i=n[r],e=i.barX+l,i.shapeType="path",i.shapeArgs={d:c.symbols.arc(s[0],s[1],a-i.plotY,null,{start:e,end:e+i.pointWidth,innerR:a-u(i.yBottom,a)})},this.toXY(i)}),v(_,"alignDataLabel",function(t,e,n,i,r,o){if(this.chart.polar){var a,s,l=e.rectPlotX/Math.PI*180;null===i.align&&(a=l>20&&160>l?"left":l>200&&340>l?"right":"center",i.align=a),null===i.verticalAlign&&(s=45>l||l>315?"bottom":l>135&&225>l?"top":"middle",i.verticalAlign=s),P.alignDataLabel.call(this,e,n,i,r,o)}else t.call(this,e,n,i,r,o)}),v(I,"getIndex",function(t,e){var n,i,r,o,a=this.chart;return a.polar?(i=a.xAxis[0].center,r=e.chartX-i[0]-a.plotLeft,o=e.chartY-i[1]-a.plotTop,n=180-Math.round(Math.atan2(r,o)/Math.PI*180)):n=t.call(this,e),n}),v(I,"getCoordinates",function(t,e){var n=this.chart,i={xAxis:[],yAxis:[]};return n.polar?s(n.axes,function(t){var r=t.isXAxis,o=t.center,a=e.chartX-o[0]-n.plotLeft,s=e.chartY-o[1]-n.plotTop;i[r?"xAxis":"yAxis"].push({axis:t,value:t.translate(r?Math.PI-Math.atan2(a,s):Math.sqrt(Math.pow(a,2)+Math.pow(s,2)),!0)})}):i=t.call(this,e),i})}(Highcharts),function(t){var e=t.each,n=function(t,e){this.init(t,e)};t.extend(n.prototype,{init:function(t,e){this.options=t,this.chartOptions=e,this.columns=t.columns||this.rowsToColumns(t.rows)||[],this.columns.length?this.dataFound():(this.parseCSV(),this.parseTable(),this.parseGoogleSpreadsheet())},getColumnDistribution:function(){var n=this.chartOptions,i=function(e){return(t.seriesTypes[e||"line"].prototype.pointArrayMap||[0]).length},r=n&&n.chart&&n.chart.type,o=[];e(n&&n.series||[],function(t){o.push(i(t.type||r))}),this.valueCount={global:i(r),individual:o}},dataFound:function(){this.parseTypes(),this.findHeaderRow(),this.parsed(),this.complete()},parseCSV:function(){var t,n=this,i=this.options,r=i.csv,o=this.columns,a=i.startRow||0,s=i.endRow||Number.MAX_VALUE,l=i.startColumn||0,c=i.endColumn||Number.MAX_VALUE,d=0;r&&(t=r.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(i.lineDelimiter||"\n"),e(t,function(t,r){var u,h=n.trim(t),p=0===h.indexOf("#"),f=""===h;r>=a&&s>=r&&!p&&!f&&(u=t.split(i.itemDelimiter||","),e(u,function(t,e){e>=l&&c>=e&&(o[e-l]||(o[e-l]=[]),o[e-l][d]=t)}),d+=1)}),this.dataFound())},parseTable:function(){var t,n=this.options,i=n.table,r=this.columns,o=n.startRow||0,a=n.endRow||Number.MAX_VALUE,s=n.startColumn||0,l=n.endColumn||Number.MAX_VALUE;i&&("string"==typeof i&&(i=document.getElementById(i)),e(i.getElementsByTagName("tr"),function(n,i){t=0,i>=o&&a>=i&&e(n.childNodes,function(e){("TD"===e.tagName||"TH"===e.tagName)&&t>=s&&l>=t&&(r[t]||(r[t]=[]),r[t][i-o]=e.innerHTML,t+=1)})}),this.dataFound())},parseGoogleSpreadsheet:function(){var t,e,n=this,i=this.options,r=i.googleSpreadsheetKey,o=this.columns,a=i.startRow||0,s=i.endRow||Number.MAX_VALUE,l=i.startColumn||0,c=i.endColumn||Number.MAX_VALUE;
r&&jQuery.getJSON("https://spreadsheets.google.com/feeds/cells/"+r+"/"+(i.googleSpreadsheetWorksheet||"od6")+"/public/values?alt=json-in-script&callback=?",function(i){var r,d,u=i.feed.entry,h=u.length,p=0,f=0;for(d=0;h>d;d++)r=u[d],p=Math.max(p,r.gs$cell.col),f=Math.max(f,r.gs$cell.row);for(d=0;p>d;d++)d>=l&&c>=d&&(o[d-l]=[],o[d-l].length=Math.min(f,s-a));for(d=0;h>d;d++)r=u[d],t=r.gs$cell.row-1,e=r.gs$cell.col-1,e>=l&&c>=e&&t>=a&&s>=t&&(o[e-l][t-a]=r.content.$t);n.dataFound()})},findHeaderRow:function(){var t=0;e(this.columns,function(e){"string"!=typeof e[0]&&(t=null)}),this.headerRow=0},trim:function(t){return"string"==typeof t?t.replace(/^\s+|\s+$/g,""):t},parseTypes:function(){for(var t,e,n,i,r,o=this.columns,a=o.length;a--;)for(t=o[a].length;t--;)e=o[a][t],n=parseFloat(e),i=this.trim(e),i==n?(o[a][t]=n,n>31536e6?o[a].isDatetime=!0:o[a].isNumeric=!0):(r=this.parseDate(e),0!==a||"number"!=typeof r||isNaN(r)?o[a][t]=""===i?null:i:(o[a][t]=r,o[a].isDatetime=!0))},dateFormats:{"YYYY-mm-dd":{regex:"^([0-9]{4})-([0-9]{2})-([0-9]{2})$",parser:function(t){return Date.UTC(+t[1],t[2]-1,+t[3])}}},parseDate:function(t){var e,n,i,r,o=this.options.parseDate;if(o&&(e=o(t)),"string"==typeof t)for(n in this.dateFormats)i=this.dateFormats[n],r=t.match(i.regex),r&&(e=i.parser(r));return e},rowsToColumns:function(t){var e,n,i,r,o;if(t)for(o=[],n=t.length,e=0;n>e;e++)for(r=t[e].length,i=0;r>i;i++)o[i]||(o[i]=[]),o[i][e]=t[e][i];return o},parsed:function(){this.options.parsed&&this.options.parsed.call(this,this.columns)},complete:function(){var e,n,i,r,o,a,s,l,c=this.columns,d=this.options;if(d.complete){for(this.getColumnDistribution(),c.length>1&&(e=c.shift(),0===this.headerRow&&e.shift(),e.isDatetime?n="datetime":e.isNumeric||(n="category")),a=0;a<c.length;a++)0===this.headerRow&&(c[a].name=c[a].shift());for(r=[],a=0,l=0;a<c.length;l++){for(i=t.pick(this.valueCount.individual[l],this.valueCount.global),o=[],s=0;s<c[a].length;s++)o[s]=[e[s],void 0!==c[a][s]?c[a][s]:null],i>1&&o[s].push(void 0!==c[a+1][s]?c[a+1][s]:null),i>2&&o[s].push(void 0!==c[a+2][s]?c[a+2][s]:null),i>3&&o[s].push(void 0!==c[a+3][s]?c[a+3][s]:null),i>4&&o[s].push(void 0!==c[a+4][s]?c[a+4][s]:null);r[l]={name:c[a].name,data:o},a+=i}d.complete({xAxis:{type:n},series:r})}}}),t.Data=n,t.data=function(t,e){return new n(t,e)},t.wrap(t.Chart.prototype,"init",function(n,i,r){var o=this;i&&i.data?t.data(t.extend(i.data,{complete:function(a){i.series&&e(i.series,function(e,n){i.series[n]=t.merge(e,a.series[n])}),i=t.merge(a,i),n.call(o,i,r)}}),i):n.call(o,i,r)})}(Highcharts),function(t){var e,n,i=t.Chart,r=t.addEvent,o=t.removeEvent,a=t.createElement,s=t.discardElement,l=t.css,c=t.merge,d=t.each,u=t.extend,h=Math,p=h.max,f=document,g=window,m=t.isTouchDevice,v="M",y="L",b="div",x="hidden",_="none",k="highcharts-",w="absolute",C="px",T=t.Renderer.prototype.symbols,S=t.getOptions();u(S.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),S.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:_,color:"#303030",fontSize:m?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}},S.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:k+"contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},t.post=function(t,e){var n,i;i=a("form",{method:"post",action:t,enctype:"multipart/form-data"},{display:_},f.body);for(n in e)a("input",{type:x,name:n,value:e[n]},null,i);i.submit(),s(i)},u(i.prototype,{getSVG:function(n){var i,r,o,l,h,p,g,m,v=this,y=c(v.options,n);return f.createElementNS||(f.createElementNS=function(t,e){return f.createElement(e)}),r=a(b,null,{position:w,top:"-9999em",width:v.chartWidth+C,height:v.chartHeight+C},f.body),g=v.renderTo.style.width,m=v.renderTo.style.height,h=y.exporting.sourceWidth||y.chart.width||/px$/.test(g)&&parseInt(g,10)||600,p=y.exporting.sourceHeight||y.chart.height||/px$/.test(m)&&parseInt(m,10)||400,u(y.chart,{animation:!1,renderTo:r,forExport:!0,width:h,height:p}),y.exporting.enabled=!1,y.series=[],d(v.series,function(t){l=c(t.options,{animation:!1,showCheckbox:!1,visible:t.visible}),l.isInternal||y.series.push(l)}),i=new t.Chart(y,v.callback),d(["xAxis","yAxis"],function(t){d(v[t],function(n,r){var o=i[t][r],a=n.getExtremes(),s=a.userMin,l=a.userMax;!o||s===e&&l===e||o.setExtremes(s,l,!0,!1)})}),o=i.container.innerHTML,y=null,i.destroy(),s(r),o=o.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(t){return t.toLowerCase()}),o=o.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},exportChart:function(e,n){e=e||{};var i=this,r=i.options.exporting,o=i.getSVG(c({chart:{borderRadius:0}},r.chartOptions,n,{exporting:{sourceWidth:e.sourceWidth||r.sourceWidth,sourceHeight:e.sourceHeight||r.sourceHeight}}));e=c(i.options.exporting,e),t.post(e.url,{filename:e.filename||"chart",type:e.type,width:e.width||0,scale:e.scale||2,svg:o})},print:function(){var t=this,e=t.container,n=[],i=e.parentNode,r=f.body,o=r.childNodes;t.isPrinting||(t.isPrinting=!0,d(o,function(t,e){1===t.nodeType&&(n[e]=t.style.display,t.style.display=_)}),r.appendChild(e),g.focus(),g.print(),setTimeout(function(){i.appendChild(e),d(o,function(t,e){1===t.nodeType&&(t.style.display=n[e])}),t.isPrinting=!1},1e3))},contextMenu:function(t,e,n,i,o,s,c){var h,f,g,m,v=this,y=v.options.navigation,x=y.menuItemStyle,k=v.chartWidth,T=v.chartHeight,S="cache-"+t,A=v[S],D=p(o,s),M="3px 3px 10px #888";A||(v[S]=A=a(b,{className:t},{position:w,zIndex:1e3,padding:D+C},v.container),h=a(b,null,u({MozBoxShadow:M,WebkitBoxShadow:M,boxShadow:M},y.menuStyle),A),f=function(){l(A,{display:_}),c&&c.setState(0),v.openMenu=!1},r(A,"mouseleave",function(){g=setTimeout(f,500)}),r(A,"mouseenter",function(){clearTimeout(g)}),r(document,"mouseup",function(e){v.pointer.inClass(e.target,t)||f()}),d(e,function(t){if(t){var e=t.separator?a("hr",null,null,h):a(b,{onmouseover:function(){l(this,y.menuItemHoverStyle)},onmouseout:function(){l(this,x)},onclick:function(){f(),t.onclick.apply(v,arguments)},innerHTML:t.text||v.options.lang[t.textKey]},u({cursor:"pointer"},x),h);v.exportDivElements.push(e)}}),v.exportDivElements.push(h,A),v.exportMenuWidth=A.offsetWidth,v.exportMenuHeight=A.offsetHeight),m={display:"block"},n+v.exportMenuWidth>k?m.right=k-n-o-D+C:m.left=n-D+C,i+s+v.exportMenuHeight>T&&"top"!==c.alignOptions.verticalAlign?m.bottom=T-i-D+C:m.top=i+s-D+C,l(A,m),v.openMenu=!0},addButton:function(e){var i,r,o=this,a=o.renderer,s=c(o.options.navigation.buttonOptions,e),l=s.onclick,d=s.menuItems,h={stroke:s.symbolStroke,fill:s.symbolFill},p=s.symbolSize||12;if(o.btnCount||(o.btnCount=0),o.exportDivElements||(o.exportDivElements=[],o.exportSVGElements=[]),s.enabled!==!1){var f,g=s.theme,m=g.states,v=m&&m.hover,y=m&&m.select;delete g.states,l?f=function(){l.apply(o,arguments)}:d&&(f=function(){o.contextMenu(r.menuClassName,d,r.translateX,r.translateY,r.width,r.height,r),r.setState(2)}),s.text&&s.symbol?g.paddingLeft=t.pick(g.paddingLeft,25):s.text||u(g,{width:s.width,height:s.height,padding:0}),r=a.button(s.text,0,0,f,g,v,y).attr({title:o.options.lang[s._titleKey],"stroke-linecap":"round"}),r.menuClassName=e.menuClassName||k+"menu-"+o.btnCount++,s.symbol&&(i=a.symbol(s.symbol,s.symbolX-p/2,s.symbolY-p/2,p,p).attr(u(h,{"stroke-width":s.symbolStrokeWidth||1,zIndex:1})).add(r)),r.add().align(u(s,{width:r.width,x:t.pick(s.x,n)}),!0,"spacingBox"),n+=(r.width+s.buttonSpacing)*("right"===s.align?-1:1),o.exportSVGElements.push(r,i)}},destroyExport:function(t){var e,n,i=t.target;for(e=0;e<i.exportSVGElements.length;e++)n=i.exportSVGElements[e],n&&(n.onclick=n.ontouchstart=null,i.exportSVGElements[e]=n.destroy());for(e=0;e<i.exportDivElements.length;e++)n=i.exportDivElements[e],o(n,"mouseleave"),i.exportDivElements[e]=n.onmouseout=n.onmouseover=n.ontouchstart=n.onclick=null,s(n)}}),T.menu=function(t,e,n,i){var r=[v,t,e+2.5,y,t+n,e+2.5,v,t,e+i/2+.5,y,t+n,e+i/2+.5,v,t,e+i-1.5,y,t+n,e+i-1.5];return r},i.prototype.callbacks.push(function(t){var e,i=t.options.exporting,o=i.buttons;if(n=0,i.enabled!==!1){for(e in o)t.addButton(o[e]);r(t,"destroy",t.destroyExport)}})}(Highcharts),Highcharts.theme={colors:["#DDDF0D","#55BF3B","#DF5353","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:{linearGradient:{x1:0,y1:0,x2:1,y2:1},stops:[[0,"rgb(48, 48, 96)"],[1,"rgb(0, 0, 0)"]]},borderColor:"#000000",borderWidth:2,className:"dark-container",plotBackgroundColor:"rgba(255, 255, 255, .1)",plotBorderColor:"#CCCCCC",plotBorderWidth:1},title:{style:{color:"#C0C0C0",font:'bold 16px "Trebuchet MS", Verdana, sans-serif'}},subtitle:{style:{color:"#666666",font:'bold 12px "Trebuchet MS", Verdana, sans-serif'}},xAxis:{gridLineColor:"#333333",gridLineWidth:1,labels:{style:{color:"#A0A0A0"}},lineColor:"#A0A0A0",tickColor:"#A0A0A0",title:{style:{color:"#CCC",fontWeight:"bold",fontSize:"12px",fontFamily:"Trebuchet MS, Verdana, sans-serif"}}},yAxis:{gridLineColor:"#333333",labels:{style:{color:"#A0A0A0"}},lineColor:"#A0A0A0",minorTickInterval:null,tickColor:"#A0A0A0",tickWidth:1,title:{style:{color:"#CCC",fontWeight:"bold",fontSize:"12px",fontFamily:"Trebuchet MS, Verdana, sans-serif"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.75)",style:{color:"#F0F0F0"}},toolbar:{itemStyle:{color:"silver"}},plotOptions:{line:{dataLabels:{color:"#CCC"},marker:{lineColor:"#333"}},spline:{marker:{lineColor:"#333"}},scatter:{marker:{lineColor:"#333"}},candlestick:{lineColor:"white"}},legend:{itemStyle:{font:"9pt Trebuchet MS, Verdana, sans-serif",color:"#A0A0A0"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#444"}},credits:{style:{color:"#666"}},labels:{style:{color:"#CCC"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",hoverSymbolStroke:"#FFFFFF",theme:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#606060"],[.6,"#333333"]]},stroke:"#000000"}}},rangeSelector:{buttonTheme:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},stroke:"#000000",style:{color:"#CCC",fontWeight:"bold"},states:{hover:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#BBB"],[.6,"#888"]]},stroke:"#000000",style:{color:"white"}},select:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.1,"#000"],[.3,"#333"]]},stroke:"#000000",style:{color:"yellow"}}}},inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(16, 16, 16, 0.5)",series:{color:"#7798BF",lineColor:"#A6C7ED"}},scrollbar:{barBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},barBorderColor:"#CCC",buttonArrowColor:"#CCC",buttonBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},buttonBorderColor:"#CCC",rifleColor:"#FFF",trackBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#000"],[1,"#333"]]},trackBorderColor:"#666"},legendBackgroundColor:"rgba(0, 0, 0, 0.5)",legendBackgroundColorSolid:"rgb(35, 35, 70)",dataLabelsColor:"#444",textColor:"#C0C0C0",maskColor:"rgba(255,255,255,0.3)"};var highchartsOptions=Highcharts.setOptions(Highcharts.theme);!function(t){"use strict";var e=t.getOptions(),n=e.plotOptions,i=t.seriesTypes,r=t.merge,o=function(){},a=t.each;n.funnel=r(n.pie,{center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",dataLabels:{connectorWidth:1,connectorColor:"#606060"},size:!0,states:{select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}}}),i.funnel=t.extendClass(i.pie,{type:"funnel",animate:o,translate:function(){var t,e,n,i,r,s,l,c,d,u,h,p=function(t,e){return/%$/.test(t)?e*parseInt(t,10)/100:parseInt(t,10)},f=0,g=this,m=g.chart,v=m.plotWidth,y=m.plotHeight,b=0,x=g.options,_=x.center,k=p(_[0],v),w=p(_[0],y),C=p(x.width,v),T=p(x.height,y),S=p(x.neckWidth,v),A=p(x.neckHeight,y),D=T-A,M=g.data,E="left"===x.dataLabels.position?1:0;g.getWidthAt=e=function(t){return t>T-A||T===A?S:S+(C-S)*((T-A-t)/(T-A))},g.getX=function(t,n){return k+(n?-1:1)*(e(t)/2+x.dataLabels.distance)},g.center=[k,w,T],g.centerX=k,a(M,function(t){f+=t.y}),a(M,function(a){h=null,i=f?a.y/f:0,s=w-T/2+b*T,d=s+i*T,t=e(s),r=k-t/2,l=r+t,t=e(d),c=k-t/2,u=c+t,s>D?(r=c=k-S/2,l=u=k+S/2):d>D&&(h=d,t=e(D),c=k-t/2,u=c+t,d=D),n=["M",r,s,"L",l,s,u,d],h&&n.push(u,h,c,h),n.push(c,d,"Z"),a.shapeType="path",a.shapeArgs={d:n},a.percentage=100*i,a.plotX=k,a.plotY=(s+(h||d))/2,a.tooltipPos=[k,a.plotY],a.slice=o,a.half=E,b+=i}),g.setTooltipPoints()},drawPoints:function(){var t=this,e=t.options,n=t.chart,i=n.renderer;a(t.data,function(n){var r=n.graphic,o=n.shapeArgs;r?r.animate(o):n.graphic=i.path(o).attr({fill:n.color,stroke:e.borderColor,"stroke-width":e.borderWidth}).add(t.group)})},sortByAngle:o,drawDataLabels:function(){var t,e,n,r,o,a=this.data,s=this.options.dataLabels.distance,l=a.length;for(this.center[2]-=2*s;l--;)n=a[l],t=n.half,e=t?1:-1,o=n.plotY,r=this.getX(o,t),n.labelPos=[0,o,r+(s-5)*e,o,r+s*e,o,t?"right":"left",0];i.pie.prototype.drawDataLabels.call(this)}})}(Highcharts),/*!
 * jQuery UI Core 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
function(t,e){function n(e,n){var r,o,a,s=e.nodeName.toLowerCase();return"area"===s?(r=e.parentNode,o=r.name,e.href&&o&&"map"===r.nodeName.toLowerCase()?(a=t("img[usemap=#"+o+"]")[0],!!a&&i(a)):!1):(/input|select|textarea|button|object/.test(s)?!e.disabled:"a"===s?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(n){if(n!==e)return this.css("zIndex",n);if(this.length)for(var i,r,o=t(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(e){return n(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(e,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(n,i){function r(e,n,i,r){return t.each(o,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(n){return n===e?s["inner"+i].call(this):this.each(function(){t(this).css(a,r(this,n)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?s["outer"+i].call(this,e):this.each(function(){t(this).css(a,r(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n){var i,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)t.options[r[i][0]]&&r[i][1].apply(t.element,n)}},hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0?!0:(e[i]=1,r=e[i]>0,e[i]=0,r)}})}(jQuery),/*!
 * jQuery UI Datepicker 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 *
 * Depends:
 *	jquery.ui.core.js
 */
function(t,e){function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=i(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(n,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",function(){t.datepicker._isDisabledDatepicker(o.inline?e.parent()[0]:o.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function r(e,n){t.extend(e,n);for(var i in n)null==n[i]&&(e[i]=n[i]);return e}t.extend(t.ui,{datepicker:{version:"1.10.3"}});var o,a="datepicker";t.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,o;i=e.nodeName.toLowerCase(),r="div"===i||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),r),o.settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,n){var r=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?i(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),t.data(e,a,n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,o,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[s?"before":"after"](n.append)),e.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),("focus"===i||"both"===i)&&e.focus(this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[s?"before":"after"](n.trigger),n.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(n=0,i=0,r=0;r<t.length;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,a,n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,o,s){var l,c,d,u,h,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},t.data(this._dialogInput[0],a,p)),r(p.settings,o||{}),n=n&&n.constructor===Date?this._formatDate(p,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(c=document.documentElement.clientWidth,d=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+u,d/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],a,p),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,a);i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,a),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,a);r.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,a);r.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,a)}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(n,i,o){var a,s,l,c,d=this._getInst(n);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):d?"all"===i?t.extend({},d.settings):this._get(d,i):null:(a=i||{},"string"==typeof i&&(a={},a[i]=o),d&&(this._curInst===d&&this._hideDatepicker(),s=this._getDateDatepicker(n,!0),l=this._getMinMaxDate(d,"min"),c=this._getMinMaxDate(d,"max"),r(d.settings,a),null!==l&&a.dateFormat!==e&&a.minDate===e&&(d.settings.minDate=this._formatDate(d,l)),null!==c&&a.dateFormat!==e&&a.maxDate===e&&(d.settings.maxDate=this._formatDate(d,c)),"disabled"in a&&(a.disabled?this._disableDatepicker(n):this._enableDatepicker(n)),this._attachments(t(n),d),this._autoSize(d),this._setDate(d,s),this._updateAlternate(d),this._updateDatepicker(d)),void 0)},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),r[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),n=t.datepicker._get(o,"onSelect"),n?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);return t.datepicker._get(r,"constrainInput")?(n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(e){var n,i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{n=t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i)),n&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(r){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var n,i,o,a,s,l,c;n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),i=t.datepicker._get(n,"beforeShow"),o=i?i.apply(e,[e,n]):{},o!==!1&&(r(n.settings,o),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each(function(){return a|="fixed"===t(this).css("position"),!a}),s={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),s=t.datepicker._checkOffset(n,s,a),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),n.inline||(l=t.datepicker._get(n,"showAnim"),c=t.datepicker._get(n,"duration"),n.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?n.dpDiv.show(l,t.datepicker._get(n,"showOptions"),c):n.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(n)&&n.input.focus(),t.datepicker._curInst=n))}},_updateDatepicker:function(e){this.maxRows=4,o=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var n,i=this._getNumberOfMonths(e),r=i[1],a=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",a*r+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-a:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+s?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+o>c&&c>o?Math.abs(o+s):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return n=t(e).offset(),[n.left,n.top]},_hideDatepicker:function(e){var n,i,r,o,s=this._curInst;!s||e&&s!==t.data(e,a)||this._datepickerShowing&&(n=this._get(s,"showAnim"),i=this._get(s,"duration"),r=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[n]||t.effects[n])?s.dpDiv.hide(n,t.datepicker._get(s,"showOptions"),i,r):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,o=this._get(s,"onClose"),o&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id!==t.datepicker._mainDivId&&0===n.parents("#"+t.datepicker._mainDivId).length&&!n.hasClass(t.datepicker.markerClassName)&&!n.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||n.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==i)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,a=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),i=this._get(o,"onSelect"),i?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(o).each(function(){t(this).val(r)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(n="object"==typeof n?n.toString():n+"",""===n)return null;var r,o,a,s,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),u=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,b=!1,x=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},_=function(t){var e=x(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r=new RegExp("^\\d{1,"+i+"}"),o=n.substring(l).match(r);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},k=function(e,i,r){var o=-1,a=t.map(x(e)?r:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var i=e[1];return n.substr(l,i.length).toLowerCase()===i.toLowerCase()?(o=e[0],l+=i.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},w=function(){if(n.charAt(l)!==e.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<e.length;r++)if(b)"'"!==e.charAt(r)||x("'")?w():b=!1;else switch(e.charAt(r)){case"d":v=_("d");break;case"D":k("D",u,h);break;case"o":y=_("o");break;case"m":m=_("m");break;case"M":m=k("M",p,f);break;case"y":g=_("y");break;case"@":s=new Date(_("@")),g=s.getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"!":s=new Date((_("!")-this._ticksTo1970)/1e4),g=s.getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"'":x("'")?w():b=!0;break;default:w()}if(l<n.length&&(a=n.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=g?0:-100)),y>-1)for(m=1,v=y;;){if(o=this._getDaysInMonth(g,m-1),o>=v)break;m++,v-=o}if(s=this._daylightSavingAdjust(new Date(g,m-1,v)),s.getFullYear()!==g||s.getMonth()+1!==m||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},c=function(t,e,n){var i=""+e;if(l(t))for(;i.length<n;)i="0"+i;return i},d=function(t,e,n,i){return l(t)?i[e]:n[e]},u="",h=!1;if(e)for(i=0;i<t.length;i++)if(h)"'"!==t.charAt(i)||l("'")?u+=t.charAt(i):h=!1;else switch(t.charAt(i)){case"d":u+=c("d",e.getDate(),2);break;case"D":u+=d("D",e.getDay(),r,o);break;case"o":u+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=c("m",e.getMonth()+1,2);break;case"M":u+=d("M",e.getMonth(),a,s);break;case"y":u+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":h=!0;break;default:u+=t.charAt(i)}return u},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,n){return t.settings[n]!==e?t.settings[n]:this._defaults[n]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,a=this._getFormatConfig(t);try{o=this.parseDate(n,i,a)||r}catch(s){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(i){}for(var r=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=r.getFullYear(),a=r.getMonth(),s=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(n);c;){switch(c[2]||"d"){case"d":case"D":s+=parseInt(c[1],10);break;case"w":case"W":s+=7*parseInt(c[1],10);break;case"m":case"M":a+=parseInt(c[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(c[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,a))}c=l.exec(n)}return new Date(o,a,s)},a=null==n||""===n?i:"string"==typeof n?o(n):"number"==typeof n?isNaN(n)?i:r(n):new Date(n.getTime());return a=a&&"Invalid Date"===a.toString()?i:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,a,s,l,c,d,u,h,p,f,g,m,v,y,b,x,_,k,w,C,T,S,A,D,M,E,N,L,P,I,O,K,R,B,H,F=new Date,z=this._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth(),F.getDate())),W=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),Y=this._get(t,"hideIfNoPrevNext"),X=this._get(t,"navigationAsDateFormat"),G=this._getNumberOfMonths(t),$=this._get(t,"showCurrentAtPos"),V=this._get(t,"stepMonths"),U=1!==G[0]||1!==G[1],q=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),J=t.drawMonth-$,te=t.drawYear;if(0>J&&(J+=12,te--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-G[0]*G[1]+1,Q.getDate())),e=Z&&Z>e?Z:e;this._daylightSavingAdjust(new Date(te,J,1))>e;)J--,0>J&&(J=11,te--);for(t.drawMonth=J,t.drawYear=te,n=this._get(t,"prevText"),n=X?this.formatDate(n,this._daylightSavingAdjust(new Date(te,J-V,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,te,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+n+"</span></a>":Y?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=X?this.formatDate(r,this._daylightSavingAdjust(new Date(te,J+V,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,te,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>":Y?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>",a=this._get(t,"currentText"),s=this._get(t,"gotoCurrent")&&t.currentDay?q:z,a=X?this.formatDate(a,s,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(W?"":l)+"</div>":"",d=parseInt(this._get(t,"firstDay"),10),d=isNaN(d)?0:d,u=this._get(t,"showWeek"),h=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),x="",k=0;k<G[0];k++){for(w="",this.maxRows=4,C=0;C<G[1];C++){if(T=this._daylightSavingAdjust(new Date(te,J,t.selectedDay)),S=" ui-corner-all",A="",U){if(A+="<div class='ui-datepicker-group",G[1]>1)switch(C){case 0:A+=" ui-datepicker-group-first",S=" ui-corner-"+(W?"right":"left");break;case G[1]-1:A+=" ui-datepicker-group-last",S=" ui-corner-"+(W?"left":"right");break;default:A+=" ui-datepicker-group-middle",S=""}A+="'>"}for(A+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===k?W?o:i:"")+(/all|right/.test(S)&&0===k?W?i:o:"")+this._generateMonthYearHeader(t,J,te,Z,Q,k>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",D=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",_=0;7>_;_++)M=(_+d)%7,D+="<th"+((_+d+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[M]+"'>"+p[M]+"</span></th>";for(A+=D+"</tr></thead><tbody>",E=this._getDaysInMonth(te,J),te===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,E)),N=(this._getFirstDayOfMonth(te,J)-d+7)%7,L=Math.ceil((N+E)/7),P=U?this.maxRows>L?this.maxRows:L:L,this.maxRows=P,I=this._daylightSavingAdjust(new Date(te,J,1-N)),O=0;P>O;O++){for(A+="<tr>",K=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(I)+"</td>":"",_=0;7>_;_++)R=m?m.apply(t.input?t.input[0]:null,[I]):[!0,""],B=I.getMonth()!==J,H=B&&!y||!R[0]||Z&&Z>I||Q&&I>Q,K+="<td class='"+((_+d+6)%7>=5?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(I.getTime()===T.getTime()&&J===t.selectedMonth&&t._keyEvent||b.getTime()===I.getTime()&&b.getTime()===T.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!v?"":" "+R[1]+(I.getTime()===q.getTime()?" "+this._currentClass:"")+(I.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(B&&!v||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(B&&!v?"&#xa0;":H?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===z.getTime()?" ui-state-highlight":"")+(I.getTime()===q.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);A+=K+"</tr>"}J++,J>11&&(J=0,te++),A+="</tbody></table>"+(U?"</div>"+(G[0]>0&&C===G[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),w+=A}x+=w}return x+=c,t._keyEvent=!1,x},_generateMonthYearHeader:function(t,e,n,i,r,o,a,s){var l,c,d,u,h,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",x="";if(o||!m)x+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=i&&i.getFullYear()===n,c=r&&r.getFullYear()===n,x+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",d=0;12>d;d++)(!l||d>=i.getMonth())&&(!c||d<=r.getMonth())&&(x+="<option value='"+d+"'"+(d===e?" selected='selected'":"")+">"+s[d]+"</option>");x+="</select>"}if(y||(b+=x+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(u=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=i?Math.max(f,i.getFullYear()):f,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!o&&m&&v?"":"&#xa0;")+x),b+="</div>"},_adjustInstDate:function(t,e,n){var i=t.drawYear+("Y"===n?e:0),r=t.drawMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(t)
},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&n>e?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(0>e?e:r[0]*r[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,s=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!s||e.getFullYear()<=s)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new n,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.3"}(jQuery),function(){$(document).on("change",$("#balance_reason"),function(){return $("#detail_reason").load("/admin/reasons/"+$("#balance_reason").val()+"/detail_reason")}),$(document).on("ready",function(){return $("#balance_reason").trigger("change")})}.call(this),function(){$(document).ready(function(){return $("#cargo_huoyun_route_id").change(function(){var t;return t=$(this).find("option:selected").val(),window.location.href="/admin/cargo_outs/new?to="+t}),$("#check_all").click(function(){return $(".check").each(function(){return $(this).prop("checked","checked")})}),$("#uncheck_all").click(function(){return $(".check").each(function(){return $(this).prop("checked",!1)})})})}.call(this),/* ==========================================================
 * bootstrap-carousel.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(e){var n=this.getActiveIndex(),i=this;if(!(e>this.$items.length-1||0>e))return this.sliding?this.$element.one("slid",function(){i.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(e,n){var i,r=this.$element.find(".item.active"),o=n||r[e](),a=this.interval,s="next"==e?"left":"right",l="next"==e?"first":"last",c=this;if(this.sliding=!0,a&&this.pause(),o=o.length?o:this.$element.find(".item")[l](),i=t.Event("slide",{relatedTarget:o[0],direction:s}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(c.$indicators.children()[c.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;o.addClass(e),o[0].offsetWidth,r.addClass(s),o.addClass(s),this.$element.one(t.support.transition.end,function(){o.removeClass([e,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var i=t(this),r=i.data("carousel"),o=t.extend({},t.fn.carousel.defaults,"object"==typeof n&&n),a="string"==typeof n?n:o.slide;r||i.data("carousel",r=new e(this,o)),"number"==typeof n?r.to(n):a?r[a]():o.interval&&r.pause().cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,i,r=t(this),o=t(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),a=t.extend({},o.data(),r.data());o.carousel(a),(i=r.attr("data-slide-to"))&&o.data("carousel").pause().to(i).cycle(),e.preventDefault()})}(window.jQuery),$(document).ready(function(){$.datepicker.regional["zh-CN"]={closeText:"关闭",prevText:"&#x3C;上月",nextText:"下月&#x3E;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},$.datepicker.setDefaults($.datepicker.regional["zh-CN"]),$(".date").datepicker()}),$(document).ready(function(){controller_name=$("body").attr("class"),$("li."+controller_name).addClass("active"),$("#vr tr").hover(function(){$(this).parent().find("tr").removeClass("tr_hover"),$(this).parent().find("tr:contains("+$(this).find("td:first").text()+")").addClass("tr_hover")})}),$(".carousel").carousel();